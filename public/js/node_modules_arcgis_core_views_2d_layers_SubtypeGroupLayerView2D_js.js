"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([["node_modules_arcgis_core_views_2d_layers_SubtypeGroupLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/AggregateGraphic.js":
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/AggregateGraphic.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
var p;let s=p=class extends _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this.isAggregate=!0}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const r=this.sourceLayer&&this.sourceLayer.featureReduction;return r&&"popupTemplate"in r&&r.popupEnabled?r.popupTemplate:null}getObjectId(){return this.objectId}clone(){return new p({objectId:this.objectId,...this.cloneProperties()})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Boolean})],s.prototype,"isAggregate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,json:{read:!0}})],s.prototype,"objectId",void 0),s=p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.AggregateGraphic")],s);const c=s;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/BidiEngine.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/core/BidiEngine.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ C)
/* harmony export */ });
/* harmony import */ var _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bidiEngineTables.js */ "./node_modules/@arcgis/core/core/bidiEngineTables.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class C{constructor(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}bidiTransform(t,r,e){if(this.sourceToTarget=[],this.targetToSource=[],!t)return"";if(ot(this.sourceToTarget,this.targetToSource,t.length),!this.checkParameters(r,e))return t;r=this.inputFormat,e=this.outputFormat;let n=t;const o=ct,i=rt(r.charAt(1)),u=rt(e.charAt(1)),s=("I"===r.charAt(0)?"L":r.charAt(0))+i,a=("I"===e.charAt(0)?"L":e.charAt(0))+u,f=r.charAt(2)+e.charAt(2);o.defInFormat=s,o.defOutFormat=a,o.defSwap=f;const c=V(t,s,a,f,o);let l=!1;return"R"===e.charAt(1)?l=!0:"C"!==e.charAt(1)&&"D"!==e.charAt(1)||(l="rtl"===this.checkContextual(c)),this.sourceToTarget=st,this.targetToSource=it(this.sourceToTarget),at=this.targetToSource,n=r.charAt(3)===e.charAt(3)?c:"S"===e.charAt(3)?I(l,c,!0):k(c,l,!0),this.sourceToTarget=st,this.targetToSource=at,this.levels=ft,n}_inputFormatSetter(t){if(!At.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=t}_outputFormatSetter(t){if(!At.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=t}checkParameters(t,r){return t?this._inputFormatSetter(t):t=this.inputFormat,r?this._outputFormatSetter(r):r=this.outputFormat,t!==r}checkContextual(t){let r=x(t);if("ltr"!==r&&"rtl"!==r){try{r=document.dir.toLowerCase()}catch(e){}"ltr"!==r&&"rtl"!==r&&(r="ltr")}return r}hasBidiChar(t){return gt.test(t)}}function V(t,r,e,n,o){const i=E(t,{inFormat:r,outFormat:e,swap:n},o);if(i.inFormat===i.outFormat)return t;r=i.inFormat,e=i.outFormat,n=i.swap;const u=r.substring(0,1),s=r.substring(1,4),a=e.substring(0,1),f=e.substring(1,4);if(o.inFormat=r,o.outFormat=e,o.swap=n,"L"===u&&"VLTR"===e){if("LTR"===s)return o.dir=Tt,y(t,o);if("RTL"===s)return o.dir=Lt,y(t,o)}if("V"===u&&"V"===a)return o.dir="RTL"===s?Lt:Tt,M(t,o);if("L"===u&&"VRTL"===e)return"LTR"===s?(o.dir=Tt,t=y(t,o)):(o.dir=Lt,t=y(t,o)),M(t);if("VLTR"===r&&"LLTR"===e)return o.dir=Tt,y(t,o);if("V"===u&&"L"===a&&s!==f)return t=M(t),"RTL"===s?V(t,"LLTR","VLTR",n,o):V(t,"LRTL","VRTL",n,o);if("VRTL"===r&&"LRTL"===e)return V(t,"LRTL","VRTL",n,o);if("L"===u&&"L"===a){const r=o.swap;return o.swap=r.substr(0,1)+"N","RTL"===s?(o.dir=Lt,t=y(t,o),o.swap="N"+r.substr(1,2),o.dir=Tt,t=y(t,o)):(o.dir=Tt,t=y(t,o),o.swap="N"+r.substr(1,2),t=V(t,"VLTR","LRTL",o.swap,o)),t}return t}function E(t,r,e){if(void 0===r.inFormat&&(r.inFormat=e.defInFormat),void 0===r.outFormat&&(r.outFormat=e.defOutFormat),void 0===r.swap&&(r.swap=e.defSwap),r.inFormat===r.outFormat)return r;const n=r.inFormat.substring(0,1),o=r.outFormat.substring(0,1);let i,u=r.inFormat.substring(1,4),s=r.outFormat.substring(1,4);return"C"===u.charAt(0)&&(i=x(t),u="ltr"===i||"rtl"===i?i.toUpperCase():"L"===r.inFormat.charAt(2)?"LTR":"RTL",r.inFormat=n+u),"C"===s.charAt(0)&&(i=x(t),"rtl"===i?s="RTL":"ltr"===i?(i=O(t),s=i.toUpperCase()):s="L"===r.outFormat.charAt(2)?"LTR":"RTL",r.outFormat=o+s),r}function I(t,r,e){if(0===r.length)return"";void 0===t&&(t=!0),void 0===e&&(e=!0);const n=(r=String(r)).split("");let o=0,i=1,u=n.length;t||(o=n.length-1,i=-1,u=1);const s=j(n,o,i,u,e);let a="";for(let f=0;f<n.length;f++)e&&W(s,s.length,f)>-1?(ut(at,f,!t,-1),st.splice(f,1)):a+=n[f];return a}function j(t,r,e,n,o){let i=0;const u=[];let s=0;for(let a=r;a*e<n;a+=e)if(Z(t[a])||tt(t[a])){if("ل"===t[a]&&q(t,a+e,e,n)){t[a]=nt(t[a+e],0===i?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.LamAlefInialTableFE:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.LamAlefMedialTableFE),a+=e,et(t,a,e,n),o&&(u[s]=a,s++),i=0;continue}const r=t[a];1===i?t[a]=$(t,a+e,e,n)?Q(t[a]):X(t[a],_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.FinalForm):!0===$(t,a+e,e,n)?t[a]=X(t[a],_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.InitialForm):t[a]=X(t[a],_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.IsolatedForm),tt(r)||(i=1),!0===K(r)&&(i=0)}else i=0;return u}function x(t){const r=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(t);return r?r[0]<="z"?"ltr":"rtl":""}function O(t){const r=t.split("");return r.reverse(),x(r.join(""))}function k(e,n,o){if(0===e.length)return"";void 0===o&&(o=!0),void 0===n&&(n=!0);let i="";const u=(e=String(e)).split("");for(let s=0;s<e.length;s++){let a=!1;if(u[s]>="ﹰ"&&u[s]<"\ufeff"){const f=e.charCodeAt(s);u[s]>="ﻵ"&&u[s]<="ﻼ"?(n?(s>0&&o&&" "===u[s-1]?i=i.substring(0,i.length-1)+"ل":(i+="ل",a=!0),i+=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.AlefTable[(f-65269)/2]):(i+=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.AlefTable[(f-65269)/2],i+="ل",s+1<e.length&&o&&" "===u[s+1]?s++:a=!0),a&&(ut(at,s,!0,1),st.splice(s,0,st[s]))):i+=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.FETo06Table[f-65136]}else i+=u[s]}return i}function y(t,r){const e=t.split(""),n=[];return D(e,n,r),P(e,n,r),G(2,e,n,r),G(1,e,n,r),ft=n,e.join("")}function D(t,r,o){const i=t.length,u=o.dir?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.impTabRtl:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.impTabLtr;let a=0,f=-1;const c=[],l=[];o.hiLevel=o.dir,o.lastArabic=!1,o.hasUbatAl=!1,o.hasUbatB=!1,o.hasUbatS=!1;for(let e=0;e<i;e++)c[e]=z(t[e]);for(let e=0;e<i;e++){const n=a,i=H(t,c,l,e,o);l[e]=i,a=u[n][i];const h=240&a;a&=15;const T=u[a][lt];if(r[e]=T,h>0)if(16===h){for(let t=f;t<e;t++)r[t]=1;f=-1}else f=-1;if(u[a][ht])-1===f&&(f=e);else if(f>-1){for(let t=f;t<e;t++)r[t]=T;f=-1}c[e]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_B&&(r[e]=0),o.hiLevel|=T}o.hasUbatS&&Y(c,r,i,o)}function Y(t,r,e,n){for(let o=0;o<e;o++)if(t[o]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_S){r[o]=n.dir;for(let e=o-1;e>=0&&t[e]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_WS;e--)r[e]=n.dir}}function P(t,r,e){if(0!==e.hiLevel&&e.swap.substr(0,1)!==e.swap.substr(1,2))for(let n=0;n<t.length;n++)1===r[n]&&(t[n]=J(t[n]))}function z(t){const r=t.charCodeAt(0),e=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.PrimaryTable[r>>8];return e<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.TBBASE?e:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UnicodeTable[e-_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.TBBASE][255&r]}function M(t,r){const e=t.split("");if(r){const t=[];D(e,t,r),ft=t}return e.reverse(),st.reverse(),e.join("")}function W(t,r,e){for(let n=0;n<r;n++)if(t[n]===e)return n;return-1}function Z(t){for(let r=0;r<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ArabicAlefBetIntervalsBegine.length;r++)if(t>=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ArabicAlefBetIntervalsBegine[r]&&t<=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ArabicAlefBetIntervalsEnd[r])return!0;return!1}function $(t,r,e,n){for(;r*e<n&&tt(t[r]);)r+=e;return!!(r*e<n&&Z(t[r]))}function q(r,e,n,o){for(;e*n<o&&tt(r[e]);)e+=n;let i=" ";if(!(e*n<o))return!1;i=r[e];for(let u=0;u<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.AlefTable.length;u++)if(_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.AlefTable[u]===i)return!0;return!1}function G(t,r,e,n){if(n.hiLevel<t)return;if(1===t&&n.dir===Lt&&!n.hasUbatB)return r.reverse(),void st.reverse();const o=r.length;let i,u,s,a,f,c=0;for(;c<o;){if(e[c]>=t){for(i=c+1;i<o&&e[i]>=t;)i++;for(u=c,s=i-1;u<s;u++,s--)a=r[u],r[u]=r[s],r[s]=a,f=st[u],st[u]=st[s],st[s]=f;c=i}c++}}function H(t,r,e,n,o){const i=r[n];return{UBAT_L:()=>(o.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_L),UBAT_R:()=>(o.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_R),UBAT_ON:()=>_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON,UBAT_AN:()=>_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_AN,UBAT_EN:()=>o.lastArabic?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_AN:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_EN,UBAT_AL:()=>(o.lastArabic=!0,o.hasUbatAl=!0,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_R),UBAT_WS:()=>_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON,UBAT_CS:()=>{let t,i;return n<1||n+1>=r.length||(t=e[n-1])!==_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_EN&&t!==_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_AN||(i=r[n+1])!==_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_EN&&i!==_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_AN?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON:(o.lastArabic&&(i=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_AN),i===t?i:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON)},UBAT_ES:()=>(n>0?e[n-1]:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_B)===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_EN&&n+1<r.length&&r[n+1]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_EN?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_EN:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON,UBAT_ET:()=>{if(n>0&&e[n-1]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_EN)return _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_EN;if(o.lastArabic)return _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON;let t=n+1;const i=r.length;for(;t<i&&r[t]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ET;)t++;return t<i&&r[t]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_EN?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_EN:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON},UBAT_NSM:()=>{if("VLTR"===o.inFormat){const e=r.length;let o=n+1;for(;o<e&&r[o]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_NSM;)o++;if(o<e){const e=t[n].charCodeAt[0],i=e>=1425&&e<=2303||64286===e,u=r[o];if(i&&(u===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_R||u===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_AL))return _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_R}}return n<1||r[n-1]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_B?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON:e[n-1]},UBAT_B:()=>(o.lastArabic=!0,o.hasUbatB=!0,o.dir),UBAT_S:()=>(o.hasUbatS=!0,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON),UBAT_LRE:()=>(o.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON),UBAT_RLE:()=>(o.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON),UBAT_LRO:()=>(o.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON),UBAT_RLO:()=>(o.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON),UBAT_PDF:()=>(o.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON),UBAT_BN:()=>_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.UBAT_ON}[_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.TYPES_NAMES[i]]()}function J(t){let r,e=0,n=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.SwapTable.length-1;for(;e<=n;)if(r=Math.floor((e+n)/2),t<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.SwapTable[r][0])n=r-1;else{if(!(t>_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.SwapTable[r][0]))return _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.SwapTable[r][1];e=r+1}return t}function K(t){for(let r=0;r<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.StandAlonForm.length;r++)if(_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.StandAlonForm[r]===t)return!0;return!1}function Q(t){for(let r=0;r<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.BaseForm.length;r++)if(t===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.BaseForm[r])return _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.MedialForm[r];return t}function X(t,r){for(let e=0;e<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.BaseForm.length;e++)if(t===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.BaseForm[e])return r[e];return t}function tt(t){return t>="ً"&&t<="ٕ"}function rt(t){return"L"===t?"LTR":"R"===t?"RTL":"C"===t?"CLR":"D"===t?"CRL":""}function et(t,r,e,n){for(;r*e<n&&tt(t[r]);)r+=e;return r*e<n&&(t[r]=" ",!0)}function nt(r,e){for(let n=0;n<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.AlefTable.length;n++)if(r===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.AlefTable[n])return e[n];return r}function ot(t,r,e){st=[],ft=[];for(let n=0;n<e;n++)t[n]=n,r[n]=n,st[n]=n}function it(t){const r=new Array(t.length);for(let e=0;e<t.length;e++)r[t[e]]=e;return r}function ut(t,r,e,n){for(let o=0;o<t.length;o++)(t[o]>r||!e&&t[o]===r)&&(t[o]+=n)}let st=[],at=[],ft=[];const ct={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},lt=5,ht=6,Tt=0,Lt=1,At=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,gt=/[\u0591-\u06ff\ufb1d-\ufefc]/;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/BidiText.js":
/*!****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/BidiText.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "bidiText": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _BidiEngine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BidiEngine.js */ "./node_modules/@arcgis/core/core/BidiEngine.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const i=new _BidiEngine_js__WEBPACK_IMPORTED_MODULE_0__["default"];function n(r){if(!i.hasBidiChar(r))return[r,!1];let n;return n="rtl"===i.checkContextual(r)?"IDNNN":"ICNNN",[i.bidiTransform(r,n,"VLYSN"),!0]}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/MD5.js":
/*!***********************************************!*\
  !*** ./node_modules/@arcgis/core/core/MD5.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createMD5Hash": () => (/* binding */ x),
/* harmony export */   "outputTypes": () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const n={Base64:0,Hex:1,String:2,Raw:3},t=8,r=(1<<t)-1;function e(n,t){const r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(n){const e=[];for(let o=0,u=n.length*t;o<u;o+=t)e[o>>5]|=(n.charCodeAt(o/t)&r)<<o%32;return e}function u(n){const e=[];for(let o=0,u=32*n.length;o<u;o+=t)e.push(String.fromCharCode(n[o>>5]>>>o%32&r));return e.join("")}function c(n){const t="0123456789abcdef",r=[];for(let e=0,o=4*n.length;e<o;e++)r.push(t.charAt(n[e>>2]>>e%4*8+4&15)+t.charAt(n[e>>2]>>e%4*8&15));return r.join("")}function f(n){const t="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=[];for(let o=0,u=4*n.length;o<u;o+=3){const u=(n[o>>2]>>o%4*8&255)<<16|(n[o+1>>2]>>(o+1)%4*8&255)<<8|n[o+2>>2]>>(o+2)%4*8&255;for(let c=0;c<4;c++)8*o+6*c>32*n.length?e.push(t):e.push(r.charAt(u>>6*(3-c)&63))}return e.join("")}function s(n,t){return n<<t|n>>>32-t}function i(n,t,r,o,u,c){return e(s(e(e(t,n),e(o,c)),u),r)}function h(n,t,r,e,o,u,c){return i(t&r|~t&e,n,t,o,u,c)}function a(n,t,r,e,o,u,c){return i(t&e|r&~e,n,t,o,u,c)}function l(n,t,r,e,o,u,c){return i(t^r^e,n,t,o,u,c)}function g(n,t,r,e,o,u,c){return i(r^(t|~e),n,t,o,u,c)}function p(n,t){n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;let r=1732584193,o=-271733879,u=-1732584194,c=271733878;for(let f=0;f<n.length;f+=16){const t=r,s=o,i=u,p=c;r=h(r,o,u,c,n[f+0],7,-680876936),c=h(c,r,o,u,n[f+1],12,-389564586),u=h(u,c,r,o,n[f+2],17,606105819),o=h(o,u,c,r,n[f+3],22,-1044525330),r=h(r,o,u,c,n[f+4],7,-176418897),c=h(c,r,o,u,n[f+5],12,1200080426),u=h(u,c,r,o,n[f+6],17,-1473231341),o=h(o,u,c,r,n[f+7],22,-45705983),r=h(r,o,u,c,n[f+8],7,1770035416),c=h(c,r,o,u,n[f+9],12,-1958414417),u=h(u,c,r,o,n[f+10],17,-42063),o=h(o,u,c,r,n[f+11],22,-1990404162),r=h(r,o,u,c,n[f+12],7,1804603682),c=h(c,r,o,u,n[f+13],12,-40341101),u=h(u,c,r,o,n[f+14],17,-1502002290),o=h(o,u,c,r,n[f+15],22,1236535329),r=a(r,o,u,c,n[f+1],5,-165796510),c=a(c,r,o,u,n[f+6],9,-1069501632),u=a(u,c,r,o,n[f+11],14,643717713),o=a(o,u,c,r,n[f+0],20,-373897302),r=a(r,o,u,c,n[f+5],5,-701558691),c=a(c,r,o,u,n[f+10],9,38016083),u=a(u,c,r,o,n[f+15],14,-660478335),o=a(o,u,c,r,n[f+4],20,-405537848),r=a(r,o,u,c,n[f+9],5,568446438),c=a(c,r,o,u,n[f+14],9,-1019803690),u=a(u,c,r,o,n[f+3],14,-187363961),o=a(o,u,c,r,n[f+8],20,1163531501),r=a(r,o,u,c,n[f+13],5,-1444681467),c=a(c,r,o,u,n[f+2],9,-51403784),u=a(u,c,r,o,n[f+7],14,1735328473),o=a(o,u,c,r,n[f+12],20,-1926607734),r=l(r,o,u,c,n[f+5],4,-378558),c=l(c,r,o,u,n[f+8],11,-2022574463),u=l(u,c,r,o,n[f+11],16,1839030562),o=l(o,u,c,r,n[f+14],23,-35309556),r=l(r,o,u,c,n[f+1],4,-1530992060),c=l(c,r,o,u,n[f+4],11,1272893353),u=l(u,c,r,o,n[f+7],16,-155497632),o=l(o,u,c,r,n[f+10],23,-1094730640),r=l(r,o,u,c,n[f+13],4,681279174),c=l(c,r,o,u,n[f+0],11,-358537222),u=l(u,c,r,o,n[f+3],16,-722521979),o=l(o,u,c,r,n[f+6],23,76029189),r=l(r,o,u,c,n[f+9],4,-640364487),c=l(c,r,o,u,n[f+12],11,-421815835),u=l(u,c,r,o,n[f+15],16,530742520),o=l(o,u,c,r,n[f+2],23,-995338651),r=g(r,o,u,c,n[f+0],6,-198630844),c=g(c,r,o,u,n[f+7],10,1126891415),u=g(u,c,r,o,n[f+14],15,-1416354905),o=g(o,u,c,r,n[f+5],21,-57434055),r=g(r,o,u,c,n[f+12],6,1700485571),c=g(c,r,o,u,n[f+3],10,-1894986606),u=g(u,c,r,o,n[f+10],15,-1051523),o=g(o,u,c,r,n[f+1],21,-2054922799),r=g(r,o,u,c,n[f+8],6,1873313359),c=g(c,r,o,u,n[f+15],10,-30611744),u=g(u,c,r,o,n[f+6],15,-1560198380),o=g(o,u,c,r,n[f+13],21,1309151649),r=g(r,o,u,c,n[f+4],6,-145523070),c=g(c,r,o,u,n[f+11],10,-1120210379),u=g(u,c,r,o,n[f+2],15,718787259),o=g(o,u,c,r,n[f+9],21,-343485551),r=e(r,t),o=e(o,s),u=e(u,i),c=e(c,p)}return[r,o,u,c]}function x(r,e=n.Hex){const s=e||n.Base64,i=p(o(r),r.length*t);switch(s){case n.Raw:return i;case n.Hex:return c(i);case n.String:return u(i);case n.Base64:return f(i)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/bidiEngineTables.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/bidiEngineTables.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AlefTable": () => (/* binding */ B),
/* harmony export */   "ArabicAlefBetIntervalsBegine": () => (/* binding */ o),
/* harmony export */   "ArabicAlefBetIntervalsEnd": () => (/* binding */ t),
/* harmony export */   "BaseForm": () => (/* binding */ _),
/* harmony export */   "FETo06Table": () => (/* binding */ O),
/* harmony export */   "FinalForm": () => (/* binding */ E),
/* harmony export */   "InitialForm": () => (/* binding */ R),
/* harmony export */   "IsolatedForm": () => (/* binding */ L),
/* harmony export */   "LamAlefInialTableFE": () => (/* binding */ T),
/* harmony export */   "LamAlefMedialTableFE": () => (/* binding */ U),
/* harmony export */   "MedialForm": () => (/* binding */ N),
/* harmony export */   "PrimaryTable": () => (/* binding */ m),
/* harmony export */   "StandAlonForm": () => (/* binding */ S),
/* harmony export */   "SwapTable": () => (/* binding */ A),
/* harmony export */   "TBBASE": () => (/* binding */ l),
/* harmony export */   "TYPES_NAMES": () => (/* binding */ k),
/* harmony export */   "UBAT_AL": () => (/* binding */ F),
/* harmony export */   "UBAT_AN": () => (/* binding */ s),
/* harmony export */   "UBAT_B": () => (/* binding */ C),
/* harmony export */   "UBAT_BN": () => (/* binding */ j),
/* harmony export */   "UBAT_CS": () => (/* binding */ P),
/* harmony export */   "UBAT_EN": () => (/* binding */ r),
/* harmony export */   "UBAT_ES": () => (/* binding */ W),
/* harmony export */   "UBAT_ET": () => (/* binding */ a),
/* harmony export */   "UBAT_L": () => (/* binding */ n),
/* harmony export */   "UBAT_LRE": () => (/* binding */ d),
/* harmony export */   "UBAT_LRO": () => (/* binding */ h),
/* harmony export */   "UBAT_NSM": () => (/* binding */ b),
/* harmony export */   "UBAT_ON": () => (/* binding */ x),
/* harmony export */   "UBAT_PDF": () => (/* binding */ g),
/* harmony export */   "UBAT_R": () => (/* binding */ p),
/* harmony export */   "UBAT_RLE": () => (/* binding */ f),
/* harmony export */   "UBAT_RLO": () => (/* binding */ i),
/* harmony export */   "UBAT_S": () => (/* binding */ D),
/* harmony export */   "UBAT_WS": () => (/* binding */ M),
/* harmony export */   "UnicodeTable": () => (/* binding */ q),
/* harmony export */   "impTabLtr": () => (/* binding */ c),
/* harmony export */   "impTabRtl": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const A=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["«","»"],["»","«"],["‹","›"],["›","‹"],["⁽","⁾"],["⁾","⁽"],["₍","₎"],["₎","₍"],["≤","≥"],["≥","≤"],["〈","〉"],["〉","〈"],["﹙","﹚"],["﹚","﹙"],["﹛","﹜"],["﹜","﹛"],["﹝","﹞"],["﹞","﹝"],["﹤","﹥"],["﹥","﹤"]],B=["آ","أ","إ","ا"],T=["ﻵ","ﻷ","ﻹ","ﻻ"],U=["ﻶ","ﻸ","ﻺ","ﻼ"],_=["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ی","ئ","ؤ"],L=["ﺍ","ﺏ","ﺕ","ﺙ","ﺝ","ﺡ","ﺥ","ﺩ","ﺫ","ﺭ","ﺯ","ﺱ","ﺵ","ﺹ","ﺽ","ﻁ","ﻅ","ﻉ","ﻍ","ﻑ","ﻕ","ﻙ","ﻝ","ﻡ","ﻥ","ﻩ","ﻭ","ﻱ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯼ","ﺉ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺉ","ﺅ"],E=["ﺎ","ﺐ","ﺖ","ﺚ","ﺞ","ﺢ","ﺦ","ﺪ","ﺬ","ﺮ","ﺰ","ﺲ","ﺶ","ﺺ","ﺾ","ﻂ","ﻆ","ﻊ","ﻎ","ﻒ","ﻖ","ﻚ","ﻞ","ﻢ","ﻦ","ﻪ","ﻮ","ﻲ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯽ","ﺊ","ﺆ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺊ","ﺆ"],N=["ﺎ","ﺒ","ﺘ","ﺜ","ﺠ","ﺤ","ﺨ","ﺪ","ﺬ","ﺮ","ﺰ","ﺴ","ﺸ","ﺼ","ﻀ","ﻄ","ﻈ","ﻌ","ﻐ","ﻔ","ﻘ","ﻜ","ﻠ","ﻤ","ﻨ","ﻬ","ﻮ","ﻴ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯿ","ﺌ","ﺆ","ﹱ","ﹲ","ﹴ","ﹷ","ﹹ","ﹻ","ﹽ","ﹿ","ﺀ","ﺌ","ﺆ"],R=["ﺍ","ﺑ","ﺗ","ﺛ","ﺟ","ﺣ","ﺧ","ﺩ","ﺫ","ﺭ","ﺯ","ﺳ","ﺷ","ﺻ","ﺿ","ﻃ","ﻇ","ﻋ","ﻏ","ﻓ","ﻗ","ﻛ","ﻟ","ﻣ","ﻧ","ﻫ","ﻭ","ﻳ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯾ","ﺋ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺋ","ﺅ"],S=["ء","آ","أ","ؤ","إ","ا","ة","د","ذ","ر","ز","و","ى"],O=["ً","ً","ٌ","؟","ٍ","؟","َ","َ","ُ","ُ","ِ","ِ","ّ","ّ","ْ","ْ","ء","آ","آ","أ","أ","ؤ","ؤ","إ","إ","ئ","ئ","ئ","ئ","ا","ا","ب","ب","ب","ب","ة","ة","ت","ت","ت","ت","ث","ث","ث","ث","ج","ج","ج","ج","ح","ح","ح","ح","خ","خ","خ","خ","د","د","ذ","ذ","ر","ر","ز","ز","س","س","س","س","ش","ش","ش","ش","ص","ص","ص","ص","ض","ض","ض","ض","ط","ط","ط","ط","ظ","ظ","ظ","ظ","ع","ع","ع","ع","غ","غ","غ","غ","ف","ف","ف","ف","ق","ق","ق","ق","ك","ك","ك","ك","ل","ل","ل","ل","م","م","م","م","ن","ن","ن","ن","ه","ه","ه","ه","و","و","ى","ى","ي","ي","ي","ي","ﻵ","ﻶ","ﻷ","ﻸ","ﻹ","ﻺ","ﻻ","ﻼ","؟","؟","؟"],o=["ء","ف"],t=["غ","ي"],c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],e=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],n=0,p=1,r=2,s=3,x=4,C=5,D=6,F=7,M=8,P=9,W=10,a=11,b=12,d=13,f=14,g=15,h=16,i=17,j=18,k=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],l=100,m=[l+0,n,n,n,n,l+1,l+2,l+3,p,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,l+4,x,x,x,n,x,n,x,n,x,x,x,n,n,x,x,n,n,n,n,n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,x,x,n,n,x,x,n,n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,n,l+5,F,F,l+6,l+7],q=[[j,j,j,j,j,j,j,j,j,D,C,D,M,C,j,j,j,j,j,j,j,j,j,j,j,j,j,j,C,C,C,D,M,x,x,a,a,a,x,x,x,x,x,W,P,W,P,P,r,r,r,r,r,r,r,r,r,r,P,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,j,j,j,j,j,j,C,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,P,x,a,a,a,a,x,x,x,x,n,x,x,j,x,x,a,a,r,r,x,n,x,x,x,r,n,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,n,n,n,n,n,n,n,n],[n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,n,n,n,n,n,n,n,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,n,x,x,x,x,x,x,x,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,p,b,p,b,b,p,b,b,p,b,x,x,x,x,x,x,x,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,x,x,x,x,x,p,p,p,p,p,x,x,x,x,x,x,x,x,x,x,x],[s,s,s,s,x,x,x,x,F,a,a,F,P,F,x,x,b,b,b,b,b,b,b,b,b,b,b,F,x,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,s,s,s,s,s,s,s,s,s,s,a,s,s,F,F,F,b,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,s,x,b,b,b,b,b,b,F,F,b,b,x,b,b,b,b,F,F,r,r,r,r,r,r,r,r,r,r,F,F,F,F,F,F],[F,F,F,F,F,F,F,F,F,F,F,F,F,F,x,F,F,b,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,x,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,b,b,b,b,F,x,x,x,x,x,x,x,x,x,x,x,x,x,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,b,b,b,b,b,b,b,b,b,p,p,x,x,x,x,p,x,x,x,x,x],[M,M,M,M,M,M,M,M,M,M,M,j,j,j,n,p,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,M,C,d,f,g,h,i,P,a,a,a,a,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,P,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,M,j,j,j,j,j,x,x,x,x,x,j,j,j,j,j,j,r,n,x,x,r,r,r,r,r,r,W,W,x,x,x,n,r,r,r,r,r,r,r,r,r,r,W,W,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[n,n,n,n,n,n,n,x,x,x,x,x,x,x,x,x,x,x,x,n,n,n,n,n,x,x,x,x,x,p,b,p,p,p,p,p,p,p,p,p,p,W,p,p,p,p,p,p,p,p,p,p,p,p,p,x,p,p,p,p,p,x,p,x,p,p,x,p,p,x,p,p,p,p,p,p,p,p,p,p,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,b,b,b,b,b,b,b,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,P,x,P,x,x,P,x,x,x,x,x,x,x,x,x,a,x,x,W,W,x,x,x,x,x,a,a,x,x,x,x,x,F,F,F,F,F,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,x,x,j],[x,x,x,a,a,a,x,x,x,x,x,W,P,W,P,P,r,r,r,r,r,r,r,r,r,r,P,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,n,n,n,n,n,n,x,x,n,n,n,n,n,n,x,x,n,n,n,n,n,n,x,x,n,n,n,x,x,x,a,a,x,x,x,a,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]];


/***/ }),

/***/ "./node_modules/@arcgis/core/core/devEnvironmentUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/devEnvironmentUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "adjustStaticAGOUrl": () => (/* binding */ a),
/* harmony export */   "isDevEnvironment": () => (/* binding */ c),
/* harmony export */   "isTelemetryDevEnvironment": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function c(c){return c=c||globalThis.location.hostname,n.some((a=>{var o;return null!=(null==(o=c)?void 0:o.match(a))}))}function a(c,a){return c&&(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(r)?c.replace("static.arcgis.com","staticdev.arcgis.com"):null!=a.match(l)||null!=a.match(s)?c.replace("static.arcgis.com","staticqa.arcgis.com"):c:c}function o(c){c=c||globalThis.location.hostname;return[/^zrh-.+?\.esri\.com$/].concat(n).some((a=>{var o;return null!=(null==(o=c)?void 0:o.match(a))}))}const t=/^devext.arcgis.com$/,l=/^qaext.arcgis.com$/,r=/^[\w-]*\.mapsdevext.arcgis.com$/,s=/^[\w-]*\.mapsqa.arcgis.com$/,n=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,t,l,/^jsapps.esri.com$/,r,s];


/***/ }),

/***/ "./node_modules/@arcgis/core/core/floatRGBA.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/floatRGBA.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "packFloatRGBA": () => (/* binding */ o),
/* harmony export */   "unpackFloatRGBA": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function o(o,r,e=0){const i=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(o,0,f);for(let t=0;t<4;t++)r[e+t]=Math.floor(256*l(i*n[t]))}function r(t,o=0){let r=0;for(let n=0;n<4;n++)r+=t[o+n]*e[n];return r}const n=[1,256,65536,16777216],e=[1/256,1/65536,1/16777216,1/4294967296],f=r(new Uint8ClampedArray([255,255,255,255]));function l(t){return t-Math.floor(t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/quantizationUtils.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "equals": () => (/* binding */ f),
/* harmony export */   "getQuantizedBoundsCoordsArray": () => (/* binding */ Y),
/* harmony export */   "getQuantizedBoundsCoordsArrayArray": () => (/* binding */ _),
/* harmony export */   "getQuantizedBoundsPaths": () => (/* binding */ w),
/* harmony export */   "getQuantizedBoundsPoints": () => (/* binding */ A),
/* harmony export */   "getQuantizedBoundsRings": () => (/* binding */ j),
/* harmony export */   "quantizeBounds": () => (/* binding */ g),
/* harmony export */   "quantizeExtent": () => (/* binding */ G),
/* harmony export */   "quantizeGeometry": () => (/* binding */ U),
/* harmony export */   "quantizeMultipoint": () => (/* binding */ L),
/* harmony export */   "quantizePaths": () => (/* binding */ y),
/* harmony export */   "quantizePoint": () => (/* binding */ O),
/* harmony export */   "quantizePoints": () => (/* binding */ p),
/* harmony export */   "quantizePolygon": () => (/* binding */ S),
/* harmony export */   "quantizePolyline": () => (/* binding */ d),
/* harmony export */   "quantizeRings": () => (/* binding */ N),
/* harmony export */   "quantizeX": () => (/* binding */ x),
/* harmony export */   "quantizeY": () => (/* binding */ h),
/* harmony export */   "toQuantizationTransform": () => (/* binding */ s),
/* harmony export */   "unquantizeBounds": () => (/* binding */ P),
/* harmony export */   "unquantizeCoordsArray": () => (/* binding */ M),
/* harmony export */   "unquantizeCoordsArrayArray": () => (/* binding */ E),
/* harmony export */   "unquantizeExtent": () => (/* binding */ k),
/* harmony export */   "unquantizeMultipoint": () => (/* binding */ q),
/* harmony export */   "unquantizePaths": () => (/* binding */ F),
/* harmony export */   "unquantizePoint": () => (/* binding */ v),
/* harmony export */   "unquantizePoints": () => (/* binding */ b),
/* harmony export */   "unquantizePolygon": () => (/* binding */ B),
/* harmony export */   "unquantizePolyline": () => (/* binding */ C),
/* harmony export */   "unquantizeRings": () => (/* binding */ V),
/* harmony export */   "unquantizeX": () => (/* binding */ z),
/* harmony export */   "unquantizeY": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function l(n){return n&&"upperLeft"===n.originPosition}const a=(n,t,e)=>[t,e],m=(n,t,e)=>[t,e,n[2]],c=(n,t,e)=>[t,e,n[2],n[3]];function s(t){if(!t)return null;return{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(t.extent)?[t.extent.xmin,t.extent.ymax]:[0,0]}}function f(t,e){if(t===e||null==t&&null==e)return!0;if(null==t||null==e)return!1;let r,u,i,o,a,m;return l(t)?(r=t.translate[0],u=t.translate[1],i=t.scale[0]):(r=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(t.extent)?t.extent.xmin:0,u=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(t.extent)?t.extent.ymax:0,i=t.tolerance),l(e)?(o=e.translate[0],a=e.translate[1],m=e.scale[0]):(o=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(e.extent)?e.extent.xmin:0,a=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(e.extent)?e.extent.ymax:0,m=e.tolerance),r===o&&u===a&&i===m}function x({scale:n,translate:t},e){return Math.round((e-t[0])/n[0])}function h({scale:n,translate:t},e){return Math.round((t[1]-e)/n[1])}function I(n,t,e){const r=[];let u,i,o,l;for(let a=0;a<e.length;a++){const m=e[a];a>0?(o=x(n,m[0]),l=h(n,m[1]),o===u&&l===i||(r.push(t(m,o-u,l-i)),u=o,i=l)):(u=x(n,m[0]),i=h(n,m[1]),r.push(t(m,u,i)))}return r.length>0?r:null}function g(n,t,e){return t[0]=x(n,e[0]),t[3]=h(n,e[1]),t[2]=x(n,e[2]),t[1]=h(n,e[3]),t}function p(n,t,e,r){return I(n,e?r?c:m:r?m:a,t)}function N(n,t,e,r){const u=[],i=e?r?c:m:r?m:a;for(let o=0;o<t.length;o++){const e=I(n,i,t[o]);e&&e.length>=3&&u.push(e)}return u.length?u:null}function y(n,t,e,r){const u=[],i=e?r?c:m:r?m:a;for(let o=0;o<t.length;o++){const e=I(n,i,t[o]);e&&e.length>=2&&u.push(e)}return u.length?u:null}function z({scale:n,translate:t},e){return e*n[0]+t[0]}function T({scale:n,translate:t},e){return t[1]-e*n[1]}function M(n,t,e){const r=new Array(e.length);if(!e.length)return r;const[u,i]=n.scale;let o=z(n,e[0][0]),l=T(n,e[0][1]);r[0]=t(e[0],o,l);for(let a=1;a<e.length;a++){const n=e[a];o+=n[0]*u,l-=n[1]*i,r[a]=t(n,o,l)}return r}function E(n,t,e){const r=new Array(e.length);for(let u=0;u<e.length;u++)r[u]=M(n,t,e[u]);return r}function P(n,t,e){return e?(t[0]=z(n,e[0]),t[1]=T(n,e[3]),t[2]=z(n,e[2]),t[3]=T(n,e[1]),t):[z(n,t[0]),T(n,t[3]),z(n,t[2]),T(n,t[1])]}function b(n,t,e,r){return M(n,e?r?c:m:r?m:a,t)}function F(n,t,e,r){return E(n,e?r?c:m:r?m:a,t)}function V(n,t,e,r){return E(n,e?r?c:m:r?m:a,t)}function Y(n,t,e){let[r,u]=e[0],i=Math.min(r,t[0]),o=Math.min(u,t[1]),l=Math.max(r,t[2]),a=Math.max(u,t[3]);for(let m=1;m<e.length;m++){const[n,t]=e[m];r+=n,u+=t,n<0&&(i=Math.min(i,r)),n>0&&(l=Math.max(l,r)),t<0?o=Math.min(o,u):t>0&&(a=Math.max(a,u))}return n[0]=i,n[1]=o,n[2]=l,n[3]=a,n}function _(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let e=0;e<t.length;e++)Y(n,n,t[e]);return n}function A(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return Y(t,t,n)}function w(n){return _([0,0,0,0],n)}function j(n){return _([0,0,0,0],n)}function G(n,t,e,r,u){return t.xmin=x(n,e.xmin),t.ymin=h(n,e.ymin),t.xmax=x(n,e.xmax),t.ymax=h(n,e.ymax),t!==e&&(r&&(t.zmin=e.zmin,t.zmax=e.zmax),u&&(t.mmin=e.mmin,t.mmax=e.mmax)),t}function L(n,t,e,r,u){return t.points=p(n,e.points,r,u),t}function O(n,t,e,r,u){return t.x=x(n,e.x),t.y=h(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m)),t}function S(n,t,e,r,u){const i=N(n,e.rings,r,u);return i?(t.rings=i,t):null}function d(n,t,e,r,u){const i=y(n,e.paths,r,u);return i?(t.paths=i,t):null}function U(n,t){return n&&t?(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPoint)(t)?O(n,{},t,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolyline)(t)?d(n,{},t,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolygon)(t)?S(n,{},t,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isMultipoint)(t)?L(n,{},t,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isExtent)(t)?G(n,{},t,!1,!1):null:null}function k(n,t,e,r,u){return t.xmin=z(n,e.xmin),t.ymin=T(n,e.ymin),t.xmax=z(n,e.xmax),t.ymax=T(n,e.ymax),t!==e&&(r&&(t.zmin=e.zmin,t.zmax=e.zmax),u&&(t.mmin=e.mmin,t.mmax=e.mmax)),t}function q(t,e,r,u,i){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(r)&&(e.points=b(t,r.points,u,i)),e}function v(n,e,r,u,i){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isNone)(r)||(e.x=z(n,r.x),e.y=T(n,r.y),e!==r&&(u&&(e.z=r.z),i&&(e.m=r.m))),e}function B(t,e,r,u,i){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(r)&&(e.rings=V(t,r.rings,u,i)),e}function C(t,e,r,u,i){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(r)&&(e.paths=F(t,r.paths,u,i)),e}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/effects/EffectView.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/effects/EffectView.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "canInterpolateEffectStops": () => (/* binding */ p),
/* harmony export */   "convertEffectToStops": () => (/* binding */ _),
/* harmony export */   "default": () => (/* binding */ u),
/* harmony export */   "normalizeEffectStops": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parser.js */ "./node_modules/@arcgis/core/layers/effects/parser.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/layers/effects/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const a=-1;let h=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("mapview-transitions-duration"),this.effects=[]}set effect(t){if(this._get("effect")!==(t=t||"")){this._set("effect",t);try{this._transitionTo(_(t))}catch(e){this._transitionTo([]),_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this.declaredClass).warn("Invalid Effect",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&p(this._current,_(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}end(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&p(this._current,t,this.scale)?(this._final=t,this._to=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(t),m(this._current,this._to,this.scale),this._from=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set("effects",this._current[0]?(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=g(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set("effects",this._current[0]?(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set("scale",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],h.prototype,"_to",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],h.prototype,"duration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({value:""})],h.prototype,"effect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],h.prototype,"effects",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],h.prototype,"hasEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({value:0})],h.prototype,"scale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],h.prototype,"transitioning",null),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.effects.EffectView")],h);const u=h;function _(t){const e=(0,_parser_js__WEBPACK_IMPORTED_MODULE_8__.parse)(t)||[];return d(e)?[{scale:a,effects:e}]:e}function p(t,e,s){var r,i,n,c;if(null==(r=t[0])||!r.effects||null==(i=e[0])||!i.effects)return!0;return!(((null==(n=t[0])?void 0:n.scale)===a||(null==(c=e[0])?void 0:c.scale)===a)&&(t.length>1||e.length>1)&&s<=0)&&(0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.canInterpolateEffects)(t[0].effects,e[0].effects)}function m(t,e,s){var r,i;const n=t.length>e.length?t:e,c=t.length>e.length?e:t,o=c[c.length-1],l=null!=(r=null==o?void 0:o.scale)?r:s,h=null!=(i=null==o?void 0:o.effects)?i:[];for(let f=c.length;f<n.length;f++)c.push({scale:l,effects:[...h]});for(let u=0;u<n.length;u++)c[u].scale=c[u].scale===a?s:c[u].scale,n[u].scale=n[u].scale===a?s:n[u].scale,(0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.normalizeEffects)(c[u].effects,n[u].effects)}function g(t,e,s){return t+(e-t)*s}function d(t){const e=t[0];return!!e&&"type"in e}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/effects/FeatureEffectView.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/effects/FeatureEffectView.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _EffectView_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./EffectView.js */ "./node_modules/@arcgis/core/layers/effects/EffectView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let o=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._filter=null,this.duration=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("mapview-transitions-duration"),this._excludedEffectView=new _EffectView_js__WEBPACK_IMPORTED_MODULE_8__["default"](e),this._includedEffectView=new _EffectView_js__WEBPACK_IMPORTED_MODULE_8__["default"](e)}get excludedEffects(){return this._excludedEffectView.effects}set featureEffect(e){this._get("featureEffect")!==e&&this._transitionTo(e)}get filter(){var e;return this._filter||(null==(e=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.unwrap)(this.featureEffect))?void 0:e.filter)||null}get hasEffects(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}get includedEffects(){return this._includedEffectView.effects}set scale(e){this._set("scale",e),this._excludedEffectView.scale=e,this._includedEffectView.scale=e}get transitioning(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}transitionStep(e,t){this._set("scale",t),this.transitioning?(this._includedEffectView.transitionStep(e,t),this._excludedEffectView.transitionStep(e,t),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=t,this._includedEffectView.scale=t)}end(){this._includedEffectView.end(),this._excludedEffectView.end(),this._filter=null}_transitionTo(e){const t=this._get("featureEffect"),i=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.unwrap)(e),f=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.unwrap)(null==i?void 0:i.includedEffect),c=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.unwrap)(null==i?void 0:i.excludedEffect),r=this._includedEffectView.canTransitionTo(f)&&this._excludedEffectView.canTransitionTo(c);this._includedEffectView.effect=f,this._excludedEffectView.effect=c,this._set("featureEffect",i),this._filter=(null==i?void 0:i.filter)||(null==t?void 0:t.filter)||null,r||this.end()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],o.prototype,"_filter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],o.prototype,"_excludedEffectView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],o.prototype,"_includedEffectView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],o.prototype,"duration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],o.prototype,"excludedEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],o.prototype,"featureEffect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],o.prototype,"filter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],o.prototype,"hasEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],o.prototype,"includedEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({value:0})],o.prototype,"scale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],o.prototype,"transitioning",null),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.effects.FeatureEffectView")],o);const l=o;


/***/ }),

/***/ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "calculateTolerance": () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function t(t,e){return e?"xoffset"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):"yoffset"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;"number"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return"number"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>"size"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s="touch"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o="visualVariables"in n?r(s,n.visualVariables):s;if("simple"===n.type)return t(o,n.symbol);if("unique-value"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if("class-breaks"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMCursor.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PathGeometryCursor": () => (/* binding */ y),
/* harmony export */   "PathTransformationCursor": () => (/* binding */ C),
/* harmony export */   "cloneAndDecodeGeometry": () => (/* binding */ o),
/* harmony export */   "deltaDecodeGeometry": () => (/* binding */ c),
/* harmony export */   "deltaEncodeGeometry": () => (/* binding */ p),
/* harmony export */   "getCoord2D": () => (/* binding */ P),
/* harmony export */   "getId": () => (/* binding */ g),
/* harmony export */   "isClosedPath": () => (/* binding */ x),
/* harmony export */   "reverseMultipath": () => (/* binding */ m),
/* harmony export */   "reversePath": () => (/* binding */ f),
/* harmony export */   "setId": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CIMPlacements.js */ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function o(i){const h=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(i);return c(h),h}function a(t){if(t){for(let i=t.length-1;i>0;--i)t[i][0]-=t[i-1][0],t[i][1]-=t[i-1][1]}}function r(t){if(t)for(const i of t)a(i)}function l(t){if(t){const i=t.length;for(let h=1;h<i;++h)t[h][0]+=t[h-1][0],t[h][1]+=t[h-1][1]}}function u(t){if(t)for(const i of t)l(i)}function c(t){t&&((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolygon)(t)?u(t.rings):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolyline)(t)?u(t.paths):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isMultipoint)(t)&&l(t.points))}function p(t){t&&((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolygon)(t)?r(t.rings):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolyline)(t)?r(t.paths):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isMultipoint)(t)&&a(t.points))}function m(t){if(t)for(const i of t)f(i)}function f(t){t&&t.reverse()}function P(t,i,h){return[t[0]+(i[0]-t[0])*h,t[1]+(i[1]-t[1])*h]}function x(t){return!(!t||0===t.length)&&(t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1])}function g(t){return t[4]}function d(t,i){t[4]=i}class C{constructor(t,n,o,a){this.acceptPolygon=n,this.acceptPolyline=o,this.geomUnitsPerPoint=a,this.pathCount=-1,this.pathIndex=-1,this.iteratePath=!1,t&&((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolygon)(t)?n&&(this.multiPath=t.rings,this.isClosed=!0):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolyline)(t)?o&&(this.multiPath=t.paths,this.isClosed=!1):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isExtent)(t)&&n&&(this.multiPath=I(t).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length)),this.internalPlacement=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_2__.Placement}next(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;const t=this.processPath(this.multiPath[this.pathIndex]);if(t)return t}return this.pathCount=-1,this.pathIndex=-1,this.multiPath=null,null}}class y{constructor(t,i,h,n){this.inputGeometries=t,this.acceptPolygon=i,this.acceptPolyline=h,this.geomUnitsPerPoint=n,this.pathCount=-1,this.pathIndex=-1,this.iteratePath=!1}next(){for(;;){if(!this.multiPath){let t=this.inputGeometries.next();for(;t;){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolygon)(t)?this.acceptPolygon&&(this.multiPath=t.rings,this.isClosed=!0):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolyline)(t)?this.acceptPolyline&&(this.multiPath=t.paths,this.isClosed=!1):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isExtent)(t)&&this.acceptPolygon&&(this.multiPath=I(t).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length,this.pathIndex=-1;break}t=this.inputGeometries.next()}if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;const t=this.processPath(this.multiPath[this.pathIndex]);if(t)return t}this.pathCount=-1,this.pathIndex=-1,this.multiPath=null}}}function I(t){return{rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMEffects.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMEffects.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SimpleGeometryCursor": () => (/* binding */ r),
/* harmony export */   "clone": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class r{constructor(t){this._geometry=t}next(){const t=this._geometry;return this._geometry=null,t}}function e(r){return (0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(r)}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMOperators.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMOperators.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getEffectOperator": () => (/* binding */ A),
/* harmony export */   "getPlacementOperator": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _effects_EffectAddControlPoints_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./effects/EffectAddControlPoints.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectAddControlPoints.js");
/* harmony import */ var _effects_EffectArrow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./effects/EffectArrow.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectArrow.js");
/* harmony import */ var _effects_EffectBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./effects/EffectBuffer.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectBuffer.js");
/* harmony import */ var _effects_EffectControlMeasureLine_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./effects/EffectControlMeasureLine.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectControlMeasureLine.js");
/* harmony import */ var _effects_EffectCut_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./effects/EffectCut.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectCut.js");
/* harmony import */ var _effects_EffectDashes_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./effects/EffectDashes.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectDashes.js");
/* harmony import */ var _effects_EffectDonut_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./effects/EffectDonut.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectDonut.js");
/* harmony import */ var _effects_EffectJog_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./effects/EffectJog.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectJog.js");
/* harmony import */ var _effects_EffectMove_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./effects/EffectMove.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectMove.js");
/* harmony import */ var _effects_EffectOffset_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./effects/EffectOffset.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectOffset.js");
/* harmony import */ var _effects_EffectReverse_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./effects/EffectReverse.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectReverse.js");
/* harmony import */ var _effects_EffectRotate_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./effects/EffectRotate.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectRotate.js");
/* harmony import */ var _effects_EffectScale_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./effects/EffectScale.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectScale.js");
/* harmony import */ var _effects_EffectWave_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./effects/EffectWave.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectWave.js");
/* harmony import */ var _placements_PlacementAlongLineSameSize_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./placements/PlacementAlongLineSameSize.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAlongLineSameSize.js");
/* harmony import */ var _placements_PlacementAtExtremities_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./placements/PlacementAtExtremities.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtExtremities.js");
/* harmony import */ var _placements_PlacementAtRatioPositions_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./placements/PlacementAtRatioPositions.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtRatioPositions.js");
/* harmony import */ var _placements_PlacementInsidePolygon_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./placements/PlacementInsidePolygon.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementInsidePolygon.js");
/* harmony import */ var _placements_PlacementOnLine_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./placements/PlacementOnLine.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnLine.js");
/* harmony import */ var _placements_PlacementOnVertices_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./placements/PlacementOnVertices.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnVertices.js");
/* harmony import */ var _placements_PlacementPolygonCenter_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./placements/PlacementPolygonCenter.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementPolygonCenter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function A(p){if(!p)return null;switch(p.type){case"CIMGeometricEffectAddControlPoints":return _effects_EffectAddControlPoints_js__WEBPACK_IMPORTED_MODULE_0__.EffectAddControlPoints.local();case"CIMGeometricEffectArrow":return _effects_EffectArrow_js__WEBPACK_IMPORTED_MODULE_1__.EffectArrow.local();case"CIMGeometricEffectBuffer":return _effects_EffectBuffer_js__WEBPACK_IMPORTED_MODULE_2__.EffectBuffer.local();case"CIMGeometricEffectControlMeasureLine":return _effects_EffectControlMeasureLine_js__WEBPACK_IMPORTED_MODULE_3__.EffectControlMeasureLine.local();case"CIMGeometricEffectCut":return _effects_EffectCut_js__WEBPACK_IMPORTED_MODULE_4__.EffectCut.local();case"CIMGeometricEffectDashes":return _effects_EffectDashes_js__WEBPACK_IMPORTED_MODULE_5__.EffectDashes.local();case"CIMGeometricEffectDonut":return _effects_EffectDonut_js__WEBPACK_IMPORTED_MODULE_6__.EffectDonut.local();case"CIMGeometricEffectJog":return _effects_EffectJog_js__WEBPACK_IMPORTED_MODULE_7__.EffectJog.local();case"CIMGeometricEffectMove":return _effects_EffectMove_js__WEBPACK_IMPORTED_MODULE_8__.EffectMove.local();case"CIMGeometricEffectOffset":return _effects_EffectOffset_js__WEBPACK_IMPORTED_MODULE_9__.EffectOffset.local();case"CIMGeometricEffectReverse":return _effects_EffectReverse_js__WEBPACK_IMPORTED_MODULE_10__.EffectReverse.local();case"CIMGeometricEffectRotate":return _effects_EffectRotate_js__WEBPACK_IMPORTED_MODULE_11__.EffectRotate.local();case"CIMGeometricEffectScale":return _effects_EffectScale_js__WEBPACK_IMPORTED_MODULE_12__.EffectScale.local();case"CIMGeometricEffectWave":return _effects_EffectWave_js__WEBPACK_IMPORTED_MODULE_13__.EffectWave.local()}return null}function g(e){if(!e)return null;switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":return _placements_PlacementAlongLineSameSize_js__WEBPACK_IMPORTED_MODULE_14__.PlacementAlongLineSameSize.local();case"CIMMarkerPlacementAtExtremities":return _placements_PlacementAtExtremities_js__WEBPACK_IMPORTED_MODULE_15__.PlacementAtExtremities.local();case"CIMMarkerPlacementAtRatioPositions":return _placements_PlacementAtRatioPositions_js__WEBPACK_IMPORTED_MODULE_16__.PlacementAtRatioPositions.local();case"CIMMarkerPlacementInsidePolygon":return _placements_PlacementInsidePolygon_js__WEBPACK_IMPORTED_MODULE_17__.PlacementInsidePolygon.local();case"CIMMarkerPlacementOnLine":return _placements_PlacementOnLine_js__WEBPACK_IMPORTED_MODULE_18__.PlacementOnLine.local();case"CIMMarkerPlacementOnVertices":return _placements_PlacementOnVertices_js__WEBPACK_IMPORTED_MODULE_19__.PlacementOnVertices.local();case"CIMMarkerPlacementPolygonCenter":return _placements_PlacementPolygonCenter_js__WEBPACK_IMPORTED_MODULE_20__.PlacementPolygonCenter.local()}return null}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmptyPlacementCursor": () => (/* binding */ s),
/* harmony export */   "Placement": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class t{constructor(){this.setIdentity()}getAngle(){return(null==this.rz||0===this.rz&&1!==this.rz_c&&0!==this.rz_s)&&(this.rz=Math.atan2(this.rz_s,this.rz_c)),this.rz}setIdentity(){this.tx=0,this.ty=0,this.tz=0,this.s=1,this.rx=0,this.ry=0,this.rz=0,this.rz_c=1,this.rz_s=0}setTranslate(t,s){this.tx=t,this.ty=s}setTranslateZ(t){this.tz=t}setRotateCS(t,s){this.rz=void 0,this.rz_c=t,this.rz_s=s}setRotate(t){this.rz=t,this.rz_c=void 0,this.rz_s=void 0}setRotateY(t){this.ry=t}setScale(t){this.s=t}setMeasure(t){this.m=t}}class s{constructor(){}next(){return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const o=";base64,";class s{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){var r;return null!=(r=this._resourceMap.get(e))?r:null}async fetchResource(e,r){const t={width:0,height:0},o=this._resourceMap,s=o.get(e);if(s)return t.width=s.width,t.height=s.height,t;let c=this._inFlightResourceMap.get(e);return c||(c=i(e,r),this._inFlightResourceMap.set(e,c),c=c.then((r=>{if(this._inFlightResourceMap.delete(e),r.ok){o.set(e,r.value);const s=r.value;return t.width=s.width,t.height=s.height,t}return t})),c)}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}}function i(s,i){if(s.includes(o)){const e=new Image;return e.src=s,e.decode().then((()=>({ok:!0,value:e}))).catch((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(e)?{ok:!1,error:e}:{ok:!1,error:new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("invalid-resource",`Could not fetch requested resource at ${s}`)}))}return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(s,{responseType:"image",...i}).then((e=>({ok:!0,value:e.data}))).catch((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(e)?{ok:!1,error:e}:{ok:!1,error:new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("invalid-resource",`Could not fetch requested resource at ${s}`)}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CIMSymbolDrawHelper": () => (/* binding */ v),
/* harmony export */   "C_DEG_TO_RAD": () => (/* binding */ C),
/* harmony export */   "CanvasDrawHelper": () => (/* binding */ F),
/* harmony export */   "EnvDrawHelper": () => (/* binding */ L),
/* harmony export */   "HittestDrawHelper": () => (/* binding */ z),
/* harmony export */   "Transformation": () => (/* binding */ I),
/* harmony export */   "horizontalAlignment2HAlign": () => (/* binding */ j),
/* harmony export */   "lineGapType2LineHeight": () => (/* binding */ G),
/* harmony export */   "verticalAlignment2VAlign": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _core_BidiText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/BidiText.js */ "./node_modules/@arcgis/core/core/BidiText.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/ObjectPool.js */ "./node_modules/@arcgis/core/core/ObjectPool.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CIMEffects_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CIMEffects.js */ "./node_modules/@arcgis/core/symbols/cim/CIMEffects.js");
/* harmony import */ var _CIMOperators_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CIMOperators.js */ "./node_modules/@arcgis/core/symbols/cim/CIMOperators.js");
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CIMPlacements.js */ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js");
/* harmony import */ var _CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./CIMResourceManager.js */ "./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js");
/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Rect.js */ "./node_modules/@arcgis/core/symbols/cim/Rect.js");
/* harmony import */ var _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./TextRasterizer.js */ "./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js");
/* harmony import */ var _views_2d_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../views/2d/engine/webgl/alignmentUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js");
/* harmony import */ var _views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../views/2d/engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _views_2d_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../views/2d/engine/webgl/mesh/templates/shapingUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const C=Math.PI/180,R=10,T=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.symbols.cim.CIMSymbolDrawHelper");class I{constructor(t){this._t=t}static createIdentity(){return new I([1,0,0,0,1,0])}clone(){const t=this._t;return new I(t.slice())}transform(t){const e=this._t;return[e[0]*t[0]+e[1]*t[1]+e[2],e[3]*t[0]+e[4]*t[1]+e[5]]}static createScale(t,e){return new I([t,0,0,0,e,0])}scale(t,e){const s=this._t;return s[0]*=t,s[1]*=t,s[2]*=t,s[3]*=e,s[4]*=e,s[5]*=e,this}scaleRatio(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])}static createTranslate(t,e){return new I([0,0,t,0,0,e])}translate(t,e){const s=this._t;return s[2]+=t,s[5]+=e,this}static createRotate(t){const e=Math.cos(t),s=Math.sin(t);return new I([e,-s,0,s,e,0])}rotate(t){return I.multiply(this,I.createRotate(t),this)}static multiply(t,e,s){const i=t._t,r=e._t,n=i[0]*r[0]+i[3]*r[1],o=i[1]*r[0]+i[4]*r[1],a=i[2]*r[0]+i[5]*r[1]+r[2],h=i[0]*r[3]+i[3]*r[4],l=i[1]*r[3]+i[4]*r[4],c=i[2]*r[3]+i[5]*r[4]+r[5],m=s._t;return m[0]=n,m[1]=o,m[2]=a,m[3]=h,m[4]=l,m[5]=c,s}invert(){const t=this._t;let e=t[0]*t[4]-t[1]*t[3];if(0===e)return new I([0,0,0,0,0,0]);e=1/e;const s=(t[1]*t[5]-t[2]*t[4])*e,i=(t[2]*t[3]-t[0]*t[5])*e,r=t[4]*e,n=-t[1]*e,o=-t[3]*e,a=t[0]*e;return new I([r,n,s,o,a,i])}}class v{constructor(t,e){this._transfos=[],this._sizeTransfos=[],this._geomUnitsPerPoint=1,this._flippedYs=!1,this._placementPool=new _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_3__["default"](_CIMPlacements_js__WEBPACK_IMPORTED_MODULE_10__.Placement,null,null,100),this._earlyReturn=!1,this._mapRotation=0,this._resourceManager=t||new _CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_11__["default"],this._transfos.push(e||I.createIdentity()),this._sizeTransfos.push(e?e.scaleRatio():1)}setTransform(t,e){this._transfos=[t||I.createIdentity()],this._sizeTransfos=[e||(t?t.scaleRatio():1)]}setGeomUnitsPerPoint(t){this._geomUnitsPerPoint=t}setFlippedYs(t){this._flippedYs=t}transformPt(t){return this._transfos[this._transfos.length-1].transform(t)}transformSize(t){return t*this._sizeTransfos[this._sizeTransfos.length-1]}reverseTransformPt(t){return this._transfos[this._transfos.length-1].invert().transform(t)}reverseTransformSize(t){return t/this._sizeTransfos[this._sizeTransfos.length-1]}geomUnitsPerPoint(){return this.isEmbedded()?1:this._geomUnitsPerPoint}flippedYs(){return!this.isEmbedded()&&this._flippedYs}isEmbedded(){return this._transfos.length>1}back(){return this._transfos[this._transfos.length-1]}push(t,e){const s=e?t.scaleRatio():1;I.multiply(t,this.back(),t),this._transfos.push(t),this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*s)}pop(){this._transfos.splice(-1,1),this._sizeTransfos.splice(-1,1)}drawSymbol(t,e){if(t)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":this.drawMultiLayerSymbol(t,e);break;case"CIMTextSymbol":this.drawTextSymbol(t,e)}}drawMultiLayerSymbol(t,e){if(!t)return;const s=t.symbolLayers;if(!s)return;const i=t.effects;if(i&&i.length>0){const t=this.executeEffects(i,e);if(t){let e=t.next();for(;e;)this.drawSymbolLayers(s,e),e=t.next()}}else this.drawSymbolLayers(s,e)}executeEffects(t,e){let s=new _CIMEffects_js__WEBPACK_IMPORTED_MODULE_8__.SimpleGeometryCursor(e);for(const i of t){const t=(0,_CIMOperators_js__WEBPACK_IMPORTED_MODULE_9__.getEffectOperator)(i);t&&(s=t.execute(s,i,this.geomUnitsPerPoint(),this.flippedYs()))}return s}drawSymbolLayers(t,e){let s=t.length;for(;s--;){const i=t[s];if(!i||!1===i.enable)continue;const r=i.effects;if(r&&r.length>0){const t=this.executeEffects(r,e);if(t){let e=null;for(;(e=t.next())&&(this.drawSymbolLayer(i,e),!this._earlyReturn););}}else this.drawSymbolLayer(i,e);if(this._earlyReturn)return}}drawSymbolLayer(t,e){switch(t.type){case"CIMSolidFill":this.drawSolidFill(e,t.color);break;case"CIMHatchFill":this.drawHatchFill(e,t);break;case"CIMPictureFill":this.drawPictureFill(e,t);break;case"CIMGradientFill":this.drawGradientFill(e,t);break;case"CIMSolidStroke":this.drawSolidStroke(e,t.color,t.width,t.capStyle,t.joinStyle,t.miterLimit);break;case"CIMPictureStroke":this.drawPictureStroke(e,t);break;case"CIMGradientStroke":this.drawGradientStroke(e,t);break;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":this.drawMarkerLayer(t,e)}}drawHatchFill(t,e){const s=this._buildHatchPolyline(e,t,this.geomUnitsPerPoint());s&&(this.pushClipPath(t),this.drawMultiLayerSymbol(e.lineSymbol,s),this.popClipPath())}drawPictureFill(t,e){}drawGradientFill(t,e){}drawPictureStroke(t,e){}drawGradientStroke(t,e){}drawMarkerLayer(t,e){const s=t.markerPlacement;if(s){const i=(0,_CIMOperators_js__WEBPACK_IMPORTED_MODULE_9__.getPlacementOperator)(s);if(i){const r="CIMMarkerPlacementInsidePolygon"===s.type;r&&this.pushClipPath(e);const n=i.execute(e,s,this.geomUnitsPerPoint());if(n){let e=null;for(;(e=n.next())&&(this.drawMarker(t,e),!this._earlyReturn););}r&&this.popClipPath()}}else{const s=this._placementPool.acquire();if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPoint)(e))s.tx=e.x,s.ty=e.y,this.drawMarker(t,s);else for(const i of e.points)if(s.tx=i[0],s.ty=i[1],this.drawMarker(t,s),this._earlyReturn)break;this._placementPool.release(s)}}drawMarker(t,e){switch(t.type){case"CIMCharacterMarker":case"CIMPictureMarker":this.drawPictureMarker(t,e);break;case"CIMVectorMarker":this.drawVectorMarker(t,e)}}drawPictureMarker(t,e){var i,r,n,o,a;if(!t)return;const h=this._resourceManager.getResource(t.url),l=null!=(i=t.size)?i:10;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isNone)(h)||l<=0)return;const c=h.width,m=h.height;if(!c||!m)return;const f=c/m,u=null!=(r=t.scaleX)?r:1,_=I.createIdentity(),p=t.anchorPoint;if(p){let e=p.x,s=p.y;"Absolute"!==t.anchorPointUnits&&(e*=l*f*u,s*=l),_.translate(-e,-s)}let d=null!=(n=t.rotation)?n:0;t.rotateClockwise&&(d=-d),this._mapRotation&&(d+=this._mapRotation),d&&_.rotate(d*C);let y=null!=(o=t.offsetX)?o:0,g=null!=(a=t.offsetY)?a:0;if(y||g){if(this._mapRotation){const t=C*this._mapRotation,e=Math.cos(t),s=Math.sin(t),i=y*s+g*e;y=y*e-g*s,g=i}_.translate(y,g)}const x=this.geomUnitsPerPoint();1!==x&&_.scale(x,x);const P=e.getAngle();P&&_.rotate(P),_.translate(e.tx,e.ty),this.push(_,!1),this.drawImage(t.url,l,t.scaleX),this.pop()}drawVectorMarker(t,e){var s,i,r,n;if(!t)return;const o=t.markerGraphics;if(!o)return;const a=null!=(s=t.size)?s:10,h=t.frame,l=h?h.ymax-h.ymin:0,c=a&&l?a/l:1,m=I.createIdentity();h&&m.translate(.5*-(h.xmax+h.xmin),.5*-(h.ymax+h.ymin));const f=t.anchorPoint;if(f){let e=f.x,s=f.y;"Absolute"!==t.anchorPointUnits?h&&(e*=h.xmax-h.xmin,s*=h.ymax-h.ymin):(e/=c,s/=c),m.translate(-e,-s)}1!==c&&m.scale(c,c);let u=null!=(i=t.rotation)?i:0;t.rotateClockwise&&(u=-u),this._mapRotation&&(u+=this._mapRotation),u&&m.rotate(u*C);let _=null!=(r=t.offsetX)?r:0,p=null!=(n=t.offsetY)?n:0;if(_||p){if(this._mapRotation){const t=C*this._mapRotation,e=Math.cos(t),s=Math.sin(t),i=_*s+p*e;_=_*e-p*s,p=i}m.translate(_,p)}const d=this.geomUnitsPerPoint();1!==d&&m.scale(d,d);const y=e.getAngle();y&&m.rotate(y),m.translate(e.tx,e.ty),this.push(m,t.scaleSymbolsProportionally);for(const g of o)if(g&&g.symbol&&g.geometry||T.error("Invalid marker graphic",g),this.drawSymbol(g.symbol,g.geometry),this._earlyReturn)break;this.pop()}drawTextSymbol(t,e){var s,i,r,n;if(!t)return;if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPoint)(e))return;if((null!=(s=t.height)?s:10)<=0)return;const o=I.createIdentity();let a=null!=(i=t.angle)?i:0;a=-a,a&&o.rotate(a*C);const h=null!=(r=t.offsetX)?r:0,c=null!=(n=t.offsetY)?n:0;(h||c)&&o.translate(h,c);const m=this.geomUnitsPerPoint();1!==m&&o.scale(m,m),o.translate(e.x,e.y),this.push(o,!1),this.drawText(t),this.pop()}_buildHatchPolyline(t,e,s){let i=(void 0!==t.separation?t.separation:4)*s,r=void 0!==t.rotation?t.rotation:0;if(0===i)return null;i<0&&(i=-i);let n=0;const a=.5*i;for(;n>a;)n-=i;for(;n<-a;)n+=i;const l=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)();(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsXY)(l,e),l[0]-=a,l[1]-=a,l[2]+=a,l[3]+=a;const c=[[l[0],l[1]],[l[0],l[3]],[l[2],l[3]],[l[2],l[1]]];for(;r>180;)r-=180;for(;r<0;)r+=180;const m=Math.cos(r*C),f=Math.sin(r*C),u=-i*f,_=i*m;let p,d,y,g;n=(void 0!==t.offsetX?t.offsetX*s:0)*f-(void 0!==t.offsetY?t.offsetY*s:0)*m,p=y=Number.MAX_VALUE,d=g=-Number.MAX_VALUE;for(const o of c){const t=o[0],e=o[1],s=m*t+f*e,i=-f*t+m*e;p=Math.min(p,s),y=Math.min(y,i),d=Math.max(d,s),g=Math.max(g,i)}y=Math.floor(y/i)*i;let x=m*p-f*y-u*n/i,P=f*p+m*y-_*n/i,w=m*d-f*y-u*n/i,M=f*d+m*y-_*n/i;const b=1+Math.round((g-y)/i),S=[];for(let o=0;o<b;o++)x+=u,P+=_,w+=u,M+=_,S.push([[x,P],[w,M]]);return{paths:S}}}class L extends v{constructor(t,e){super(t,e),this.reset()}reset(){this._xmin=this._ymin=1/0,this._xmax=this._ymax=-1/0,this._clipCount=0}envelope(){return new _Rect_js__WEBPACK_IMPORTED_MODULE_12__["default"](this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)}bounds(){return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.fromValues)(this._xmin,this._ymin,this._xmax,this._ymax)}drawSolidFill(t){if(t&&!(this._clipCount>0))if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolygon)(t))this._processPath(t.rings,0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolyline)(t))this._processPath(t.paths,0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isExtent)(t)){const e=U(t);e&&this._processPath(e.rings,0)}else console.error("drawSolidFill Unexpected geometry type!")}drawSolidStroke(t,e,s){if(!t||this._clipCount>0)return;const i=.5*this.transformSize(s);if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolygon)(t))this._processPath(t.rings,i);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolyline)(t))this._processPath(t.paths,i);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isExtent)(t)){const e=U(t);e&&this._processPath(e.rings,i)}else console.error("drawSolidStroke unexpected geometry type!")}pushClipPath(t){this.drawSolidFill(t),++this._clipCount}popClipPath(){--this._clipCount}drawImage(t,e,s){let r=s*e,n=e;const o=this._resourceManager.getResource(t);!e&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isSome)(o)&&(r=s*o.width,n=o.height),this._merge(this.transformPt([-r/2,-n/2]),0),this._merge(this.transformPt([-r/2,n/2]),0),this._merge(this.transformPt([r/2,-n/2]),0),this._merge(this.transformPt([r/2,n/2]),0)}drawText(t){this._textRasterizer||(this._textRasterizer=new _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_13__.TextRasterizer)}_processPath(t,e){if(t)for(const s of t){const t=s?s.length:0;if(t>1){this._merge(this.transformPt(s[0]),e);for(let i=1;i<t;++i)this._merge(this.transformPt(s[i]),e)}}}_merge(t,e){t[0]-e<this._xmin&&(this._xmin=t[0]-e),t[0]+e>this._xmax&&(this._xmax=t[0]+e),t[1]-e<this._ymin&&(this._ymin=t[1]-e),t[1]+e>this._ymax&&(this._ymax=t[1]+e)}}class z extends v{constructor(){super(...arguments),this._searchPoint=[0,0],this._searchDistPoint=0}hitTest(t,e,s,i,r,o){const a=o*(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(1);this.setTransform(),this.setGeomUnitsPerPoint(a),this._searchPoint=[(t[0]+t[2])/2,(t[1]+t[3])/2],this._searchDistPoint=(t[2]-t[0])/2/a,this._textInfo=i;const h=e&&("CIMPointSymbol"===e.type&&"Map"!==e.angleAlignment||"CIMTextSymbol"===e.type);return this._mapRotation=h?r:0,this._earlyReturn=!1,this.drawSymbol(e,s),this._earlyReturn}drawSolidFill(t,e){this._hitTestFill(t)}drawHatchFill(t,e){this._hitTestFill(t)}drawPictureFill(t,e){this._hitTestFill(t)}drawGradientFill(t,e){this._hitTestFill(t)}drawSolidStroke(t,e,s,i,r,n){this._hitTestStroke(t,s)}drawPictureStroke(t,e){this._hitTestStroke(t,e.width)}drawGradientStroke(t,e){this._hitTestStroke(t,e.width)}pushClipPath(t){}popClipPath(){}drawImage(t,e,i){const r=this._resourceManager.getResource(t);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isNone)(r)||0===r.height||0===e)return;const n=e*this.geomUnitsPerPoint(),o=n*i*(r.width/r.height),a=this.reverseTransformPt(this._searchPoint),h=this._searchDistPoint;Math.abs(a[0])<o/2+h&&Math.abs(a[1])<n/2+h&&(this._earlyReturn=!0)}drawText(e){var s,i;const r=this._textInfo;if(!r)return;const n=r.get(e);if(!n)return;const{text:o,mosaicItem:a}=n;if(!a||0===a.glyphMosaicItems.length)return;const h=null!=(s=e.height)?s:R,l=G(e.lineGapType,null!=(i=e.lineGap)?i:0,h),c=(0,_core_BidiText_js__WEBPACK_IMPORTED_MODULE_0__.bidiText)(o)[1],m=a.glyphMosaicItems,f=(0,_views_2d_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_16__.shapeGlyphs)(m,c,{scale:h/_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_15__.GLYPH_SIZE,angle:0,xOffset:0,yOffset:0,hAlign:j(e.horizontalAlignment),vAlign:A(e.verticalAlignment),maxLineWidth:512,lineHeight:_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_15__.MAGIC_LABEL_LINE_HEIGHT*Math.max(.25,Math.min(l||1,4)),decoration:e.font.decoration||"none",isCIM:!0}),u=this.reverseTransformPt(this._searchPoint),_=u[0],p=u[1];for(const t of f.glyphs)if(_>t.xTopLeft&&_<t.xBottomRight&&p>-t.yBottomRight&&p<-t.yTopLeft){this._earlyReturn=!0;break}}_hitTestFill(t){let e=null;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isExtent)(t)){const s=t;e=[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolygon)(t))e=t.rings;else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolyline)(t))return;e=t.paths}const s=this.reverseTransformPt(this._searchPoint);this._pointInPolygon(s,e)&&(this._earlyReturn=!0);const i=this.reverseTransformSize(this._searchDistPoint)*this.geomUnitsPerPoint();this._nearLine(s,e,i)&&(this._earlyReturn=!0)}_hitTestStroke(t,e){let s=null;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isExtent)(t)){const e=t;s=[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolygon)(t))s=t.rings;else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolyline)(t))return;s=t.paths}const i=this.reverseTransformPt(this._searchPoint),r=e*this.geomUnitsPerPoint(),n=this.reverseTransformSize(this._searchDistPoint)*this.geomUnitsPerPoint();this._nearLine(i,s,r/2+n)&&(this._earlyReturn=!0)}_pointInPolygon(t,e){let s=0;for(const i of e){const e=i.length;for(let r=1;r<e;++r){const e=i[r-1],n=i[r];if(e[1]>t[1]==n[1]>t[1])continue;(n[0]-e[0])*(t[1]-e[1])-(n[1]-e[1])*(t[0]-e[0])>0?s++:s--}}return 0!==s}_nearLine(t,e,s){for(const i of e){const e=i.length;for(let r=1;r<e;++r){const e=i[r-1],n=i[r];let o=(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]);if(0===o)continue;o=Math.sqrt(o);const a=((n[0]-e[0])*(t[1]-e[1])-(n[1]-e[1])*(t[0]-e[0]))/o;if(Math.abs(a)<s){const i=((n[0]-e[0])*(t[0]-e[0])+(n[1]-e[1])*(t[1]-e[1]))/o;if(i>-s&&i<o+s)return!0}}}return!1}}class F extends v{constructor(t,e,s){super(e,s),this._ctx=t}drawSolidFill(t,e){if(!t)return;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolygon)(t))this._buildPath(t.rings,!0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolyline)(t))this._buildPath(t.paths,!0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isExtent)(t))this._buildPath(U(t).rings,!0);else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isMultipoint)(t))return;console.log("CanvasDrawHelper.drawSolidFill - No implementation!")}const s=this._ctx;s.fillStyle="string"==typeof e?e:"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+e[3]/255+")",s.fill("evenodd")}drawSolidStroke(t,e,s,i,r,n){if(!t||!e||0===s)return;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolygon)(t))this._buildPath(t.rings,!0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolyline)(t))this._buildPath(t.paths,!1);else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isExtent)(t))return void console.log("CanvasDrawHelper.drawSolidStroke isn't implemented!");this._buildPath(U(t).rings,!0)}const o=this._ctx;o.strokeStyle="string"==typeof e?e:"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+e[3]/255+")",o.lineWidth=this.transformSize(s)+.5,this._setCapStyle(i),this._setJoinStyle(r),o.miterLimit=n,o.stroke()}pushClipPath(t){if(this._ctx.save(),(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolygon)(t))this._buildPath(t.rings,!0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPolyline)(t))this._buildPath(t.paths,!0);else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__.isExtent)(t))return;this._buildPath(U(t).rings,!0)}this._ctx.clip("evenodd")}popClipPath(){this._ctx.restore()}drawImage(t,e,i){const r=this._resourceManager.getResource(t);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isNone)(r))return;const n=this._ctx,o=n.canvas.width,a=n.canvas.height;let h=e*i*(r.width/r.height),l=i*e;e||(h=i*r.width,l=i*r.height),this._ctx.drawImage(r,0,0,r.width,r.height,0,0,Math.min(this.transformSize(h),o),Math.min(this.transformSize(l),a))}drawText(t){this._textRasterizer||(this._textRasterizer=new _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_13__.TextRasterizer)}_buildPath(t,e){const s=this._ctx;if(s.beginPath(),t)for(const i of t){const t=i?i.length:0;if(t>1){let r=this.transformPt(i[0]);s.moveTo(r[0],r[1]);for(let e=1;e<t;++e)r=this.transformPt(i[e]),s.lineTo(r[0],r[1]);e&&s.closePath()}}}_setCapStyle(t){switch(t){case"Butt":this._ctx.lineCap="butt";break;case"Round":this._ctx.lineCap="round";break;case"Square":this._ctx.lineCap="square"}}_setJoinStyle(t){switch(t){case"Bevel":this._ctx.lineJoin="bevel";break;case"Round":this._ctx.lineJoin="round";break;case"Miter":this._ctx.lineJoin="miter"}}}const U=t=>t?{spatialReference:t.spatialReference,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:null,j=t=>{switch(t){case"Left":return _views_2d_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__.HAlign.Left;case"Right":return _views_2d_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__.HAlign.Right;case"Center":case"Justify":return _views_2d_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__.HAlign.Center}},A=t=>{switch(t){case"Top":return _views_2d_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__.VAlign.Top;case"Center":return _views_2d_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__.VAlign.Center;case"Bottom":return _views_2d_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__.VAlign.Bottom;case"Baseline":return _views_2d_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__.VAlign.Baseline}},G=(t,e,s)=>{switch(t){case"ExtraLeading":return 1+e/s;case"Multiple":return e;case"Exact":return e/s}};


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CIMSimbolInflatedSizeHelper": () => (/* binding */ N),
/* harmony export */   "CIMSymbolHelper": () => (/* binding */ O),
/* harmony export */   "OverrideHelper": () => (/* binding */ R),
/* harmony export */   "SymbolHelper": () => (/* binding */ j),
/* harmony export */   "slsDashToTemplateArray": () => (/* binding */ W),
/* harmony export */   "symbolToCIM": () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_BidiText_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/BidiText.js */ "./node_modules/@arcgis/core/core/BidiText.js");
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/floatRGBA.js */ "./node_modules/@arcgis/core/core/floatRGBA.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CIMPlacements.js */ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js");
/* harmony import */ var _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./CIMSymbolDrawHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/* harmony import */ var _views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../views/2d/engine/vectorTiles/GeometryUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GeometryUtils.js");
/* harmony import */ var _views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../views/2d/engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _views_2d_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../views/2d/engine/webgl/mesh/templates/shapingUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const x=Math.PI,w=x/2,P=4,L=10,v=96/72,F=Math.PI/180,z=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger("esri.symbols.cim.CIMSymbolHelper");function D(e){if(!e||!e.type)return null;let t;switch(e.type){case"cim":return e.data;case"web-style":return e;case"simple-marker":t=O.fromSimpleMarker(e);break;case"picture-marker":t=O.fromPictureMarker(e);break;case"simple-line":t=O.fromSimpleLineSymbol(e);break;case"simple-fill":t=O.fromSimpleFillSymbol(e);break;case"picture-fill":t=O.fromPictureFillSymbol(e);break;case"text":t=O.fromTextSymbol(e)}return{type:"CIMSymbolReference",symbol:t}}function T(e,t){switch(t.type){case"CIMSymbolReference":return T(e,t.symbol);case"CIMPointSymbol":{const r={x:0,y:0};e.drawSymbol(t,r);break}case"CIMLineSymbol":{const r={paths:[[[0,0],[0,1]]]};e.drawSymbol(t,r);break}case"CIMPolygonSymbol":{const r={rings:[[[0,0],[0,1],[0,0]]]};e.drawSymbol(t,r);break}case"CIMTextSymbol":{const r={x:0,y:0};e.drawSymbol(t,r);break}case"CIMVectorMarker":{const r=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_10__.Placement;e.drawMarker(t,r);break}}return e.envelope()}function G(e){if(!e)return 0;switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAtExtremities":case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementAtRatioPositions":case"CIMMarkerPlacementOnLine":case"CIMMarkerPlacementOnVertices":return Math.abs(e.offset);default:return 0}}function A(e){if(!e)return 0;switch(e.type){case"CIMGeometricEffectArrow":return Math.abs(.5*e.width);case"CIMGeometricEffectBuffer":return Math.abs(e.size);case"CIMGeometricEffectExtension":case"CIMGeometricEffectRadial":return Math.abs(e.length);case"CIMGeometricEffectJog":return Math.abs(.5*e.length);case"CIMGeometricEffectMove":return Math.max(Math.abs((0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.offsetX)),Math.abs((0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.offsetY)));case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":return Math.abs(e.offset);case"CIMGeometricEffectRegularPolygon":return Math.abs(e.radius);case"CIMGeometricEffectRotate":case"CIMGeometricEffectScale":default:return 0;case"CIMGeometricEffectTaperedPolygon":return.5*Math.max(Math.abs(e.fromWidth),Math.abs(e.toWidth));case"CIMGeometricEffectWave":return Math.abs(e.amplitude)}}function E(e){if(!e)return 0;let t=0;for(const r of e)t+=A(r);return t}class N{getSymbolInflateSize(e,t,r,o,a){return e||(e=[0,0,0,0]),t?this._getInflateSize(e,t,r,o,a):e}static SafeSize(e){const t=Math.max(Math.abs(e[0]),Math.abs(e[2])),r=Math.max(Math.abs(e[1]),Math.abs(e[3]));return Math.sqrt(t*t+r*r)}_vectorMarkerBounds(e,t,r,o){let a=!0;const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.create)();if(t&&t.markerGraphics)for(const s of t.markerGraphics){const t=[0,0,0,0];s.geometry&&((0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_9__.getBoundsXY)(i,s.geometry),t[0]=0,t[1]=0,t[2]=0,t[3]=0,this.getSymbolInflateSize(t,s.symbol,r,0,o),i[0]+=t[0],i[1]+=t[1],i[2]+=t[2],i[3]+=t[3],a?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],a=!1):(e[0]=Math.min(e[0],i[0]),e[1]=Math.min(e[1],i[1]),e[2]=Math.max(e[2],i[2]),e[3]=Math.max(e[3],i[3])))}return e}_getInflateSize(e,t,r,o,a){if($(t)){const i=this._getLayersInflateSize(e,t.symbolLayers,r,o,a),s=E(t.effects);return s>0&&(i[0]-=s,i[1]-=s,i[2]+=s,i[3]+=s),i}return this._getTextInflatedSize(e,t,a)}_getLayersInflateSize(e,t,r,o,a){let i=!0;if(!t)return e;for(const n of t){if(!n)continue;let t=[0,0,0,0];switch(n.type){case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const e=n;let r=e.width;"Square"===e.capStyle||"Miter"===e.joinStyle?r/=1.4142135623730951:r/=2,t[0]=-r,t[1]=-r,t[2]=r,t[3]=r;break}case"CIMCharacterMarker":case"CIMVectorMarker":case"CIMPictureMarker":{const e=n;if("CIMVectorMarker"===n.type){const e=n;if(t=this._vectorMarkerBounds(t,e,r,a),e.frame){const r=(e.frame.xmin+e.frame.xmax)/2,o=(e.frame.ymin+e.frame.ymax)/2;t[0]-=r,t[1]-=o,t[2]-=r,t[3]-=o;const a=e.size/(e.frame.ymax-e.frame.ymin);t[0]*=a,t[1]*=a,t[2]*=a,t[3]*=a}}else if("CIMPictureMarker"===n.type){const o=n,a=r.getResource(o.url);let i=1;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isSome)(a)&&a.height&&(i=a.width/a.height);const l=e.size/2,c=e.size*i*o.scaleX/2;t=[-c,-l,c,l]}else{const r=e.size/2;t=[-r,-r,r,r]}if(e.anchorPoint){let r,o;"Absolute"===e.anchorPointUnits?(r=e.anchorPoint.x,o=e.anchorPoint.y):(r=e.anchorPoint.x*(t[2]-t[0]),o=e.anchorPoint.y*(t[3]-t[1])),t[0]-=r,t[1]-=o,t[2]-=r,t[3]-=o}let i=(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.rotation);if(e.rotateClockwise&&(i=-i),o&&(i-=o),i){const e=F*i,r=Math.cos(e),o=Math.sin(e),a=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.create)([_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_13__.C_INFINITY,_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_13__.C_INFINITY,-_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_13__.C_INFINITY,-_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_13__.C_INFINITY]);(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.expandPointInPlace)(a,[t[0]*r-t[1]*o,t[0]*o+t[1]*r]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.expandPointInPlace)(a,[t[0]*r-t[3]*o,t[0]*o+t[3]*r]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.expandPointInPlace)(a,[t[2]*r-t[1]*o,t[2]*o+t[1]*r]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.expandPointInPlace)(a,[t[2]*r-t[3]*o,t[2]*o+t[3]*r]),t=a}let l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.offsetX),f=(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.offsetY);if(o){const e=F*o,t=Math.cos(e),r=Math.sin(e),a=l*r+f*t;l=l*t-f*r,f=a}t[0]+=l,t[1]+=f,t[2]+=l,t[3]+=f;const y=G(e.markerPlacement);y>0&&(t[0]-=y,t[1]-=y,t[2]+=y,t[3]+=y);break}}const l=E(n.effects);l>0&&(t[0]-=l,t[1]-=l,t[2]+=l,t[3]+=l),i?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],i=!1):(e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[2]),e[3]=Math.max(e[3],t[3]))}return e}_getTextInflatedSize(e,r,o){var a,i;const s=null!=(a=r.height)?a:L;if(e[0]=-s/2,e[1]=-s/2,e[2]=s/2,e[3]=s/2,!o)return e;const n=o.get(r);if(!n)return e;const{text:l,mosaicItem:c}=n;if(!c||0===c.glyphMosaicItems.length)return e;const m=(0,_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_11__.lineGapType2LineHeight)(r.lineGapType,null!=(i=r.lineGap)?i:0,s),f=(0,_core_BidiText_js__WEBPACK_IMPORTED_MODULE_1__.bidiText)(l)[1],y=c.glyphMosaicItems,S=(0,_views_2d_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_15__.shapeGlyphs)(y,f,{scale:s/_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.GLYPH_SIZE,angle:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(r.angle),xOffset:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(r.offsetX),yOffset:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(r.offsetY),hAlign:(0,_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_11__.horizontalAlignment2HAlign)(r.horizontalAlignment),vAlign:(0,_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_11__.verticalAlignment2VAlign)(r.verticalAlignment),maxLineWidth:512,lineHeight:_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.MAGIC_LABEL_LINE_HEIGHT*Math.max(.25,Math.min(m||1,4)),decoration:r.font.decoration||"none",isCIM:!0}).boundsT;return e[0]=S.x-S.halfWidth,e[1]=-S.y-S.halfHeight,e[2]=S.x+S.halfWidth,e[3]=-S.y+S.halfHeight,e}}class O{static getEnvelope(e,t){const r=new _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_11__.EnvDrawHelper(t);if(Array.isArray(e)){let t;for(const o of e)t?t.union(T(r,o)):t=T(r,o);return t}return T(r,e)}static getTextureAnchor(e,t){const r=this.getEnvelope(e,t);if(!r)return[0,0,0];const o=(r.x+.5*r.width)*v,a=-(r.y+.5*r.height)*v,i=r.width*v+2,s=r.height*v+2;return[o/i,a/s,s]}static rasterize(e,t,r,o,a=!0){const i=r||this.getEnvelope(t,o);if(!i)return[null,0,0,0,0];const s=(i.x+.5*i.width)*v,n=(i.y+.5*i.height)*v;e.width=i.width*v,e.height=i.height*v,r||(e.width+=2,e.height+=2);const l=e.getContext("2d"),c=_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_11__.Transformation.createScale(v,-v);c.translate(.5*e.width-s,.5*e.height+n);const m=new _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_11__.CanvasDrawHelper(l,o,c);switch(t.type){case"CIMPointSymbol":{const e={type:"point",x:0,y:0};m.drawSymbol(t,e);break}case"CIMVectorMarker":{const e=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_10__.Placement;m.drawMarker(t,e);break}}const f=l.getImageData(0,0,e.width,e.height),h=new Uint8Array(f.data);if(a){let e;for(let t=0;t<h.length;t+=4)e=h[t+3]/255,h[t]=h[t]*e,h[t+1]=h[t+1]*e,h[t+2]=h[t+2]*e}return[h,e.width,e.height,-s/e.width,-n/e.height]}static fromTextSymbol(e){const{angle:r,color:o,font:a,haloColor:i,haloSize:s,horizontalAlignment:n,kerning:l,text:c,verticalAlignment:m,xoffset:f,yoffset:y}=e;let h,u,p,S,M;a&&(h=a.family,u=a.style,p=a.weight,S=a.size,M=a.decoration);let d=!1;if(c){d=(0,_core_BidiText_js__WEBPACK_IMPORTED_MODULE_1__.bidiText)(c)[1]}return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",angle:r,blockProgression:2,depth3D:1,extrapolateBaselines:!0,fontEffects:0,fontEncoding:1,fontFamilyName:h||"Arial",fontStyleName:H(u,p),fontType:0,haloSize:s,height:S,hinting:1,horizontalAlignment:X(null!=n?n:"center"),kerning:l,letterWidth:100,ligatures:!0,lineGapType:"Multiple",offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(f),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(y),strikethrough:"line-through"===M,underline:"underline"===M,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:_(o)}]},haloSymbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:_(i)}]},shadowColor:[0,0,0,255],shadowOffsetX:1,shadowOffsetY:1,textCase:"Normal",textDirection:d?1:0,verticalAlignment:Y(null!=m?m:"baseline"),verticalGlyphOrientation:0,wordSpacing:100,billboardMode3D:2},textString:c}],scaleSymbolsProportionally:!0,respectFrame:!0}],scaleX:1,angleAlignment:"Display"}}static fromPictureFillSymbol(e){const{height:t,outline:r,width:o,xoffset:a,xscale:i,yoffset:s,yscale:n}=e,l=[],c={type:"CIMPolygonSymbol",symbolLayers:l};if(r){const{cap:e,join:t,miterLimit:o,width:a}=r;l.push({type:"CIMSolidStroke",color:_(r.color),capStyle:V(e),joinStyle:B(t),miterLimit:o,width:a})}let m=e.url;"esriPFS"===e.type&&e.imageData&&(m=e.imageData);const f="angle"in e?e.angle:0,y=o*(i||1),h=t*(n||1);return l.push({type:"CIMPictureFill",invertBackfaceTexture:!1,scaleX:1,textureFilter:"Picture",tintColor:null,url:m,height:h,width:y,offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(a),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(s),rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(-f),colorSubstitutions:null}),c}static fromSimpleFillSymbol(e){const{color:t,style:r,outline:a}=e,s=[],n={type:"CIMPolygonSymbol",symbolLayers:s};let l=null;if(a){const{cap:e,join:t,style:r}=a;"solid"!==r&&"none"!==r&&"esriSLSSolid"!==r&&"esriSLSNull"!==r&&(l=[{type:"CIMGeometricEffectDashes",dashTemplate:W(r,e),lineDashEnding:"NoConstraint",scaleDash:!0}]),s.push({type:"CIMSolidStroke",color:_(a.color),capStyle:V(e),joinStyle:B(t),miterLimit:a.miterLimit,width:a.width,effects:l})}if(r&&"solid"!==r&&"none"!==r&&"esriSFSSolid"!==r&&"esriSFSNull"!==r){const e={type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",color:_(t),capStyle:"Butt",joinStyle:"Miter",width:.75}]};let a=0;const n=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.nextPowerOfTwo)(Math.ceil(window.devicePixelRatio)),l=K(r)?8*n:10*n;switch(r){case"vertical":case"esriSFSVertical":a=90;break;case"forward-diagonal":case"esriSFSForwardDiagonal":case"diagonal-cross":case"esriSFSDiagonalCross":a=-45;break;case"backward-diagonal":case"esriSFSBackwardDiagonal":a=45;break;case"cross":case"esriSFSCross":a=0}s.push({type:"CIMHatchFill",lineSymbol:e,offsetX:0,offsetY:0,rotation:a,separation:l}),"cross"===r||"esriSFSCross"===r?s.push({type:"CIMHatchFill",lineSymbol:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(e),offsetX:0,offsetY:0,rotation:90,separation:l}):"diagonal-cross"!==r&&"esriSFSDiagonalCross"!==r||s.push({type:"CIMHatchFill",lineSymbol:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(e),offsetX:0,offsetY:0,rotation:45,separation:l})}else!r||"solid"!==r&&"esriSFSSolid"!==r||s.push({type:"CIMSolidFill",enable:!0,color:_(t)});return n}static fromSimpleLineSymbol(e){const{cap:t,color:r,join:o,marker:a,miterLimit:i,style:s,width:n}=e;let l=null;"solid"!==s&&"none"!==s&&"esriSLSSolid"!==s&&"esriSLSNull"!==s&&(l=[{type:"CIMGeometricEffectDashes",dashTemplate:W(s,t),lineDashEnding:"NoConstraint",scaleDash:!0}]);const c=[];if(a){let e;switch(a.placement){case"begin-end":e="Both";break;case"begin":e="JustBegin";break;case"end":e="JustEnd";break;default:e="None"}const t=O.fromSimpleMarker(a,n,r).symbolLayers[0];t.markerPlacement={type:"CIMMarkerPlacementAtExtremities",angleToLine:!0,offset:0,extremityPlacement:e,offsetAlongLine:0},c.push(t)}return"none"!==s&&"esriSLSNull"!==s&&c.push({type:"CIMSolidStroke",color:_(r),capStyle:V(t),joinStyle:B(o),miterLimit:i,width:n,effects:l}),{type:"CIMLineSymbol",symbolLayers:c}}static fromPictureMarker(e){const{angle:t,height:r,width:o,xoffset:a,yoffset:i}=e;let s=e.url;return"esriPMS"===e.type&&e.imageData&&(s=e.imageData),{type:"CIMPointSymbol",symbolLayers:[{type:"CIMPictureMarker",invertBackfaceTexture:!1,scaleX:1,textureFilter:"Picture",tintColor:null,url:s,size:r,width:o,offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(a),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(i),rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(-t)}]}}static fromSimpleMarker(e,t,r){var o;const{style:a}=e,i=null!=(o=e.color)?o:r;if("path"===a){const t=[];if("outline"in e&&e.outline){const r=e.outline;t.push({type:"CIMSolidStroke",enable:!0,width:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.pt2px)(Math.round((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.px2pt)(r.width))),color:_(r.color)})}t.push({type:"CIMSolidFill",enable:!0,color:_(i),path:e.path});const[r,o]=J("square");return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(-e.angle),size:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.size||6),offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.xoffset),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.yoffset),frame:r,markerGraphics:[{type:"CIMMarkerGraphic",geometry:o,symbol:{type:"CIMPolygonSymbol",symbolLayers:t}}]}]}}const[s,c]=J(a);let m;if(c&&s){const r=[];if("outline"in e&&e.outline){const t=e.outline;r.push({type:"CIMSolidStroke",enable:!0,width:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.pt2px)(Math.round((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.px2pt)(t.width))),color:_(t.color)})}else!t||"line-marker"!==e.type||"cross"!==e.style&&"x"!==e.style||r.push({type:"CIMSolidStroke",enable:!0,width:t,color:_(i)});r.push({type:"CIMSolidFill",enable:!0,color:_(i)});const o={type:"CIMPolygonSymbol",symbolLayers:r};m={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(-e.angle),size:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.size||6*t),offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.xoffset),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getValue)(e.yoffset),frame:s,markerGraphics:[{type:"CIMMarkerGraphic",geometry:c,symbol:o}]}]}}return m}static fromCIMHatchFill(e){var t;const r=null!=(t=e.separation)?t:P,o=r/2,a=4;let i=this._getLineSymbolPeriod(e.lineSymbol)||a;for(;i<a;)i*=2;const s=i/2;return{type:"CIMVectorMarker",frame:{xmin:-s,xmax:s,ymin:-o,ymax:o},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[-s,0],[s,0]]]},symbol:e.lineSymbol}],size:r}}static _getLineSymbolPeriod(e){if(e){const t=this._getEffectsRepeat(e.effects);if(t)return t;if(e.symbolLayers)for(const r of e.symbolLayers){const e=this._getEffectsRepeat(r.effects);if(e)return e;if(r){const e=this._getPlacementRepeat(r.markerPlacement);if(e)return e}}}return 0}static _getEffectsRepeat(e){if(e)for(const t of e)if(t)switch(t.type){case"CIMGeometricEffectDashes":{const e=t.dashTemplate;if(e&&e.length){let t=0;for(const r of e)t+=r;return 1&e.length&&(t*=2),t}break}case"CIMGeometricEffectWave":return t.period;default:z.error(`unsupported geometric effect type ${t.type}`)}return 0}static _getPlacementRepeat(e){if(e)switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineVariableSize":{const t=e.placementTemplate;if(t&&t.length){let e=0;for(const r of t)e+=r;return 1&t.length&&(e*=2),e}break}}return 0}static fromCIMInsidePolygon(e){const t=e.markerPlacement,r={type:e.type,...e};let o,a,i,s;if(r.markerPlacement=null,r.anchorPoint=null,!0===t.shiftOddRows){a=t.stepX/2,i=t.stepY,s=2*t.stepY;o=[{x:-a,y:0},{x:a,y:0},{x:0,y:i},{x:0,y:-i}].map((e=>({type:"CIMMarkerGraphic",geometry:e,symbol:{type:"CIMPointSymbol",symbolLayers:[r]}})))}else a=t.stepX/2,i=t.stepY/2,s=t.stepY,o=[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMPointSymbol",symbolLayers:[r]}}];return{type:"CIMVectorMarker",frame:{xmin:-a,xmax:a,ymin:-i,ymax:i},markerGraphics:o,size:s}}static getFillColor(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=O.getFillColor(t);if(null!=e)return e}break;case"CIMTextSymbol":return O.getFillColor(e.symbol);case"CIMSolidFill":return e.color}}static getStrokeColor(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=O.getStrokeColor(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return O.getStrokeColor(e.symbol);case"CIMSolidStroke":return e.color}}static getStrokeWidth(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=O.getStrokeWidth(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return O.getStrokeWidth(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}static getSize(e){if(e)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers){const e=O.getSize(r);e>t&&(t=e)}return t}case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":return e.width;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":return e.size}}static getMarkerScaleRatio(e){if(e&&"CIMVectorMarker"===e.type)if(!1!==e.scaleSymbolsProportionally&&e.frame){const t=e.frame.ymax-e.frame.ymin;return e.size/t}return 1}}class j{static rasterizeSimpleFill(e,t,r){"solid"!==t&&"none"!==t&&"esriSFSSolid"!==t&&"esriSFSNull"!==t||console.error("Unexpected: style does not require rasterization");const o=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.nextPowerOfTwo)(Math.ceil(r)),a=K(t)?8*o:16*o,s=2*o;e.width=a,e.height=a;const n=e.getContext("2d");n.strokeStyle="#FFFFFF",n.lineWidth=o,n.beginPath(),"vertical"!==t&&"cross"!==t&&"esriSFSCross"!==t&&"esriSFSVertical"!==t||(n.moveTo(a/2,-s),n.lineTo(a/2,a+s)),"horizontal"!==t&&"cross"!==t&&"esriSFSCross"!==t&&"esriSFSHorizontal"!==t||(n.moveTo(-s,a/2),n.lineTo(a+s,a/2)),"forward-diagonal"!==t&&"diagonal-cross"!==t&&"esriSFSDiagonalCross"!==t&&"esriSFSForwardDiagonal"!==t||(n.moveTo(-s,-s),n.lineTo(a+s,a+s),n.moveTo(a-s,-s),n.lineTo(a+s,s),n.moveTo(-s,a-s),n.lineTo(s,a+s)),"backward-diagonal"!==t&&"diagonal-cross"!==t&&"esriSFSBackwardDiagonal"!==t&&"esriSFSDiagonalCross"!==t||(n.moveTo(a+s,-s),n.lineTo(-s,a+s),n.moveTo(s,-s),n.lineTo(-s,s),n.moveTo(a+s,a-s),n.lineTo(a-s,a+s)),n.stroke();const l=n.getImageData(0,0,e.width,e.height),c=new Uint8Array(l.data);let m;for(let i=0;i<c.length;i+=4)m=c[i+3]/255,c[i]=c[i]*m,c[i+1]=c[i+1]*m,c[i+2]=c[i+2]*m;return[c,e.width,e.height]}static rasterizeSimpleLine(e,t){return this.rasterizeDash(e,t)}static rasterizeDash(e,t){const o="Butt"===t,a="Square"===t,i=!o&&!a;e.length%2==1&&(e=[...e,...e]);const s=15.5,n=2*s;let l=0;for(const r of e)l+=r;const c=Math.round(l*s),m=new Float32Array(c*n),f=.5*s;let y=0,h=0,u=.5,p=!0;for(const r of e){for(y=h,h+=r*s;u<=h;){let e=.5;for(;e<n;){const t=(e-.5)*c+u-.5,r=i?(e-s)*(e-s):Math.abs(e-s);m[t]=p?o?Math.max(Math.max(y+f-u,r),Math.max(u-h+f,r)):r:i?Math.min((u-y)*(u-y)+r,(u-h)*(u-h)+r):a?Math.min(Math.max(u-y,r),Math.max(h-u,r)):Math.min(Math.max(u-y+f,r),Math.max(h+f-u,r)),e++}u++}p=!p}const S=m.length,M=new Uint8Array(4*S);for(let d=0;d<S;++d){const e=(i?Math.sqrt(m[d]):m[d])/s;(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_2__.packFloatRGBA)(e,M,4*d)}return[M,c,n]}}class R{static findApplicableOverrides(e,t,r){if(t){if(e.primitiveName){let o=!1;for(const t of r)if(t.primitiveName===e.primitiveName){o=!0;break}if(!o)for(const a of t)a.primitiveName===e.primitiveName&&r.push(a)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const o of e.effects)R.findApplicableOverrides(o,t,r);if(e.symbolLayers)for(const o of e.symbolLayers)R.findApplicableOverrides(o,t,r);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const o of e.effects)R.findApplicableOverrides(o,t,r);if(e.markerPlacement&&R.findApplicableOverrides(e.markerPlacement,t,r),"CIMVectorMarker"===e.type){if(e.markerGraphics)for(const o of e.markerGraphics)R.findApplicableOverrides(o,t,r),R.findApplicableOverrides(o.symbol,t,r)}else"CIMCharacterMarker"===e.type?R.findApplicableOverrides(e.symbol,t,r):"CIMHatchFill"===e.type&&R.findApplicableOverrides(e.lineSymbol,t,r)}}}static applyOverrides(e,t,r,o){if(!t)return;const a=e=>e?e.charAt(0).toLowerCase()+e.substr(1):e;if(e.primitiveName)for(const i of t)if(i.primitiveName===e.primitiveName){const t=a(i.propertyName);if(o&&o.push({cim:e,nocapPropertyName:t,value:e[t]}),i.expression&&(i.value=R.toValue(i.propertyName,i.expression)),r){let t=!1;for(const o of r)o.primitiveName===e.primitiveName&&(t=!0);t||r.push(i)}e[t]=i.value}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const a of e.effects)R.applyOverrides(a,t,r,o);if(e.symbolLayers)for(const a of e.symbolLayers)R.applyOverrides(a,t,r,o);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const a of e.effects)R.applyOverrides(a,t,r,o);if("CIMVectorMarker"===e.type&&e.markerGraphics)for(const a of e.markerGraphics)R.applyOverrides(a,t,r,o),R.applyOverrides(a.symbol,t,r,o)}}static restoreOverrides(e){for(const t of e)t.cim[t.nocapPropertyName]=t.value}static buildOverrideKey(e){let t="";for(const r of e)void 0!==r.value&&(t+=`${r.primitiveName}${r.propertyName}${JSON.stringify(r.value)}`);return t}static toValue(t,r){if("DashTemplate"===t)return r.split(" ").map((e=>Number(e)));if("Color"===t){const t=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](r).toRgba();return t[3]*=255,t}return r}}const V=e=>{if(!e)return"Butt";switch(e){case"butt":return"Butt";case"square":return"Square";case"round":return"Round"}},B=e=>{if(!e)return"Miter";switch(e){case"miter":return"Miter";case"round":return"Round";case"bevel":return"Bevel"}},X=e=>{if(!e)return"Center";switch(e){case"left":return"Left";case"right":return"Right";case"center":return"Center";case"justify":return"Justify"}},Y=e=>{if(!e)return"Center";switch(e){case"baseline":return"Baseline";case"top":return"Top";case"middle":return"Center";case"bottom":return"Bottom"}},_=e=>{if(!e)return[0,0,0,0];const{r:t,g:r,b:o,a}=e;return[t,r,o,255*a]},H=(e,t)=>{const r=U(t),o=q(e);return r&&o?`${r}-${o}`:`${r}${o}`},U=e=>{if(!e)return"";switch(e.toLowerCase()){case"bold":case"bolder":return"bold"}return""},q=e=>{if(!e)return"";switch(e.toLowerCase()){case"italic":case"oblique":return"italic"}return""},W=(e,t)=>{const r="butt"===t;switch(e){case"dash":case"esriSLSDash":return r?[4,3]:[3,4];case"dash-dot":case"esriSLSDashDot":return r?[4,3,1,3]:[3,4,0,4];case"dot":case"esriSLSDot":return r?[1,3]:[0,4];case"long-dash":case"esriSLSLongDash":return r?[8,3]:[7,4];case"long-dash-dot":case"esriSLSLongDashDot":return r?[8,3,1,3]:[7,4,0,4];case"long-dash-dot-dot":case"esriSLSDashDotDot":return r?[8,3,1,3,1,3]:[7,4,0,4,0,4];case"short-dash":case"esriSLSShortDash":return r?[4,1]:[3,2];case"short-dash-dot":case"esriSLSShortDashDot":return r?[4,1,1,1]:[3,2,0,2];case"short-dash-dot-dot":case"esriSLSShortDashDotDot":return r?[4,1,1,1,1,1]:[3,2,0,2,0,2];case"short-dot":case"esriSLSShortDot":return r?[1,1]:[0,2];case"solid":case"esriSLSSolid":case"none":return z.error("Unexpected: style does not require rasterization"),[0,0];default:return z.error(`Tried to rasterize SLS, but found an unexpected style: ${e}!`),[0,0]}};function $(e){return void 0!==e.symbolLayers}const J=e=>{const t=100,r=50;let o,a;const i=e;if("circle"===i||"esriSMSCircle"===i){const e=.25;let t=Math.acos(1-e/r),i=Math.ceil(x/t/4);0===i&&(i=1),t=w/i,i*=4;const s=[];s.push([r,0]);for(let o=1;o<i;o++)s.push([r*Math.cos(o*t),-r*Math.sin(o*t)]);s.push([r,0]),o={rings:[s]},a={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("cross"===i||"esriSMSCross"===i){const e=0;o={rings:[[[e,r],[e,e],[r,e],[r,-e],[e,-e],[e,-r],[-e,-r],[-e,-e],[-r,-e],[-r,e],[-e,e],[-e,r],[e,r]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("diamond"===i||"esriSMSDiamond"===i)o={rings:[[[-r,0],[0,r],[r,0],[0,-r],[-r,0]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("square"===i||"esriSMSSquare"===i)o={rings:[[[-r,-r],[-r,r],[r,r],[r,-r],[-r,-r]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("x"===i||"esriSMSX"===i){const e=0;o={rings:[[[0,e],[r-e,r],[r,r-e],[e,0],[r,e-r],[r-e,-r],[0,-e],[e-r,-r],[-r,e-r],[-e,0],[-r,r-e],[e-r,r],[0,e]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("triangle"===i||"esriSMSTriangle"===i){const e=t*.5773502691896257,r=-e,i=2/3*t,s=i-t;o={rings:[[[r,s],[0,i],[e,s],[r,s]]]},a={xmin:r,ymin:s,xmax:e,ymax:i}}else"arrow"===i&&(o={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r});return[a,o]},K=e=>"vertical"===e||"horizontal"===e||"cross"===e||"esriSFSCross"===e||"esriSFSVertical"===e||"esriSFSHorizontal"===e;


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CurveHelper.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CurveHelper": () => (/* binding */ s),
/* harmony export */   "PIXEL_TOLERANCE": () => (/* binding */ t),
/* harmony export */   "PathHelper": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const t=.03;class e{constructor(){this._path=[]}path(){return this._path}addPath(t,e){e||t.reverse(),Array.prototype.push.apply(this._path,t),e||t.reverse()}static mergePath(t,e){e&&Array.prototype.push.apply(t,e)}startPath(t){this._path.push(t)}lineTo(t){this._path.push(t)}close(){const t=this._path;t.length>1&&(t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]))}}class s{constructor(t=0,e=!1){}normalize(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);t[0]/=e,t[1]/=e}calculateLength(t,e){const s=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(s*s+n*n)}calculateSegLength(t,e){return this.calculateLength(t[e],t[e+1])}calculatePathLength(t){let e=0;const s=t?t.length:0;for(let n=0;n<s-1;++n)e+=this.calculateSegLength(t,n);return e}calculatePathArea(t){let e=0;const s=t?t.length:0;for(let n=0;n<s-1;++n)e+=(t[n+1][0]-t[n][0])*(t[n+1][1]+t[n][1]);return e/2}getCoord2D(t,e,s){return[t[0]+(e[0]-t[0])*s,t[1]+(e[1]-t[1])*s]}getSegCoord2D(t,e,s){return this.getCoord2D(t[e],t[e+1],s)}getAngle(t,e,s){const n=e[0]-t[0],r=e[1]-t[1];return Math.atan2(r,n)}getSegAngle(t,e,s){return this.getAngle(t[e],t[e+1],s)}getAngleCS(t,e,s){const n=e[0]-t[0],r=e[1]-t[1],h=Math.sqrt(n*n+r*r);return h>0?[n/h,r/h]:[1,0]}getSegAngleCS(t,e,s){return this.getAngleCS(t[e],t[e+1],s)}cut(t,e,s,n){return[s<=0?t[e]:this.getSegCoord2D(t,e,s),n>=1?t[e+1]:this.getSegCoord2D(t,e,n)]}addSegment(t,e,s){s&&t.push(e[0]),t.push(e[1])}getSubCurve(t,e,s){const n=[];return this.appendSubCurve(n,t,e,s)?n:null}appendSubCurve(t,e,s,n){const r=e?e.length-1:0;let h=0,l=!0,o=0;for(;o<r;){const r=this.calculateSegLength(e,o);if(0!==r){if(l){if(h+r>s){const a=(s-h)/r;let u=1,c=!1;h+r>=n&&(u=(n-h)/r,c=!0);const i=this.cut(e,o,a,u);if(i&&this.addSegment(t,i,l),c)break;l=!1}}else{if(h+r>n){const s=this.cut(e,o,0,(n-h)/r);s&&this.addSegment(t,s,l);break}this.addSegment(t,[e[o],e[o+1]],l)}h+=r,++o}else++o}return!0}getCIMPointAlong(t,e){const s=t?t.length-1:0;let n=0,r=-1;for(;r<s;){++r;const s=this.calculateSegLength(t,r);if(0!==s){if(n+s>e){const h=(e-n)/s;return this.getCoord2D(t[r],t[r+1],h)}n+=s}}return null}isEmpty(t,e){if(!t||t.length<=1)return!0;const s=t?t.length-1:0;let n=-1;for(;n<s;){if(++n,t[n+1][0]!==t[n][0]||t[n+1][1]!==t[n][1])return!1;if(e&&t[n+1][2]!==t[n][2])return!1}return!0}offset(t,e,s,n,r){if(!t||t.length<2)return null;let h=0,l=t[h++],o=h;for(;h<t.length;){const e=t[h];e[0]===l[0]&&e[1]===l[1]||(h!==o&&(t[o]=t[h]),l=t[o++]),h++}const a=t[0][0]===t[o-1][0]&&t[0][1]===t[o-1][1];if(a&&--o,o<(a?3:2))return null;const u=[];l=a?t[o-1]:null;let c=t[0];for(let i=0;i<o;i++){const r=i===o-1?a?t[0]:null:t[i+1];if(l)if(r){const t=[r[0]-c[0],r[1]-c[1]];this.normalize(t);const h=[c[0]-l[0],c[1]-l[1]];this.normalize(h);const o=h[0]*t[1]-h[1]*t[0],a=h[0]*t[0]+h[1]*t[1];if(o>=0==e<=0){if(a<1){const s=[t[0]-h[0],t[1]-h[1]];this.normalize(s);const r=Math.sqrt((1+a)/2);if(r>1/n){const t=-Math.abs(e)/r;u.push([c[0]-s[0]*t,c[1]-s[1]*t])}}}else switch(s){case"Mitered":{const s=Math.sqrt((1+a)/2);if(s>0&&1/s<n){const n=[t[0]-h[0],t[1]-h[1]];this.normalize(n);const r=Math.abs(e)/s;u.push([c[0]-n[0]*r,c[1]-n[1]*r]);break}}case"Bevelled":u.push([c[0]+h[1]*e,c[1]-h[0]*e]),u.push([c[0]+t[1]*e,c[1]-t[0]*e]);break;case"Rounded":if(a<1){u.push([c[0]+h[1]*e,c[1]-h[0]*e]);const s=Math.floor(2.5*(1-a));if(s>0){const n=1/s;let r=n;for(let l=1;l<s;l++,r+=n){const s=[h[1]*(1-r)+t[1]*r,-h[0]*(1-r)-t[0]*r];this.normalize(s),u.push([c[0]+s[0]*e,c[1]+s[1]*e])}}u.push([c[0]+t[1]*e,c[1]-t[0]*e])}break;default:if(o<0)u.push([c[0]+(h[1]+h[0])*e,c[1]+(h[1]-h[0])*e]),u.push([c[0]+(t[1]-t[0])*e,c[1]-(t[0]+t[1])*e]);else{const s=Math.sqrt((1+Math.abs(a))/2),n=[t[0]-h[0],t[1]-h[1]];this.normalize(n);const r=e/s;u.push([c[0]-n[0]*r,c[1]-n[1]*r])}}}else{const t=[c[0]-l[0],c[1]-l[1]];this.normalize(t),u.push([c[0]+t[1]*e,c[1]-t[0]*e])}else{const t=[r[0]-c[0],r[1]-c[1]];this.normalize(t),u.push([c[0]+t[1]*e,c[1]-t[0]*e])}l=c,c=r}return u.length<(a?3:2)?null:(a&&u.push([u[0][0],u[0][1]]),u)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/ExpandedCIM.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/ExpandedCIM.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExpandedCIM": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../views/2d/engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _views_2d_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../views/2d/engine/webgl/materialKey/MaterialKey.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const a={marker:_views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLGeometryType.MARKER,fill:_views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLGeometryType.FILL,line:_views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLGeometryType.LINE,text:_views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLGeometryType.TEXT};class l{constructor(e,l,s,n){const r={minScale:null==l?void 0:l.minScale,maxScale:null==l?void 0:l.maxScale},c=i(r);this.layers=e,this.data=l,this.hash=this._createHash()+c,this.rendererKey=s;const m={isOutline:!1,isOutlinedFill:!1,placement:null,stride:{fill:"default"},vvFlags:s};for(const i of e){const e=a[i.type];i.materialKey=(0,_views_2d_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_1__.createMaterialKey)(e,m),i.maxVVSize=n,i.scaleInfo=r,i.templateHash+=c}}get type(){return"expanded-cim"}_createHash(){let e="";for(const t of this.layers)e+=t.templateHash;return e}}function i(e){return e.minScale||e.maxScale?e.minScale+"-"+e.maxScale:""}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DashPattern": () => (/* binding */ n),
/* harmony export */   "GeometryWalker": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const i=1e-7;class n{constructor(){this._values=[],this.extPtGap=0,this.ctrlPtGap=0,this._length=0,this._currentValue=0}isEmpty(){return 0===this._values.length}size(){return this._values.length}init(t,s,e=!0){if(this._setEmpty(),!t||0===t.length)return!1;for(let n=0;n<t.length;n++){let s=Math.abs(t[n]);e&&s<i&&(s=i),this._values.push(s),this._length+=s}return s&&1&t.length&&(this._length*=2),0!==this._length&&(this.ctrlPtGap=this.extPtGap=0,this._currentValue=-1,!0)}scale(t){const s=this._values?this._values.length:0;for(let e=0;e<s;++e)this._values[e]*=t;this._length*=t,this.extPtGap*=t,this.ctrlPtGap*=t}addValue(t){this._length+=t,this._values.push(t)}firstValue(){return this._values[0]}lastValue(){return this._values[this._values.length-1]}nextValue(){return this._currentValue++,this._currentValue===this._values.length&&(this._currentValue=0),this._values[this._currentValue]}reset(){this._currentValue=-1}length(){return this._length}_setEmpty(){this.extPtGap=this.ctrlPtGap=this._length=0,this._currentValue=-1,this._values.length=0}}class h{constructor(){this.reset()}reset(){this.segment=-1,this.segmentLength=0,this.abscissa=0,this.isPathEnd=!1,this.isPartEnd=!1}isValid(){return-1!==this.segment}copyTo(t){t.segment=this.segment,t.segmentLength=this.segmentLength,t.abscissa=this.abscissa,t.isPathEnd=this.isPathEnd,t.isPartEnd=this.isPartEnd}}class r extends _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper{constructor(t=0,s=!1){super(t,s),this._tolerance=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PIXEL_TOLERANCE,this._currentPosition=new h}updateTolerance(t){this._tolerance=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PIXEL_TOLERANCE*t}init(t,s,e=!0){return e?(this._patternLength=s.length(),this._partExtPtGap=s.extPtGap,this._partCtrlPtGap=s.ctrlPtGap):(this._patternLength=0,this._partExtPtGap=0,this._partCtrlPtGap=0),this._currentPosition.reset(),this._partSegCount=0,this._path=t,this._seg=-1,this.setPosAtNextPart()}curPositionIsValid(){return this._currentPosition.isValid()}nextPosition(t,s=0){const e=new h;return!!this._nextPosition(t,e,null,s)&&(e.copyTo(this._currentPosition),!0)}curPointAndAngle(t){t.pt=this._getPoint(this._currentPosition);const[s,e]=this._getAngle(this._currentPosition);t.ca=s,t.sa=e}nextPointAndAngle(t,s,e=0){const i=new h;if(!this._nextPosition(t,i,null,e))return!1;i.copyTo(this._currentPosition),s.pt=this._getPoint(i);const[n,r]=this._getAngle(i);return s.ca=n,s.sa=r,!0}nextCurve(t){if(0===t)return null;const s=[],e=new h;return this._nextPosition(t,e,s,1)?(e.copyTo(this._currentPosition),s):null}isPathEnd(){return this._currentPosition.isPathEnd}getPathEnd(){if(-1===this._currentPosition.segment)throw new Error("missing segment");return this._path[this._currentPosition.segment+1]}_nextPosition(t,s,e,i){if(this._currentPosition.isPathEnd)return!1;let n=this._currentPosition.abscissa;for(this._currentPosition.segmentLength>0&&(n/=this._currentPosition.segmentLength),this._currentPosition.copyTo(s);s.abscissa+t*this._partLengthRatio>s.segmentLength+this._tolerance;){if(e){if(0===e.length)if(0===n){const t=this._path[s.segment];e.push([t[0],t[1]])}else e.push(this.getSegCoord2D(this._path,s.segment,n));const t=this._path[s.segment+1];e.push([t[0],t[1]])}if(n=0,t-=(s.segmentLength-s.abscissa)/this._partLengthRatio,this._partSegCount)s.segment=this.nextSegment(),s.segmentLength=this.calculateSegLength(this._path,s.segment),s.abscissa=0,this._partSegCount--;else{if(!this.setPosAtNextPart())return 0!==i&&(s.segmentLength=this.calculateSegLength(this._path,s.segment),s.isPartEnd=!0,1===i?(s.abscissa=s.segmentLength,s.isPathEnd=!0):s.abscissa=s.segmentLength+t,!0);this._currentPosition.copyTo(s)}}if(s.abscissa+=t*this._partLengthRatio,e){if(0===e.length)if(0===n){const t=this._path[s.segment];e.push([t[0],t[1]])}else e.push(this.getSegCoord2D(this._path,s.segment,n));const t=s.abscissa/s.segmentLength;if(1===t){const t=this._path[s.segment+1];e.push([t[0],t[1]])}else e.push(this.getSegCoord2D(this._path,s.segment,t))}return this._partSegCount||Math.abs(s.abscissa-s.segmentLength)<this._tolerance&&(s.isPathEnd=this._partIsLast,s.isPartEnd=!0),!0}_getPoint(t){if(-1===t.segment)throw new Error("missing segment");const s=t.segmentLength<=0?0:t.abscissa/t.segmentLength;return this.getSegCoord2D(this._path,t.segment,s)}_getAngle(t){if(-1===t.segment)throw new Error("missing segment");const s=t.segmentLength<=0?0:t.abscissa/t.segmentLength;return this.getSegAngleCS(this._path,t.segment,s)}setPosAtNextPart(){for(;this._partSegCount;)this.hasNextSegment()&&this.nextSegment(),this._partSegCount--;if(!this.hasNextSegment())return!1;for(this._partLength=0,this._partIsLast=!0,this._partSegCount=0;this.hasNextSegment();)if(this._partLength+=this.calculateSegLength(this._path,this.nextSegment()),this._partSegCount++,1===(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.getId)(this._path[this.getEndPointIndex()])){this._partIsLast=!this.hasNextSegment();break}let s=this._partSegCount;for(;s;)this.previousSegment(),--s;this._currentPosition.segment=this.nextSegment(),this._currentPosition.segmentLength=this.calculateSegLength(this._path,this._currentPosition.segment),this._currentPosition.abscissa=0,this._currentPosition.isPathEnd=this._currentPosition.isPartEnd=!1,--this._partSegCount;const e=this.getStartPointIndex();this._ctrlPtBegin=1===(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.getId)(this._path[e]);let i=e+this._partSegCount+1;if(i>=this._path.length&&(i=0),this._ctrlPtEnd=1===(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.getId)(this._path[i]),this._patternLength>0){const t=this._ctrlPtBegin?this._partCtrlPtGap:this._partExtPtGap,s=this._ctrlPtEnd?this._partCtrlPtGap:this._partExtPtGap;let e=Math.round((this._partLength-(t+s))/this._patternLength);e<=0&&(e=t+s>0?0:1),this._partLengthRatio=this._partLength/(t+s+e*this._patternLength),this._partLengthRatio<.01&&(this._partLengthRatio=1)}else this._partLengthRatio=1;return!0}hasNextSegment(){return this._seg<this._path.length-2}previousSegment(){return--this._seg}nextSegment(){return++this._seg}getStartPointIndex(){return this._seg}getEndPointIndex(){return this._seg+1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/Rect.js":
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/Rect.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/SDFHelper.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/SDFHelper.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "buildSDF": () => (/* binding */ m),
/* harmony export */   "getExtent": () => (/* binding */ f),
/* harmony export */   "getSDFInfo": () => (/* binding */ r),
/* harmony export */   "getSDFMetrics": () => (/* binding */ a),
/* harmony export */   "getSDFSymbol": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/floatRGBA.js */ "./node_modules/@arcgis/core/core/floatRGBA.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Rect.js */ "./node_modules/@arcgis/core/symbols/cim/Rect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function r(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":{const n=t.symbolLayers;return n&&1===n.length?r(n[0]):null}case"CIMVectorMarker":{var n;const o=t.markerGraphics;if(!o||1!==o.length)return null;const r=o[0];if(!r)return null;const l=r.geometry;if(!l)return null;const e=r.symbol;return!e||"CIMPolygonSymbol"!==e.type&&"CIMLineSymbol"!==e.type||null!=(n=e.symbolLayers)&&n.some((t=>!!t.effects))?null:{geom:l,asFill:"CIMPolygonSymbol"===e.type}}case"sdf":return{geom:t.geom,asFill:t.asFill}}return null}function l(t){const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.symbol;return!r||"CIMPolygonSymbol"!==r.type&&"CIMLineSymbol"!==r.type?null:r}function e(t){return t?t.rings?t.rings:t.paths?t.paths:void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:null:null}function s(t){let n=1/0,r=-1/0,l=1/0,e=-1/0;for(const o of t)for(const t of o)t[0]<n&&(n=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new _Rect_js__WEBPACK_IMPORTED_MODULE_2__["default"](n,l,r-n,e-l)}function i(t){let n=1/0,o=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<n&&(n=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[n,r,o,l]}function f(t){return t?t.rings?i(t.rings):t.paths?i(t.paths):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isExtent)(t)?[t.xmin,t.ymin,t.xmax,t.ymax]:null:null}function a(t,n,o,r,l){const[e,s,i,f]=t;if(i<e||f<s)return[0,0,0];const a=i-e,m=f-s,u=128,c=1,y=Math.floor(.5*(.5*u-c)),h=(u-2*(y+c))/Math.max(a,m),x=Math.round(a*h)+2*y,M=Math.round(m*h)+2*y;let g=1;if(n){g=M/h/(n.ymax-n.ymin)}let p=0,d=0;if(r)if(l){if(n&&o&&n.ymax-n.ymin>0){const t=(n.xmax-n.xmin)/(n.ymax-n.ymin);p=r.x/(o*t),d=r.y/o}}else p=r.x,d=r.y;p=.5*(n.xmax+n.xmin)+p*(n.xmax-n.xmin),d=.5*(n.ymax+n.ymin)+d*(n.ymax-n.ymin),p-=e,d-=s,p*=h,d*=h,p+=y,d+=y;return[g,p/x-.5,-(d/M-.5)]}function m(t){const n=e(t.geom),o=s(n),r=128,l=1,i=Math.floor(.5*(.5*r-l)),f=(r-2*(i+l))/Math.max(o.width,o.height),a=Math.round(o.width*f)+2*i,m=Math.round(o.height*f)+2*i,h=[];for(const e of n)if(e&&e.length>1){const n=[];for(const r of e){let[l,e]=r;l-=o.x,e-=o.y,l*=f,e*=f,l+=i-.5,e+=i-.5,t.asFill?n.push([l,e]):n.push([Math.round(l),Math.round(e)])}if(t.asFill){const t=n.length-1;n[0][0]===n[t][0]&&n[0][1]===n[t][1]||n.push(n[0])}h.push(n)}const x=u(h,a,m,i);return t.asFill&&c(h,a,m,i,x),[y(x,i),a,m]}function u(t,n,o,r){const l=n*o,e=new Array(l),s=r*r+1;for(let i=0;i<l;++i)e[i]=s;for(const i of t){const t=i.length;for(let l=1;l<t;++l){const t=i[l-1],s=i[l];let f,a,m,u;t[0]<s[0]?(f=t[0],a=s[0]):(f=s[0],a=t[0]),t[1]<s[1]?(m=t[1],u=s[1]):(m=s[1],u=t[1]);let c=Math.floor(f)-r,y=Math.floor(a)+r,h=Math.floor(m)-r,x=Math.floor(u)+r;c<0&&(c=0),y>n&&(y=n),h<0&&(h=0),x>o&&(x=o);const M=s[0]-t[0],g=s[1]-t[1],p=M*M+g*g;for(let r=c;r<y;r++)for(let l=h;l<x;l++){let i,f,a=(r-t[0])*M+(l-t[1])*g;a<0?(i=t[0],f=t[1]):a>p?(i=s[0],f=s[1]):(a/=p,i=t[0]+a*M,f=t[1]+a*g);const m=(r-i)*(r-i)+(l-f)*(l-f),u=(o-l-1)*n+r;m<e[u]&&(e[u]=m)}}}for(let i=0;i<l;++i)e[i]=Math.sqrt(e[i]);return e}function c(t,n,o,r,l){for(const e of t){const t=e.length;for(let s=1;s<t;++s){const t=e[s-1],i=e[s];let f,a,m,u;t[0]<i[0]?(f=t[0],a=i[0]):(f=i[0],a=t[0]),t[1]<i[1]?(m=t[1],u=i[1]):(m=i[1],u=t[1]);let c=Math.floor(f),y=Math.floor(a)+1,h=Math.floor(m),x=Math.floor(u)+1;c<r&&(c=r),y>n-r&&(y=n-r),h<r&&(h=r),x>o-r&&(x=o-r);for(let e=h;e<x;++e){if(t[1]>e==i[1]>e)continue;const s=(o-e-1)*n;for(let n=c;n<y;++n)n<(i[0]-t[0])*(e-t[1])/(i[1]-t[1])+t[0]&&(l[s+n]=-l[s+n]);for(let t=r;t<c;++t)l[s+t]=-l[s+t]}}}}function y(n,o){const r=2*o,l=n.length,e=new Uint8Array(4*l);for(let s=0;s<l;++s){const o=.5-n[s]/r;(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__.packFloatRGBA)(o,e,4*s)}return e}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextRasterizer": () => (/* binding */ s),
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function e(t){return`rgb(${t.slice(0,3).toString()})`}function i(t){return`rgba(${t.slice(0,3).toString()},${t[3]})`}class s{constructor(){}rasterizeText(t,s){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const r=this._textRasterizationCanvas,o=r.getContext("2d");this.setFontProperties(o,s),this.parameters=s,this.textLines=t.split(/\r?\n/),this.lineHeight=this.computeLineHeight();const h=this.computeTextWidth(o,s),{decoration:a,weight:l}=s.font;this.lineThroughWidthOffset=a&&"line-through"===a?.1*this.lineHeight:0;const d=this.lineHeight*this.textLines.length;r.width=h+2*this.lineThroughWidthOffset,r.height=d,this.renderedLineHeight=Math.round(this.lineHeight*s.pixelRatio),this.renderedHaloSize=s.halo.size*s.pixelRatio,this.renderedWidth=h*s.pixelRatio,this.renderedHeight=d*s.pixelRatio,this.lineThroughWidthOffset*=s.pixelRatio,this.fillStyle=i(s.color),this.haloStyle=e(s.halo.color);const c=this.renderedLineHeight,g=this.renderedHaloSize;this.setFontProperties(o,s);const f=n(o.textAlign,this.renderedWidth)+g,u=g,p=g>0;let x=this.lineThroughWidthOffset,m=0;p&&this.renderHalo(o,f,u,x,m,s),m+=u,x+=f;for(const e of this.textLines)o.globalCompositeOperation="destination-out",o.fillStyle="rgb(0, 0, 0)",o.fillText(e,x,m),o.globalCompositeOperation="source-over",o.fillStyle=this.fillStyle,o.fillText(e,x,m),a&&"none"!==a&&this.renderDecoration(o,x,m,a,l),m+=c;const H=this.renderedWidth+2*this.lineThroughWidthOffset,z=this.renderedHeight,w=o.getImageData(0,0,H,z),b=new Uint8Array(w.data);if(s.premultiplyColors){let t;for(let e=0;e<b.length;e+=4)t=b[e+3]/255,b[e]=b[e]*t,b[e+1]=b[e+1]*t,b[e+2]=b[e+2]*t}return{size:[H,z],image:new Uint32Array(b.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}renderHalo(t,e,i,s,n,r){const o=this.renderedWidth,h=this.renderedHeight;this._haloRasterizationCanvas||(this._haloRasterizationCanvas=document.createElement("canvas")),this._haloRasterizationCanvas.width=o,this._haloRasterizationCanvas.height=h;const a=this._haloRasterizationCanvas,l=a.getContext("2d");l.clearRect(0,0,o,h),this.setFontProperties(l,r);const{decoration:d,weight:c}=r.font;l.fillStyle=this.haloStyle,l.strokeStyle=this.haloStyle;const g=this.renderedHaloSize<3;l.lineJoin=g?"miter":"round",g?this.renderHaloEmulated(l,e,i,d,c):this.renderHaloNative(l,e,i,d,c),t.globalAlpha=this.parameters.halo.color[3],t.drawImage(a,0,0,o,h,s,n,o,h),t.globalAlpha=1}renderHaloEmulated(t,e,i,s,n){const o=this.renderedLineHeight,h=this.renderedHaloSize;for(const a of this.textLines){for(const[s,n]of r)t.fillText(a,e+h*s,i+h*n);s&&"none"!==s&&this.renderDecoration(t,e,i,s,n),i+=o}}renderHaloNative(t,e,i,s,n){const r=this.renderedLineHeight,o=this.renderedHaloSize;for(const h of this.textLines){const a=2*o,l=5,d=.1;for(let r=0;r<l;r++){const o=1-(l-1)*d+r*d;t.lineWidth=o*a,t.strokeText(h,e,i),s&&"none"!==s&&this.renderDecoration(t,e,i,s,n)}i+=r}}setFontProperties(e,i){const s=i.font,n=`${s.style} ${s.weight} ${(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(i.size*i.pixelRatio)}px ${s.family}, sans-serif`;let r;switch(e.font=n,e.textBaseline="top",i.horizontalAlignment){case"left":default:r="left";break;case"right":r="right";break;case"center":r="center"}e.textAlign=r}computeTextSize(t,e){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const i=this._textRasterizationCanvas,s=i.getContext("2d");this.setFontProperties(s,e),this.parameters=e,this.textLines=t.split(/\r?\n/),this.lineHeight=this.computeLineHeight();const n=this.computeTextWidth(s,e),r=this.lineHeight*this.textLines.length;return i.width=n,i.height=r,[n*e.pixelRatio,r*e.pixelRatio]}computeTextWidth(t,e){let i=0;for(const n of this.textLines)i=Math.max(i,t.measureText(n).width);const s=e.font;return("italic"===s.style||"oblique"===s.style||"string"==typeof s.weight&&("bold"===s.weight||"bolder"===s.weight)||"number"==typeof s.weight&&s.weight>600)&&(i+=.3*t.measureText("w").width),i+=2*this.parameters.halo.size,Math.round(i)}computeLineHeight(){let t=1.275*this.parameters.size;const e=this.parameters.font.decoration;return e&&"underline"===e&&(t*=1.3),Math.round(t+2*this.parameters.halo.size)}renderDecoration(t,e,i,s,n){const r=.9*this.lineHeight,o="bold"===n?.06:"bolder"===n?.09:.04;switch(t.textAlign){case"center":e-=this.renderedWidth/2;break;case"right":e-=this.renderedWidth}const h=t.textBaseline;if("underline"===s)switch(h){case"top":i+=r;break;case"middle":i+=r/2}else if("line-through"===s)switch(h){case"top":i+=r/1.5;break;case"middle":i+=r/3}t.save(),t.beginPath(),t.strokeStyle=t.fillStyle,t.lineWidth=Math.ceil(r*o),t.moveTo(e-this.lineThroughWidthOffset,i),t.lineTo(e+this.renderedWidth+2*this.lineThroughWidthOffset,i),t.stroke(),t.restore()}}function n(t,e){return"center"===t?.5*e:"right"===t?e:0}const r=[];{const t=16;for(let e=0;e<360;e+=360/t)r.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "analyzeCIMResource": () => (/* binding */ q),
/* harmony export */   "analyzeCIMSymbol": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/string.js */ "./node_modules/@arcgis/core/core/string.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _SDFHelper_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SDFHelper.js */ "./node_modules/@arcgis/core/symbols/cim/SDFHelper.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/* harmony import */ var _effects_CIMEffectHelper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./effects/CIMEffectHelper.js */ "./node_modules/@arcgis/core/symbols/cim/effects/CIMEffectHelper.js");
/* harmony import */ var _views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../views/2d/arcade/callExpressionWithFeature.js */ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const S=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.symbols.cim.cimAnalyzer");function v(e){switch(e){case"Butt":return 0;case"Square":return 2;default:return 1}}function N(e){switch(e){case"Bevel":return 0;case"Miter":return 2;default:return 1}}function b(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":return"center";case"Justify":return"justify"}}function k(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function C(e){let t="",i="";if(e){const o=e.toLowerCase();-1!==o.indexOf("italic")?t="italic":-1!==o.indexOf("oblique")&&(t="oblique"),-1!==o.indexOf("bold")?i="bold":-1!==o.indexOf("light")&&(i="lighter")}return{style:t,weight:i}}function O(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function P(e,t,i,o){let r;e[t]?r=e[t]:(r={},e[t]=r),r[i]=o}function M(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}async function I(e,t,i,o,r){const a=null!=o?o:[];if(!e)return a;let l,s;const c={};if("CIMSymbolReference"!==e.type)return S.error("Expect cim type to be 'CIMSymbolReference'"),a;if(l=e.symbol,s=e.primitiveOverrides,s){const e=[];for(const i of s){const o=i.valueExpressionInfo;if(o&&t){const r=o.expression,a=(0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_5__.createRendererExpression)(r,t.spatialReference,t.fields).then((e=>{e&&P(c,i.primitiveName,i.propertyName,e)}));e.push(a)}else null!=i.value&&P(c,i.primitiveName,i.propertyName,i.value)}e.length>0&&await Promise.all(e)}const f=[];switch(K(l,i,f),f.length>0&&await Promise.all(f),l.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":L(l,s,c,t,a,i,r)}return a}function L(e,t,i,o,r,n,a){if(!e)return;const c=e.symbolLayers;if(!c)return;const f=e.effects;let m;const p=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getSize(e);"CIMPointSymbol"===e.type&&"Map"===e.angleAlignment&&(m=1);let u=c.length;for(;u--;){const l=c[u];if(!l||!1===l.enable)continue;let h;f&&f.length&&(h=[...f]);const y=l.effects;y&&y.length&&(f?h.push(...y):h=[...y]);const g=[];switch(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.OverrideHelper.findApplicableOverrides(l,t,g),l.type){case"CIMSolidFill":w(l,h,i,g,o,r);break;case"CIMPictureFill":X(l,h,i,g,o,n,r);break;case"CIMHatchFill":z(l,h,i,g,o,r);break;case"CIMGradientFill":x(l,h,i,g,o,r);break;case"CIMSolidStroke":J(l,h,i,g,o,r,"CIMPolygonSymbol"===e.type,p);break;case"CIMPictureStroke":H(l,h,i,g,o,r,"CIMPolygonSymbol"===e.type,p);break;case"CIMGradientStroke":Y(l,h,i,g,o,r,"CIMPolygonSymbol"===e.type,p);break;case"CIMCharacterMarker":if(R(l,h,i,g,o,r))break;break;case"CIMPictureMarker":if(R(l,h,i,g,o,r))break;"CIMLineSymbol"===e.type&&(m=M(l)),A(l,h,i,g,o,n,r,m,p);break;case"CIMVectorMarker":if(R(l,h,i,g,o,r))break;"CIMLineSymbol"===e.type&&(m=M(l)),$(l,h,i,g,o,r,n,m,p,a);break;default:S.error("Cannot analyze CIM layer",l.type)}}}function w(e,t,i,o,n,a){const l=e.primitiveName,s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(e.color),[c,f]=V(o,l),p=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(e)+f).toString();a.push({type:"fill",templateHash:p,materialHash:c?()=>p:p,cim:e,materialOverrides:null,colorLocked:e.colorLocked,color:U(l,i,"Color",n,s,G),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:t})}function X(e,t,o,n,a,l,s){const c=e.primitiveName,f=e.tintColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(e.tintColor):{r:255,g:255,b:255,a:1},[u,h]=V(n,c),y=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(e)+h).toString(),g=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString();let d=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.scaleX);if("width"in e){const t=e.width;let o=1;const r=l.getResource(e.url);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isSome)(r)&&(o=r.width/r.height),d/=o*(e.height/t)}s.push({type:"fill",templateHash:y,materialHash:u?()=>g:g,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:t,color:U(c,o,"TintColor",a,f,G),height:U(c,o,"Height",a,e.height),scaleX:U(c,o,"ScaleX",a,d),angle:U(c,o,"Rotation",a,(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.rotation)),offsetX:U(c,o,"OffsetX",a,(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetX)),offsetY:U(c,o,"OffsetY",a,(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetY)),url:e.url})}function z(e,t,i,o,n,a){const l=["Rotation","OffsetX","OffsetY"],s=o.filter((t=>t.primitiveName!==e.primitiveName&&-1===l.indexOf(t.propertyName))),c=e.primitiveName,[f,m]=V(o,c),u=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(e)+m).toString(),h=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(`${e.separation}${JSON.stringify(e.lineSymbol)}`).toString();a.push({type:"fill",templateHash:u,materialHash:f?B(h,i,s,n):h,cim:e,materialOverrides:s,colorLocked:e.colorLocked,effects:t,color:{r:255,g:255,b:255,a:1},height:U(c,i,"Separation",n,e.separation),scaleX:1,angle:U(c,i,"Rotation",n,(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.rotation)),offsetX:U(c,i,"OffsetX",n,(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetX)),offsetY:U(c,i,"OffsetY",n,(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetY))})}function x(e,t,i,o,n,a){const l=e.primitiveName,[s,c]=V(o,l),f=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(e)+c).toString();a.push({type:"fill",templateHash:f,materialHash:s?B(f,i,o,n):f,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:t,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function J(e,t,i,o,n,a,l,s){const c=e.primitiveName,f=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(e.color),p=void 0!==e.width?e.width:4,u=v(e.capStyle),h=N(e.joinStyle),y=e.miterLimit,[g,d]=V(o,c),S=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(e)+d).toString();let b,k;if(t&&t.length>0){const i=t[t.length-1];if("CIMGeometricEffectDashes"===i.type&&"NoConstraint"===i.lineDashEnding){const i=(t=[...e.effects]).pop();b=i.dashTemplate,k=i.scaleDash}}a.push({type:"line",templateHash:S,materialHash:g?()=>S:S,cim:e,materialOverrides:null,isOutline:l,colorLocked:e.colorLocked,effects:t,color:U(c,i,"Color",n,f,G),width:U(c,i,"Width",n,p),cap:U(c,i,"CapStyle",n,u),join:U(c,i,"JoinStyle",n,h),miterLimit:U(c,i,"MiterLimit",n,y),referenceWidth:s,zOrder:E(e.name),dashTemplate:b,scaleDash:k})}function H(e,t,i,o,n,a,l,s){const c=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),f=e.primitiveName,p=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(e.tintColor),u=void 0!==e.width?e.width:4,h=v(e.capStyle),y=N(e.joinStyle),g=e.miterLimit,[d,S]=V(o,f),b=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(e)+S).toString();a.push({type:"line",templateHash:b,materialHash:d?()=>c:c,cim:e,materialOverrides:null,isOutline:l,colorLocked:e.colorLocked,effects:t,color:U(f,i,"TintColor",n,p,G),width:U(f,i,"Width",n,u),cap:U(f,i,"CapStyle",n,h),join:U(f,i,"JoinStyle",n,y),miterLimit:U(f,i,"MiterLimit",n,g),referenceWidth:s,zOrder:E(e.name),dashTemplate:null,scaleDash:!1,url:e.url})}function Y(e,t,i,o,n,a,l,s){const c=e.primitiveName,f=void 0!==e.width?e.width:4,m=v(e.capStyle),p=N(e.joinStyle),u=e.miterLimit,[h,y]=V(o,c),g=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(e)+y).toString();a.push({type:"line",templateHash:g,materialHash:h?B(g,i,o,n):g,cim:e,materialOverrides:null,isOutline:l,colorLocked:e.colorLocked,effects:t,color:{r:128,g:128,b:128,a:1},width:U(c,i,"Width",n,f),cap:U(c,i,"CapStyle",n,m),join:U(c,i,"JoinStyle",n,p),miterLimit:U(c,i,"MiterLimit",n,u),referenceWidth:s,zOrder:E(e.name),dashTemplate:null,scaleDash:!1})}function R(e,t,i,o,n,a){const l=e.markerPlacement;if(!l||"CIMMarkerPlacementInsidePolygon"!==l.type)return!1;const s=l,c=["Rotation","OffsetX","OffsetY"],f=o.filter((t=>t.primitiveName!==e.primitiveName&&-1===c.indexOf(t.propertyName))),m="url"in e?e.url:null,[u,h]=V(o,s.primitiveName),y=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(e)+h).toString();let g=s.stepY,d=null,S=1;return l.shiftOddRows&&(g*=2,d=function(e){return e?2*e:0},S=.5),a.push({type:"fill",templateHash:y,materialHash:u?B(y,i,f,n):y,cim:e,materialOverrides:f,colorLocked:e.colorLocked,effects:t,color:{r:255,g:255,b:255,a:1},height:U(s.primitiveName,i,"StepY",n,g,d),scaleX:S,angle:U(s.primitiveName,i,"GridAngle",n,s.gridAngle),offsetX:U(s.primitiveName,i,"OffsetX",n,(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(s.offsetX)),offsetY:U(s.primitiveName,i,"OffsetY",n,(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(s.offsetY)),url:m}),!0}function A(e,t,o,n,a,l,s,c,f){var u;const h=e.primitiveName,y=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.size);let g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.scaleX);const d=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.rotation),S=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetX),v=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetY),N=e.tintColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(e.tintColor):{r:255,g:255,b:255,a:1},b=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),[k,C]=V(n,h),O=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(e)+C).toString(),P=null!=(u=e.anchorPoint)?u:{x:0,y:0};if("width"in e){const t=e.width;let o=1;const r=l.getResource(e.url);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isSome)(r)&&(o=r.width/r.height),g/=o*(y/t)}s.push({type:"marker",templateHash:O,materialHash:k?()=>b:b,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:t,scaleSymbolsProportionally:!1,alignment:c,size:U(h,o,"Size",a,y),scaleX:U(h,o,"ScaleX",a,g),rotation:U(h,o,"Rotation",a,d),offsetX:U(h,o,"OffsetX",a,S),offsetY:U(h,o,"OffsetY",a,v),color:U(h,o,"TintColor",a,N,G),anchorPoint:{x:P.x,y:-P.y},isAbsoluteAnchorPoint:"Relative"!==e.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:e.rotateClockwise,referenceSize:f,sizeRatio:1,markerPlacement:e.markerPlacement,url:e.url})}function $(e,t,i,o,r,n,a,l,s,c){const f=e.markerGraphics;if(!f)return;let m=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(m=t.ymax-t.ymin)}for(const p of f)if(p){const f=p.symbol;if(!f)continue;switch(f.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":j(e,t,p,o,i,r,n,a,l,s,m,c);break;case"CIMTextSymbol":F(e,t,p,i,o,r,n,l,s,m)}}}function F(e,t,i,o,n,a,c,f,g,d){const S=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.OverrideHelper.findApplicableOverrides(i,n,S);const v=i.geometry;if(!("x"in v)||!("y"in v))return;const N=i.symbol,P=O(N),M=C(N.fontStyleName),I=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.toKebabCase)(N.fontFamilyName);N.font={family:I,decoration:P,...M};const L=e.frame,w=v.x-.5*(L.xmin+L.xmax),X=v.y-.5*(L.ymin+L.ymax),z=e.size/d,x=e.primitiveName,J=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(N.height)*z,H=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(N.angle),Y=((0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(N.offsetX)+w)*z,R=((0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(N.offsetY)+X)*z,A=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getFillColor(N));let $=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getStrokeColor(N)),F=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getStrokeWidth(N);F||($=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getFillColor(N.haloSymbol)),F=N.haloSize*z);const[j,W]=V(n,x),T=JSON.stringify(e.effects)+Number(e.colorLocked)+JSON.stringify(e.anchorPoint)+e.anchorPointUnits+JSON.stringify(e.markerPlacement),D=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(i)+T+W).toString(),E=U(i.primitiveName,o,"TextString",a,i.textString,_utils_js__WEBPACK_IMPORTED_MODULE_8__._adjustTextCase,N.textCase),{fontStyleName:G}=N,B=I+(G?"-"+G.toLowerCase():"-regular"),q=B;c.push({type:"text",templateHash:D,materialHash:j||"function"==typeof E||E.match(/\[(.*?)\]/)?(e,t,i)=>q+"-"+(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.evaluateValueOrFunction)(E,e,t,i):q+"-"+(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(E),cim:N,materialOverrides:null,colorLocked:e.colorLocked,effects:t,alignment:f,anchorPoint:{x:e.anchorPoint?e.anchorPoint.x:0,y:e.anchorPoint?e.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==e.anchorPointUnits,fontName:B,decoration:P,weight:U(x,o,"Weight",a,M.weight),style:U(x,o,"Size",a,M.style),size:U(x,o,"Size",a,J),angle:U(x,o,"Rotation",a,H),offsetX:U(x,o,"OffsetX",a,Y),offsetY:U(x,o,"OffsetY",a,R),horizontalAlignment:b(N.horizontalAlignment),verticalAlignment:k(N.verticalAlignment),text:E,color:A,outlineColor:$,outlineSize:F,referenceSize:g,sizeRatio:1,markerPlacement:e.markerPlacement})}function j(e,t,i,o,n,a,s,u,h,y,d,S){const v=i.symbol,N=v.symbolLayers;if(!N)return;if(S)return void T(e,t,i,n,o,a,s,u,h,y,d);let b=N.length;if(_(N))return void W(e,i,N,o,n,a,s,h,y,d);const k=_effects_CIMEffectHelper_js__WEBPACK_IMPORTED_MODULE_9__.CIMEffectHelper.applyEffects(v.effects,i.geometry);if(k)for(;b--;){const S=N[b];if(S&&!1!==S.enable)switch(S.type){case"CIMSolidFill":case"CIMSolidStroke":{var C;const u=_effects_CIMEffectHelper_js__WEBPACK_IMPORTED_MODULE_9__.CIMEffectHelper.applyEffects(S.effects,k),v=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_7__.getExtent)(u);if(!v)continue;const[N,b,O]=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_7__.getSDFMetrics)(v,e.frame,e.size,e.anchorPoint,"Relative"!==e.anchorPointUnits),P="CIMSolidFill"===S.type,M={type:"sdf",geom:u,asFill:P},I=e.primitiveName,L=null!=(C=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.size))?C:10,w=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.rotation),X=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetX),z=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetY),x=S.path,J=S.primitiveName,H=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(P?_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getFillColor(S):_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getStrokeColor(S)),Y=P?{r:0,g:0,b:0,a:0}:(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getStrokeColor(S)),R=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getStrokeWidth(S);if(!P&&!R)break;let A=!1,$="";for(const e of o)e.primitiveName!==J&&e.primitiveName!==I||(void 0!==e.value?$+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(A=!0));const F=JSON.stringify({...e,markerGraphics:null}),j=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(M)+x).toString(),W={type:"marker",templateHash:(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(i)+JSON.stringify(S)+F+$).toString(),materialHash:A?()=>j:j,cim:M,materialOverrides:null,colorLocked:e.colorLocked,effects:t,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:h,anchorPoint:{x:b,y:O},isAbsoluteAnchorPoint:!1,size:U(e.primitiveName,n,"Size",a,L),rotation:U(e.primitiveName,n,"Rotation",a,w),offsetX:U(e.primitiveName,n,"OffsetX",a,X),offsetY:U(e.primitiveName,n,"OffsetY",a,z),scaleX:1,frameHeight:d,rotateClockwise:e.rotateClockwise,referenceSize:y,sizeRatio:N,color:U(J,n,"Color",a,H,G),outlineColor:U(J,n,"Color",a,Y,G),outlineWidth:U(J,n,"Width",a,R),markerPlacement:e.markerPlacement,path:x};s.push(W);break}default:T(e,t,i,n,o,a,s,u,h,y,d)}}}function W(e,t,i,o,n,a,s,u,h,y){const g=t.geometry,d=i[0],S=i[1],v=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_7__.getExtent)(g);if(!v)return;const[N,b,k]=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_7__.getSDFMetrics)(v,e.frame,e.size,e.anchorPoint,"Relative"!==e.anchorPointUnits),C={type:"sdf",geom:g,asFill:!0},O=e.primitiveName,P=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.size),M=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.rotation),I=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetX),L=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetY),w=S.path,X=S.primitiveName,z=d.primitiveName,x=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getFillColor(S)),J=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.fromCIMColor)(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getStrokeColor(d)),H=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getStrokeWidth(d);let Y=!1,R="";for(const r of o)r.primitiveName!==X&&r.primitiveName!==z&&r.primitiveName!==O||(void 0!==r.value?R+=`-${r.primitiveName}-${r.propertyName}-${JSON.stringify(r.value)}`:r.valueExpressionInfo&&(Y=!0));const A=JSON.stringify({...e,markerGraphics:null}),$=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(C)+w).toString(),F={type:"marker",templateHash:(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(t)+JSON.stringify(S)+JSON.stringify(d)+A+R).toString(),materialHash:Y?()=>$:$,cim:C,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:u,anchorPoint:{x:b,y:k},isAbsoluteAnchorPoint:!1,size:U(e.primitiveName,n,"Size",a,P),rotation:U(e.primitiveName,n,"Rotation",a,M),offsetX:U(e.primitiveName,n,"OffsetX",a,I),offsetY:U(e.primitiveName,n,"OffsetY",a,L),scaleX:1,frameHeight:y,rotateClockwise:e.rotateClockwise,referenceSize:h,sizeRatio:N,color:U(X,n,"Color",a,x,G),outlineColor:U(z,n,"Color",a,J,G),outlineWidth:U(z,n,"Width",a,H),markerPlacement:e.markerPlacement,path:w};s.push(F)}function T(e,t,i,n,a,s,c,f,m,u,h){const y=D(e,i);let g=[];const d=["Rotation","OffsetX","OffsetY"];g=a.filter((t=>t.primitiveName!==e.primitiveName||-1===d.indexOf(t.propertyName)));let S="";for(const o of a)void 0!==o.value&&(S+=`-${o.primitiveName}-${o.propertyName}-${JSON.stringify(o.value)}`);const[v,N,b]=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.CIMSymbolHelper.getTextureAnchor(y,f),k=e.primitiveName,C=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.rotation),O=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetX),P=(0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.getValue)(e.offsetY),M=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(JSON.stringify(y)+S).toString(),I={type:"marker",templateHash:M,materialHash:0===g.length?M:B(M,n,g,s),cim:y,materialOverrides:g,colorLocked:e.colorLocked,effects:t,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:m,anchorPoint:{x:v,y:N},isAbsoluteAnchorPoint:!1,size:e.size,rotation:U(k,n,"Rotation",s,C),offsetX:U(k,n,"OffsetX",s,O),offsetY:U(k,n,"OffsetY",s,P),color:{r:255,g:255,b:255,a:1},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:h,rotateClockwise:e.rotateClockwise,referenceSize:u,sizeRatio:b/(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.pt2px)(e.size),markerPlacement:e.markerPlacement};c.push(I)}function D(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath}}function E(e){if(e&&0===e.indexOf("Level_")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function G(t){if(!t||0===t.length)return null;const i=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](t).toRgba();return{r:i[0],g:i[1],b:i[2],a:i[3]}}function U(e,t,i,o,r,n,l){const s=t[e];if(s){const e=s[i];if("string"==typeof e||"number"==typeof e||e instanceof Array)return n?n.call(null,e,l):e;if(null!=e&&e instanceof _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_5__.ArcadeExpression)return(t,i,a)=>{let s=(0,_views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_10__["default"])(e,t,{$view:a},o.geometryType,i);return null!==s&&n&&(s=n.call(null,s,l)),null!==s?s:r}}return r}function B(e,t,i,o){for(const r of i){if(r.valueExpressionInfo){const e=t[r.primitiveName]&&t[r.primitiveName][r.propertyName];e instanceof _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_5__.ArcadeExpression&&(r.fn=(t,i,r)=>(0,_views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_10__["default"])(e,t,{$view:r},o.geometryType,i))}}return(t,o,n)=>{for(const e of i)e.fn&&(e.value=e.fn(t,o,n));return (0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(e+_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.OverrideHelper.buildOverrideKey(i)).toString()}}function q(e,t){if(!t||0===t.length)return e;const i=JSON.parse(JSON.stringify(e));return _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.OverrideHelper.applyOverrides(i,t),i}function V(e,t){let i=!1,o="";for(const r of e)r.primitiveName===t&&(void 0!==r.value?o+=`-${r.primitiveName}-${r.propertyName}-${JSON.stringify(r.value)}`:r.valueExpressionInfo&&(i=!0));return[i,o]}function K(e,t,i){if(e&&t)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const o=e.symbolLayers;if(!o)return;for(const e of o)switch(e.type){case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMCharacterMarker":case"CIMPictureMarker":"url"in e&&e.url&&i.push(t.fetchResource(e.url,null));break;case"CIMVectorMarker":{const o=e.markerGraphics;if(!o)continue;for(const e of o)if(e){const o=e.symbol;o&&K(o,t,i)}}}}}}const _=e=>e&&2===e.length&&e[0].enable&&e[1].enable&&"CIMSolidStroke"===e[0].type&&"CIMSolidFill"===e[1].type&&!e[0].effects&&!e[1].effects;


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/CIMEffectHelper.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/CIMEffectHelper.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CIMEffectHelper": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CIMEffects_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CIMEffects.js */ "./node_modules/@arcgis/core/symbols/cim/CIMEffects.js");
/* harmony import */ var _CIMOperators_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CIMOperators.js */ "./node_modules/@arcgis/core/symbols/cim/CIMOperators.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const c=96/72;class f{static executeEffects(t,s){const r=(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__.cloneAndDecodeGeometry)(s),f=c;let p=new _CIMEffects_js__WEBPACK_IMPORTED_MODULE_2__.SimpleGeometryCursor(r);for(const e of t){const t=(0,_CIMOperators_js__WEBPACK_IMPORTED_MODULE_3__.getEffectOperator)(e);t&&(p=t.execute(p,e,f,!0))}return p}static next(t){const s=t.next();return (0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__.deltaEncodeGeometry)(s),s}static applyEffects(e,r){if(!e)return r;let c=new _CIMEffects_js__WEBPACK_IMPORTED_MODULE_2__.SimpleGeometryCursor(r);for(const t of e){const s=(0,_CIMOperators_js__WEBPACK_IMPORTED_MODULE_3__.getEffectOperator)(t);s&&(c=s.execute(c,t,1,!1))}let f,p=null;for(;f=c.next();)p?(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolyline)(p)?(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolyline)(f)&&p.paths.push(...f.paths):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolygon)(p)&&(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolygon)(f)&&p.rings.push(...f.rings):p=f;return p}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectAddControlPoints.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectAddControlPoints.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectAddControlPoints": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class o{static local(){return null===o.instance&&(o.instance=new o),o.instance}execute(s,t,e){return new r(s,t,e)}}o.instance=null;class r{constructor(s,t,e){this._inputGeometries=s,this._angleTolerance=void 0!==t.angleTolerance?t.angleTolerance:120,this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/180)*Math.PI)}next(){let n=this._inputGeometries.next();for(;n;){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolygon)(n)){this._isClosed=!0;const t=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(n);return this._processMultipath(t.rings),t}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolyline)(n)){this._isClosed=!1;const t=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(n);return this._processMultipath(t.paths),t}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isExtent)(n)){if(this._maxCosAngle)return n;this._isClosed=!0;const s=[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]];return this._processPath(s),{rings:[s]}}n=this._inputGeometries.next()}return null}_processMultipath(s){if(s)for(const t of s)this._processPath(t)}_processPath(s){if(s){let t,e,i,o,r,l,a=s.length,h=s[0];this._isClosed&&++a;for(let c=1;c<a;++c){let m;m=this._isClosed&&c===a-1?s[0]:s[c];const _=m[0]-h[0],u=m[1]-h[1],p=Math.sqrt(_*_+u*u);if(c>1&&p>0&&i>0){(t*_+e*u)/p/i<=this._maxCosAngle&&(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_2__.setId)(h,1)}1===c&&(o=_,r=u,l=p),p>0&&(h=m,t=_,e=u,i=p)}if(this._isClosed&&i>0&&l>0){(t*o+e*r)/l/i<=this._maxCosAngle&&(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_2__.setId)(s[0],1)}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectArrow.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectArrow.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectArrow": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const s=1.7320508075688772,i=5,l="OpenEnded";class c{static local(){return null===c.instance&&(c.instance=new c),c.instance}execute(t,e,r){return new u(t,e,r)}}c.instance=null;class u extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathGeometryCursor{constructor(t,e,o){super(t,!1,!0),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._width=(void 0!==e.width?e.width:i)*o,this._arrowType=void 0!==e.geometricEffectArrowType?e.geometricEffectArrowType:l,this._offsetFlattenError=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PIXEL_TOLERANCE*o}processPath(t){switch(this._arrowType){case"OpenEnded":default:return this._constructSimpleArrow(t,!0);case"Block":return this._constructSimpleArrow(t,!1);case"Crossed":return this._constructCrossedArrow(t)}}_constructSimpleArrow(t,e){const r=this._curveHelper.calculatePathLength(t);let n=this._width;r<2*n&&(n=r/2);const s=this._curveHelper.getSubCurve(t,0,r-n);if(!s)return null;const i=n/2;if(this._curveHelper.isEmpty(s,!1))return null;const l=this._constructOffset(s,-i);if(!l)return null;const c=this._constructOffset(s,i);if(!c)return null;const u=this._constructArrowBasePoint(l,-i/2);if(!u)return null;const h=this._constructArrowBasePoint(c,i/2);if(!h)return null;const a=t[t.length-1];e||(this._makeControlPoint(c,!0),this._makeControlPoint(l,!0));const _=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PathHelper;return _.addPath(c,!0),_.lineTo(h),this._makeControlPoint(_.path()),_.lineTo(a),this._makeControlPoint(_.path()),_.lineTo(u),this._makeControlPoint(_.path()),_.addPath(l,!1),e?{paths:[_.path()]}:(_.close(),{rings:[_.path()]})}_constructCrossedArrow(t){const e=this._curveHelper.calculatePathLength(t);let r=this._width;e<r*(1+s+1)&&(r=e/(1+s+1));const n=this._curveHelper.getSubCurve(t,0,e-r*(1+s));if(!n)return null;const i=r/2;if(this._curveHelper.isEmpty(n,!1))return null;const l=this._constructOffset(n,i);if(!l)return null;const c=this._constructOffset(n,-i);if(!c)return null;const u=this._curveHelper.getSubCurve(t,0,e-r);if(!u)return null;if(this._curveHelper.isEmpty(u,!1))return null;const h=this._constructOffset(u,i);if(!h)return null;const a=this._constructOffset(u,-i);if(!a)return null;const _=h[h.length-1],f=this._constructArrowBasePoint(h,i/2);if(!f)return null;const p=a[a.length-1],d=this._constructArrowBasePoint(a,-i/2);if(!d)return null;const m=t[t.length-1];this._makeControlPoint(l,!1),this._makeControlPoint(c,!1);const w=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PathHelper;return w.addPath(l,!0),this._makeControlPoint(w.path()),w.lineTo(p),w.lineTo(d),this._makeControlPoint(w.path()),w.lineTo(m),this._makeControlPoint(w.path()),w.lineTo(f),this._makeControlPoint(w.path()),w.lineTo(_),this._makeControlPoint(w.path()),w.addPath(c,!1),{paths:[w.path()]}}_constructOffset(t,e){return this._curveHelper.offset(t,e,"Rounded",4,this._offsetFlattenError)}_constructArrowBasePoint(t,e){if(!t||t.length<2)return null;const r=t[t.length-2],n=t[t.length-1],o=[n[0]-r[0],n[1]-r[1]];return this._curveHelper.normalize(o),[n[0]+o[1]*e,n[1]-o[0]*e]}_makeControlPoint(t,r=!1){(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.setId)(r?t[0]:t[t.length-1],1)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectBuffer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectBuffer.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectBuffer": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class o{static local(){return null===o.instance&&(o.instance=new o),o.instance}execute(e,t,i){return new f(e,t,i)}}o.instance=null;class f{constructor(e,t,i){this._inputGeometries=e,this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._size=(void 0!==t.size?t.size:1)*i,this._offsetFlattenError=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PIXEL_TOLERANCE*i}next(){let n=this._inputGeometries.next();for(;n;){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isExtent)(n))if(this._size>0){const e=[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]],t=this._curveHelper.offset(e,this._size,"Rounded",4,this._offsetFlattenError);if(t)return{rings:[t]}}else{if(!(this._size<0))return n;if(Math.min(n.xmax-n.xmin,n.ymax-n.ymin)+2*this._size>0)return{xmin:n.xmin-this._size,xmax:n.xmax+this._size,ymin:n.ymin-this._size,ymax:n.ymax+this._size}}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolygon)(n)){if(0===this._size)return n;const e=[];for(const t of n.rings){const i=this._curveHelper.offset(t,this._size,"Rounded",4,this._offsetFlattenError);i&&e.push(i)}if(e.length)return{rings:e}}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolyline)(n)&&this._size>0){const e=[];for(const t of n.paths)if(t&&t.length>1){const i=this._curveHelper.offset(t,this._size,"Rounded",4,this._offsetFlattenError),s=this._curveHelper.offset(t,-this._size,"Rounded",4,this._offsetFlattenError);if(i&&s){for(let e=s.length-1;e>=0;e--)i.push(s[e]);i.push([i[0][0],i[0][1]]),e.push(i)}}if(e.length)return{rings:e}}(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPoint)(n)&&this._size,n=this._inputGeometries.next()}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectControlMeasureLine.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectControlMeasureLine.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectControlMeasureLine": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class r{static local(){return null===r.instance&&(r.instance=new r),r.instance}execute(s,t,i){return new _(s,t,i)}}r.instance=null;class _{constructor(s,t,i){var h;this._default_point_size=20,this._inputGeometries=s,this._geomUnitsPerPoint=i,this._rule=null!=(h=t.rule)?h:"FullGeometry",this._default_size=this._default_point_size*i}next(){let e;for(;e=this._inputGeometries.next();){let r;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPoint)(e)?r=this._processGeom([[[e.x,e.y]]]):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isMultipoint)(e)?r=this._processGeom([e.points]):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolyline)(e)?r=this._processGeom(e.paths):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolygon)(e)&&(r=this._processGeom(e.rings)),r&&r.length)return{paths:r}}return null}_clone(s){return[s[0],s[1]]}_mid(s,t){return[(s[0]+t[0])/2,(s[1]+t[1])/2]}_mix(s,t,i,h){return[s[0]*t+i[0]*h,s[1]*t+i[1]*h]}_add(s,t){return[s[0]+t[0],s[1]+t[1]]}_add2(s,t,i){return[s[0]+t,s[1]+i]}_sub(s,t){return[s[0]-t[0],s[1]-t[1]]}_dist(s,t){return Math.sqrt((s[0]-t[0])*(s[0]-t[0])+(s[1]-t[1])*(s[1]-t[1]))}_norm(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}_normalize(s,t=1){const i=t/this._norm(s);s[0]*=i,s[1]*=i}_leftPerpendicular(s){const t=s[1],i=-s[0];s[0]=t,s[1]=i}_leftPerp(s){return[s[1],-s[0]]}_rightPerpendicular(s){const t=-s[1],i=s[0];s[0]=t,s[1]=i}_rightPerp(s){return[-s[1],s[0]]}_dotProduct(s,t){return s[0]*t[0]+s[1]*t[1]}_crossProduct(s,t){return-(s[0]*t[1]-s[1]*t[0])}_rotateDirect(s,t,i){i=-i;const h=s[0]*t-s[1]*i,e=s[0]*i+s[1]*t;s[0]=h,s[1]=e}_makeCtrlPt(s){const t=[s[0],s[1]];return (0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__.setId)(t,1),t}_addAngledTicks(s,t,i,h){const e=this._sub(i,t);this._normalize(e);const r=this._crossProduct(e,this._sub(h,t));let _;_=r>0?this._rightPerp(e):this._leftPerp(e);const c=Math.abs(r)/2,u=[];u.push([t[0]+(_[0]-e[0])*c,t[1]+(_[1]-e[1])*c]),u.push(t),u.push(i),u.push([i[0]+(_[0]+e[0])*c,i[1]+(_[1]+e[1])*c]),s.push(u)}_addBezier2(s,t,i,h,e){if(0==e--)return void s.push(h);const r=this._mid(t,i),_=this._mid(i,h),c=this._mid(r,_);this._addBezier2(s,t,r,c,e),this._addBezier2(s,c,_,h,e)}_addBezier3(s,t,i,h,e,r){if(0==r--)return void s.push(e);const _=this._mid(t,i),c=this._mid(i,h),u=this._mid(h,e),o=this._mid(_,c),n=this._mid(c,u),a=this._mid(o,n);this._addBezier3(s,t,_,o,a,r),this._addBezier3(s,a,n,u,e,r)}_add90DegArc(s,t,i,h,e){const r=null!=e?e:this._crossProduct(this._sub(i,t),this._sub(h,t))>0,_=this._mid(t,i),c=this._sub(_,t);r?this._leftPerpendicular(c):this._rightPerpendicular(c),_[0]+=c[0],_[1]+=c[1],this._addBezier3(s,t,this._mix(t,.33333,_,.66667),this._mix(i,.33333,_,.66667),i,4)}_addArrow(s,t,i){const h=t[0],e=t[1],r=t[t.length-1],_=this._sub(h,e);this._normalize(_);const c=this._crossProduct(_,this._sub(r,e)),u=.5*c,o=this._leftPerp(_),n=[r[0]-o[0]*c,r[1]-o[1]*c],a=t.length-1,p=[];p.push(i?[-o[0],-o[1]]:o);let l=[-_[0],-_[1]];for(let d=1;d<a-1;d++){const s=this._sub(t[d+1],t[d]);this._normalize(s);const i=this._dotProduct(s,l),h=this._crossProduct(s,l),e=Math.sqrt((1+i)/2),r=this._sub(s,l);this._normalize(r),r[0]/=e,r[1]/=e,p.push(h<0?[-r[0],-r[1]]:r),l=s}p.push(this._rightPerp(l));for(let d=p.length-1;d>0;d--)s.push([t[d][0]+p[d][0]*u,t[d][1]+p[d][1]*u]);s.push([n[0]+p[0][0]*u,n[1]+p[0][1]*u]),s.push([n[0]+p[0][0]*c,n[1]+p[0][1]*c]),s.push(h),s.push([n[0]-p[0][0]*c,n[1]-p[0][1]*c]),s.push([n[0]-p[0][0]*u,n[1]-p[0][1]*u]);for(let d=1;d<p.length;d++)s.push([t[d][0]-p[d][0]*u,t[d][1]-p[d][1]*u])}_cp2(s,t,i){return s.length>=2?s[1]:this._add2(s[0],t*this._default_size,-i*this._default_size)}_cp3(s,t,i,h){if(s.length>=3)return s[2];const e=this._mix(s[0],1-i,t,i),r=this._sub(t,s[0]);return this._normalize(r),this._rightPerpendicular(r),[e[0]+r[0]*h*this._default_size,e[1]+r[1]*h*this._default_size]}_arrowPath(s){if(s.length>2)return s;const t=s[0],i=this._cp2(s,-4,0),h=this._sub(t,i);this._normalize(h);const e=this._rightPerp(h);return[t,i,[t[0]+(e[0]-h[0])*this._default_size,t[1]+(e[1]-h[1])*this._default_size]]}_arrowLastSeg(s){const t=s[0],i=this._cp2(s,-4,0);let h;if(s.length>=3)h=s[s.length-1];else{const s=this._sub(t,i);this._normalize(s);const e=this._rightPerp(s);h=[t[0]+(e[0]-s[0])*this._default_size,t[1]+(e[1]-s[1])*this._default_size]}return[i,h]}_processGeom(s){if(!s)return null;const t=[];for(const i of s){if(!i||0===i.length)continue;const s=i.length;let h=i[0];switch(this._rule){case"PerpendicularFromFirstSegment":{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,4),r=[];r.push(e),r.push(this._mid(h,s)),t.push(r);break}case"ReversedFirstSegment":{const s=this._cp2(i,0,-1);t.push([s,h]);break}case"PerpendicularToSecondSegment":{const s=this._cp2(i,-4,1),e=this._cp3(i,s,.882353,-1.94),r=[];r.push(this._mid(s,e)),r.push(h),t.push(r);break}case"SecondSegmentWithTicks":{const s=this._cp2(i,-4,1),e=this._cp3(i,s,.882353,-1.94),r=this._sub(e,s);let _;_=this._crossProduct(r,this._sub(h,s))>0?this._rightPerp(_):this._leftPerp(r);const c=[];c.push([s[0]+(_[0]-r[0])/3,s[1]+(_[1]-r[1])/3]),c.push(s),c.push(e),c.push([e[0]+(_[0]+r[0])/3,e[1]+(_[1]+r[1])/3]),t.push(c);break}case"DoublePerpendicular":{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,3),r=this._mid(h,s),_=this._sub(r,e);this._normalize(_);const c=this._crossProduct(_,this._sub(h,e));this._leftPerpendicular(_);const u=[];u.push(h),u.push([e[0]+_[0]*c,e[1]+_[1]*c]),t.push(u);const o=[];o.push([e[0]-_[0]*c,e[1]-_[1]*c]),o.push(s),t.push(o);break}case"OppositeToFirstSegment":{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,3),r=this._mid(h,s),_=this._sub(r,e);this._normalize(_);const c=this._crossProduct(_,this._sub(h,e));this._leftPerpendicular(_);const u=[];u.push([e[0]+_[0]*c,e[1]+_[1]*c]),u.push([e[0]-_[0]*c,e[1]-_[1]*c]),t.push(u);break}case"TriplePerpendicular":{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,4),r=this._mid(h,s),_=this._sub(r,e);this._normalize(_);const c=this._crossProduct(_,this._sub(h,e));this._leftPerpendicular(_);const u=[];u.push([e[0]+_[0]*c*.8,e[1]+_[1]*c*.8]),u.push([r[0]+.8*(h[0]-r[0]),r[1]+.8*(h[1]-r[1])]),t.push(u),t.push([e,r]);const o=[];o.push([e[0]-_[0]*c*.8,e[1]-_[1]*c*.8]),o.push([r[0]+.8*(s[0]-r[0]),r[1]+.8*(s[1]-r[1])]),t.push(o);break}case"HalfCircleFirstSegment":{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,4),r=this._mid(h,s);let _=this._sub(s,h);const c=Math.cos(Math.PI/18),u=Math.sin(Math.PI/18),o=Math.sqrt((1+c)/2),n=Math.sqrt((1-c)/2),a=[];let p;this._crossProduct(_,this._sub(e,h))>0?(a.push(h),_=this._sub(h,r),p=s):(a.push(s),_=this._sub(s,r),p=h),this._rotateDirect(_,o,n),_[0]/=o,_[1]/=o;for(let t=1;t<=18;t++)a.push(this._add(r,_)),this._rotateDirect(_,c,u);a.push(p),t.push(a);break}case"HalfCircleSecondSegment":{const s=this._cp2(i,0,-1),e=this._cp3(i,s,1,-1);let r=this._sub(h,s);this._normalize(r);const _=this._crossProduct(r,this._sub(e,s))/2;this._leftPerpendicular(r);const c=[s[0]+r[0]*_,s[1]+r[1]*_];r=this._sub(s,c);const u=Math.cos(Math.PI/18);let o=Math.sin(Math.PI/18);_>0&&(o=-o);const n=[s];for(let t=1;t<=18;t++)this._rotateDirect(r,u,o),n.push(this._add(c,r));t.push(n);break}case"HalfCircleExtended":{const e=this._cp2(i,0,-2),r=this._cp3(i,e,1,-1);let _;if(s>=4)_=i[3];else{const s=this._sub(h,e);_=this._add(r,s)}const c=this._dist(e,r)/2/.75,u=this._sub(e,h);this._normalize(u,c);const o=this._sub(r,_);this._normalize(o,c);const n=[_,r];t.push(n);const a=[this._clone(r)];this._addBezier3(a,r,this._add(r,o),this._add(e,u),e,4),a.push(h),t.push(a);break}case"OpenCircle":{const s=this._cp2(i,-2,0),e=this._sub(s,h),r=Math.cos(Math.PI/18),_=-Math.sin(Math.PI/18),c=[s];for(let t=1;t<=33;t++)this._rotateDirect(e,r,_),c.push(this._add(h,e));t.push(c);break}case"CoverageEdgesWithTicks":{const e=this._cp2(i,0,-1);let r,_;if(s>=3)r=i[2];else{const s=this._sub(e,h),t=this._leftPerp(s);r=[h[0]+t[0]-.25*s[0],h[1]+t[1]-.25*s[1]]}if(s>=4)_=i[3];else{const s=this._mid(h,e),t=this._sub(h,e);this._normalize(t),this._leftPerpendicular(t);const i=this._crossProduct(t,this._sub(r,s));this._rightPerpendicular(t),_=[r[0]+t[0]*i*2,r[1]+t[1]*i*2]}const c=this._sub(e,h);let u,o;u=this._crossProduct(c,this._sub(r,h))>0?this._rightPerp(c):this._leftPerp(c),o=[],o.push(r),o.push(h),o.push([h[0]+(u[0]-c[0])/3,h[1]+(u[1]-c[1])/3]),t.push(o),u=this._crossProduct(c,this._sub(_,e))>0?this._rightPerp(u):this._leftPerp(c),o=[],o.push([e[0]+(u[0]+c[0])/3,e[1]+(u[1]+c[1])/3]),o.push(e),o.push(_),t.push(o);break}case"GapExtentWithDoubleTicks":{const e=this._cp2(i,0,2),r=this._cp3(i,e,0,1);let _;if(s>=4)_=i[3];else{const s=this._sub(e,h);_=this._add(r,s)}this._addAngledTicks(t,h,e,this._mid(r,_)),this._addAngledTicks(t,r,_,this._mid(h,e));break}case"GapExtentMidline":{const e=this._cp2(i,2,0),r=this._cp3(i,e,0,1);let _;if(s>=4)_=i[3];else{const s=this._sub(e,h);_=this._add(r,s)}const c=[];c.push(this._mid(h,r)),c.push(this._mid(e,_)),t.push(c);break}case"Chevron":{const e=this._cp2(i,-1,-1);let r;if(s>=3)r=i[2];else{const s=this._sub(e,h);this._leftPerpendicular(s),r=this._add(h,s)}t.push([e,this._makeCtrlPt(h),r]);break}case"PerpendicularWithArc":{const s=this._cp2(i,0,-2),e=this._cp3(i,s,.5,-1);let r=this._sub(s,h);const _=this._norm(r);r[0]/=_,r[1]/=_;const c=this._crossProduct(r,this._sub(e,h));let u=this._dotProduct(r,this._sub(e,h));u<.05*_?u=.05*_:u>.95*_&&(u=.95*_);const o=[h[0]+r[0]*u,h[1]+r[1]*u];this._leftPerpendicular(r);let n=[];n.push([o[0]-r[0]*c,o[1]-r[1]*c]),n.push([o[0]+r[0]*c,o[1]+r[1]*c]),t.push(n);const a=[s[0]+r[0]*c,s[1]+r[1]*c];r=this._sub(s,a);const p=Math.cos(Math.PI/18);let l=Math.sin(Math.PI/18);c<0&&(l=-l),n=[h,s];for(let t=1;t<=9;t++)this._rotateDirect(r,p,l),n.push(this._add(a,r));t.push(n);break}case"ClosedHalfCircle":{const s=this._cp2(i,2,0),e=this._mid(h,s),r=this._sub(s,e),_=Math.cos(Math.PI/18),c=Math.sin(Math.PI/18),u=[h,s];for(let t=1;t<=18;t++)this._rotateDirect(r,_,c),u.push(this._add(e,r));t.push(u);break}case"TripleParallelExtended":{const s=this._cp2(i,0,-2),r=this._cp3(i,s,1,-2),_=this._mid(h,s),c=this._sub(r,s);this._normalize(c);const u=Math.abs(this._crossProduct(c,this._sub(_,s)))/2,o=this._dist(s,r),n=[s,h];n.push([h[0]+c[0]*o*.5,h[1]+c[1]*o*.5]),t.push(n);const a=[];a.push([_[0]-c[0]*u,_[1]-c[1]*u]),a.push([_[0]+c[0]*o*.375,_[1]+c[1]*o*.375]),(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__.setId)(a[a.length-1],1),a.push([_[0]+c[0]*o*.75,_[1]+c[1]*o*.75]),t.push(a);const p=[s,r];t.push(p);break}case"ParallelWithTicks":{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._sub(e,s);this._normalize(r);const _=this._crossProduct(r,this._sub(e,h));this._leftPerpendicular(r),this._addAngledTicks(t,h,s,e),this._addAngledTicks(t,this._mix(h,1,r,_),this._mix(s,1,r,_),this._mid(h,s));break}case"Parallel":{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._sub(s,h);this._normalize(r);const _=this._leftPerp(r),c=this._crossProduct(r,this._sub(e,h));let u=[h,s];t.push(u),u=[],u.push([h[0]+_[0]*c,h[1]+_[1]*c]),u.push([s[0]+_[0]*c,s[1]+_[1]*c]),t.push(u);break}case"PerpendicularToFirstSegment":{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._mid(h,s),_=this._sub(s,h);this._normalize(_);const c=this._crossProduct(_,this._sub(e,h));this._leftPerpendicular(_);const u=[];u.push([r[0]-_[0]*c*.25,r[1]-_[1]*c*.25]),u.push([r[0]+_[0]*c*1.25,r[1]+_[1]*c*1.25]),t.push(u);break}case"ParallelOffset":{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._sub(s,h);this._normalize(r);const _=this._crossProduct(r,this._sub(e,h));this._leftPerpendicular(r);const c=[];c.push([h[0]-r[0]*_,h[1]-r[1]*_]),c.push([s[0]-r[0]*_,s[1]-r[1]*_]),t.push(c);const u=[];u.push([h[0]+r[0]*_,h[1]+r[1]*_]),u.push([s[0]+r[0]*_,s[1]+r[1]*_]),t.push(u);break}case"OffsetOpposite":{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._sub(s,h);this._normalize(r);const _=this._crossProduct(r,this._sub(e,h));this._leftPerpendicular(r);const c=[];c.push([h[0]-r[0]*_,h[1]-r[1]*_]),c.push([s[0]-r[0]*_,s[1]-r[1]*_]),t.push(c);break}case"OffsetSame":{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._sub(s,h);this._normalize(r);const _=this._crossProduct(r,this._sub(e,h));this._leftPerpendicular(r);const c=[];c.push([h[0]+r[0]*_,h[1]+r[1]*_]),c.push([s[0]+r[0]*_,s[1]+r[1]*_]),t.push(c);break}case"CircleWithArc":{let r=this._cp2(i,3,0);const _=this._cp3(i,r,.5,-1);let c,u;if(s>=4)c=i[3],u=this._crossProduct(this._sub(c,r),this._sub(_,r))>0;else{c=r,u=this._crossProduct(this._sub(c,h),this._sub(_,h))>0;const s=24*this._geomUnitsPerPoint,t=this._sub(c,h);this._normalize(t,s);const i=Math.sqrt(2)/2;this._rotateDirect(t,i,u?i:-i),r=this._add(h,t)}const o=this._sub(r,h),n=Math.cos(Math.PI/18),a=Math.sin(Math.PI/18),p=[r];for(let s=1;s<=36;s++)this._rotateDirect(o,n,a),p.push(this._add(h,o));this._add90DegArc(p,r,c,_,u),(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__.setId)(p[p.length-8],1),t.push(p);break}case"DoubleJog":{let e,r,_=this._cp2(i,-3,1);if(e=s>=3?i[2]:this._add(h,this._sub(h,_)),s>=4)r=i[3];else{const s=h;h=_,r=e;const t=this._dist(h,s),i=this._dist(r,s);let c=30*this._geomUnitsPerPoint;.5*t<c&&(c=.5*t),.5*i<c&&(c=.5*i),_=this._mix(h,c/t,s,(t-c)/t),e=this._mix(r,c/i,s,(i-c)/i)}const c=this._mid(h,_),u=this._mid(r,e),o=this._dist(h,_),n=this._dist(e,r);let a=Math.min(o,n)/8;a=Math.min(a,24*this._geomUnitsPerPoint);const p=Math.cos(Math.PI/4);let l=this._sub(h,_);this._normalize(l,a),this._crossProduct(l,this._sub(r,_))>0?this._rotateDirect(l,p,-p):this._rotateDirect(l,p,p);let d=[];d.push(_),d.push(this._add(c,l)),d.push(this._sub(c,l)),d.push(h),t.push(d),l=this._sub(r,e),this._normalize(l,a),this._crossProduct(l,this._sub(h,e))<0?this._rotateDirect(l,p,p):this._rotateDirect(l,p,-p),d=[],d.push(e),d.push(this._add(u,l)),d.push(this._sub(u,l)),d.push(r),t.push(d);break}case"PerpendicularOffset":{const s=this._cp2(i,-4,1),e=this._cp3(i,s,.882353,-1.94),r=this._sub(e,s);this._crossProduct(r,this._sub(h,s))>0?this._rightPerpendicular(r):this._leftPerpendicular(r);const _=[r[0]/8,r[1]/8],c=this._sub(this._mid(s,e),_);t.push([c,h]);break}case"LineExcludingLastSegment":{const s=this._arrowPath(i),h=[];let e=s.length-2;for(;e--;)h.push(s[e]);t.push(h);break}case"MultivertexArrow":{const s=this._arrowPath(i),h=[];this._addArrow(h,s,!1),t.push(h);break}case"CrossedArrow":{const s=this._arrowPath(i),h=[];this._addArrow(h,s,!0),t.push(h);break}case"ChevronArrow":{const[s,e]=this._arrowLastSeg(i),r=10*this._geomUnitsPerPoint,_=this._sub(h,s);this._normalize(_);const c=this._crossProduct(_,this._sub(e,s)),u=this._leftPerp(_),o=[e[0]-u[0]*c*2,e[1]-u[1]*c*2],n=[];n.push([e[0]+_[0]*r,e[1]+_[1]*r]),n.push(h),n.push([o[0]+_[0]*r,o[1]+_[1]*r]),t.push(n);break}case"ChevronArrowOffset":{const[s,e]=this._arrowLastSeg(i),r=this._sub(h,s);this._normalize(r);const _=this._crossProduct(r,this._sub(e,s));this._leftPerpendicular(r);const c=[e[0]-r[0]*_,e[1]-r[1]*_],u=[];u.push([c[0]+r[0]*_*.5,c[1]+r[1]*_*.5]),u.push(this._mid(c,h)),u.push([c[0]-r[0]*_*.5,c[1]-r[1]*_*.5]),t.push(u);break}case"PartialFirstSegment":{const[s,e]=this._arrowLastSeg(i),r=this._sub(h,s);this._normalize(r);const _=this._crossProduct(r,this._sub(e,s));this._leftPerpendicular(r);const c=[e[0]-r[0]*_,e[1]-r[1]*_];t.push([s,c]);break}case"Arch":{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,1),r=this._sub(h,s),_=this._mix(e,1,r,.55),c=this._mix(e,1,r,-.55),u=[h];this._addBezier2(u,h,_,e,4),this._addBezier2(u,e,c,s,4),t.push(u);break}case"CurvedParallelTicks":{const s=this._cp2(i,-4,1),e=this._cp3(i,s,.882353,-1.94),r=this._sub(e,s);this._crossProduct(r,this._sub(h,s))>0?this._rightPerpendicular(r):this._leftPerpendicular(r);const _=[r[0]/8,r[1]/8],c=this._sub(this._mid(s,e),_),u=this._sub(this._mix(s,.75,e,.25),_),o=this._sub(this._mix(s,.25,e,.75),_),n=[s];this._addBezier2(n,s,u,c,3),this._addBezier2(n,c,o,e,3),t.push(n);for(let i=0;i<8;i++){const s=n[2*i+1],h=[this._clone(s)];h.push(this._add(s,[r[0]/4,r[1]/4])),t.push(h)}break}case"Arc90Degrees":{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,1),r=[s];this._add90DegArc(r,s,h,e),t.push(r);break}default:t.push(i)}}return t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectCut.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectCut.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectCut": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class u{static local(){return null===u.instance&&(u.instance=new u),u.instance}execute(e,t,u){return new s(e,t,u)}}u.instance=null;class s extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathGeometryCursor{constructor(e,u,s){super(e,!0,!0),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._beginCut=(void 0!==u.beginCut?u.beginCut:1)*s,this._endCut=(void 0!==u.endCut?u.endCut:1)*s,this._middleCut=(void 0!==u.middleCut?u.middleCut:0)*s,this._invert=void 0!==u.invert&&u.invert,this._beginCut<0&&(this._beginCut=0),this._endCut<0&&(this._endCut=0),this._middleCut<0&&(this._middleCut=0)}processPath(e){const t=this._beginCut,u=this._endCut,s=this._middleCut,i=this._curveHelper.calculatePathLength(e),r=[];if(this._invert)if(0===t&&0===u&&0===s);else if(t+u+s>=i)r.push(e);else{let n=this._curveHelper.getSubCurve(e,0,t);n&&r.push(n),n=this._curveHelper.getSubCurve(e,.5*(i-s),.5*(i+s)),n&&r.push(n),n=this._curveHelper.getSubCurve(e,i-u,u),n&&r.push(n)}else if(0===t&&0===u&&0===s)r.push(e);else if(t+u+s>=i);else if(0===s){const s=this._curveHelper.getSubCurve(e,t,i-u);s&&r.push(s)}else{let n=this._curveHelper.getSubCurve(e,t,.5*(i-s));n&&r.push(n),n=this._curveHelper.getSubCurve(e,.5*(i+s),i-u),n&&r.push(n)}return 0===r.length?null:{paths:r}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectDashes.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectDashes.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectDashes": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/* harmony import */ var _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../GeometryWalker.js */ "./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class i{static local(){return null===i.instance&&(i.instance=new i),i.instance}execute(t,e,s){return new r(t,e,s)}}i.instance=null;class r extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathGeometryCursor{constructor(t,e,i){var r,n;super(t,!0,!0),this._walker=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.GeometryWalker,this._walker.updateTolerance(i),this._endings=e.lineDashEnding,this._customDashPos=-(null!=(r=e.offsetAlongLine)?r:0)*i,this._offsetAtEnd=(null!=(n=e.customEndingOffset)?n:0)*i,this._pattern=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.DashPattern,this._pattern.init(e.dashTemplate,!0),this._pattern.scale(i)}processPath(t){if(0===this._pattern.length())return this.iteratePath=!1,{paths:[t]};if(!this.iteratePath){let e=!0;switch(this._endings){case"HalfPattern":case"HalfGap":default:this._pattern.extPtGap=0;break;case"FullPattern":this.isClosed||(this._pattern.extPtGap=.5*this._pattern.firstValue());break;case"FullGap":this.isClosed||(this._pattern.extPtGap=.5*this._pattern.lastValue());break;case"NoConstraint":this.isClosed||(e=!1);break;case"Custom":this.isClosed||(this._pattern.extPtGap=.5*this._offsetAtEnd)}const s=this._walker.calculatePathLength(t);if(this._pattern.isEmpty()||s<.1*this._pattern.length())return{paths:[t]};if(!this._walker.init(t,this._pattern,e))return{paths:[t]}}let s;if(this.iteratePath)s=this._pattern.nextValue();else{let t;switch(this._endings){case"HalfPattern":default:t=.5*this._pattern.firstValue();break;case"HalfGap":t=.5*-this._pattern.lastValue();break;case"FullGap":t=-this._pattern.lastValue();break;case"FullPattern":t=0;break;case"NoConstraint":case"Custom":t=-this._customDashPos}let e=t/this._pattern.length();e-=Math.floor(e),t=e*this._pattern.length(),this._pattern.reset(),s=this._pattern.nextValue();let a=!1;for(;t>=s;)t-=s,s=this._pattern.nextValue(),a=!a;s-=t,a?(this._walker.nextPosition(s),s=this._pattern.nextValue()):this.isClosed&&(this._firstCurve=this._walker.nextCurve(s),s=this._pattern.nextValue(),this._walker.nextPosition(s),s=this._pattern.nextValue())}let a=this._walker.nextCurve(s);return a?this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(this._firstCurve.splice(0,1),_CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PathHelper.mergePath(a,this._firstCurve),this._firstCurve=null)):(s=this._pattern.nextValue(),!this._walker.nextPosition(s)||this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(a=this._firstCurve,this._firstCurve=null)):this.iteratePath=!0):(this.iteratePath=!1,a=this._firstCurve,this._firstCurve=null),{paths:[a]}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectDonut.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectDonut.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectDonut": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class h{static local(){return null===h.instance&&(h.instance=new h),h.instance}execute(t,i,e){return new n(t,i,e)}}h.instance=null;class n{constructor(t,i,h){switch(this._inputGeometries=t,this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._width=(void 0!==i.width?i.width:2)*h,i.method){case"Mitered":default:this._method="Mitered";break;case"Bevelled":this._method="Bevelled";break;case"Rounded":case"TrueBuffer":this._method="Rounded";break;case"Square":this._method="Square"}this._option=i.option,this._offsetFlattenError=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PIXEL_TOLERANCE*h}next(){let e=this._inputGeometries.next();for(;e;){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isExtent)(e)&&this._width>0){if(Math.min(e.xmax-e.xmin,e.ymax-e.ymin)-2*this._width<0)return e;const t=[];return t.push([[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]),t.push([[e.xmin+this._width,e.ymin+this._width],[e.xmax-this._width,e.ymin+this._width],[e.xmax-this._width,e.ymax-this._width],[e.xmin+this._width,e.ymax-this._width],[e.xmin+this._width,e.ymin+this._width]]),{rings:t}}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolygon)(e)&&this._width>0){const t=[];for(const i of e.rings){const e=this._curveHelper.calculatePathLength(i),s=this._curveHelper.offset(i,this._width,this._method,4,this._offsetFlattenError);s&&(e<0&&s.reverse(),t.push(s))}if(t.length)return{rings:t}}e=this._inputGeometries.next()}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectJog.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectJog.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectJog": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class s{static local(){return null===s.instance&&(s.instance=new s),s.instance}execute(t,i,s){return new e(t,i,s)}}s.instance=null;class e extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathGeometryCursor{constructor(t,s,e){super(t,!1,!0),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._length=(void 0!==s.length?s.length:20)*e,this._angle=void 0!==s.angle?s.angle:225,this._position=void 0!==s.position?s.position:50,this._length<0&&(this._length=-this._length),this._position<20&&(this._position=20),this._position>80&&(this._position=80),this._mirror=!1}processPath(t){if(this._curveHelper.isEmpty(t,!1))return null;const i=t[0],s=t[t.length-1],e=[s[0]-i[0],s[1]-i[1]];this._curveHelper.normalize(e);const n=[i[0]+(s[0]-i[0])*this._position/100,i[1]+(s[1]-i[1])*this._position/100],h=Math.cos((90-this._angle)/180*Math.PI);let r=Math.sin((90-this._angle)/180*Math.PI);this._mirror&&(r=-r),this._mirror=!this._mirror;return{paths:[[i,[n[0]-this._length/2*h,n[1]-this._length/2*r],[n[0]+this._length/2*h,n[1]+this._length/2*r],s]]}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectMove.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectMove.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectMove": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class n{static local(){return null===n.instance&&(n.instance=new n),n.instance}execute(t,s,e){return new r(t,s,e)}}n.instance=null;class r{constructor(t,s,e){this._inputGeometries=t,this._offsetX=void 0!==s.offsetX?s.offsetX*e:0,this._offsetY=void 0!==s.offsetY?-s.offsetY*e:0}next(){let n=this._inputGeometries.next();for(;n;){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isExtent)(n))return{xmin:n.xmin+this._offsetX,xmax:n.xmax+this._offsetX,ymin:n.ymin+this._offsetY,ymax:n.ymax+this._offsetY};if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolygon)(n)){const s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(n);return this._moveMultipath(s.rings,this._offsetX,this._offsetY),s}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolyline)(n)){const s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(n);return this._moveMultipath(s.paths,this._offsetX,this._offsetY),s}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isMultipoint)(n)){const s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(n);return this._movePath(s.points,this._offsetX,this._offsetY),s}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPoint)(n))return{x:n.x+this._offsetX,y:n.y+this._offsetY};n=this._inputGeometries.next()}return null}_moveMultipath(t,s,e){if(t)for(const i of t)this._movePath(i,s,e)}_movePath(t,s,e){if(t)for(const i of t)i[0]+=s,i[1]+=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectOffset.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectOffset.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectOffset": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class o{static local(){return null===o.instance&&(o.instance=new o),o.instance}execute(t,e,s,i){return new f(t,e,s,i)}}o.instance=null;class f{constructor(t,e,s,o){var f;this._inputGeometries=t,this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._offset=(null!=(f=e.offset)?f:1)*s,o||(this._offset=-this._offset),this._method=e.method,this._option=e.option,this._offsetFlattenError=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PIXEL_TOLERANCE*s}next(){let i=this._inputGeometries.next();for(;i;){if(0===this._offset)return i;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isExtent)(i)){if("Rounded"===this._method&&this._offset>0){const t=[[i.xmin,i.ymin],[i.xmin,i.ymax],[i.xmax,i.ymax],[i.xmax,i.ymin],[i.xmin,i.ymin]],e=this._curveHelper.offset(t,this._offset,this._method,4,this._offsetFlattenError);return e?{rings:[e]}:null}if(Math.min(i.xmax-i.xmin,i.ymax-i.ymin)+2*this._offset>0)return{xmin:i.xmin-this._offset,xmax:i.xmax+this._offset,ymin:i.ymin-this._offset,ymax:i.ymax+this._offset}}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolygon)(i)){const t=[];for(const e of i.rings){const s=this._curveHelper.offset(e,this._offset,this._method,4,this._offsetFlattenError);s&&t.push(s)}if(t.length)return{rings:t}}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolyline)(i)){const t=[];for(const e of i.paths){const s=this._curveHelper.offset(e,this._offset,this._method,4,this._offsetFlattenError);s&&t.push(s)}if(t.length)return{paths:t}}i=this._inputGeometries.next()}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectReverse.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectReverse.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectReverse": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class s{static local(){return null===s.instance&&(s.instance=new s),s.instance}execute(e,t,r){return new n(e,t,r)}}s.instance=null;class n{constructor(e,t,r){this._inputGeometries=e,this._reverse=void 0===t.reverse||t.reverse}next(){let s=this._inputGeometries.next();for(;s;){if(!this._reverse)return s;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPolyline)(s)){const t=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(s);return (0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_2__.reverseMultipath)(t.paths),t}s=this._inputGeometries.next()}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectRotate.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectRotate.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectRotate": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class u{static local(){return null===u.instance&&(u.instance=new u),u.instance}execute(t,n,e){return new c(t,n,e)}}u.instance=null;class c{constructor(t,n,e){this._inputGeometries=t,this._rotateAngle=void 0!==n.angle?-n.angle*Math.PI/180:0}next(){let u=this._inputGeometries.next();for(;u;){if(0===this._rotateAngle)return u;const c=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)();(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__.getBoundsXY)(c,u);const l=(c[2]+c[0])/2,m=(c[3]+c[1])/2;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isExtent)(u)){const t={rings:[[[u.xmin,u.ymin],[u.xmin,u.ymax],[u.xmax,u.ymax],[u.xmax,u.ymin],[u.xmin,u.ymin]]]};return this._rotateMultipath(t.rings,l,m),t}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolygon)(u)){const n=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(u);return this._rotateMultipath(n.rings,l,m),n}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolyline)(u)){const n=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(u);return this._rotateMultipath(n.paths,l,m),n}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isMultipoint)(u)){const n=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(u);return this._rotatePath(n.points,l,m),n}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPoint)(u))return u;u=this._inputGeometries.next()}return null}_rotateMultipath(t,n,e){if(t)for(const r of t)this._rotatePath(r,n,e)}_rotatePath(t,n,e){if(t){const r=Math.cos(this._rotateAngle),i=Math.sin(this._rotateAngle);for(const o of t){const t=o[0]-n,s=o[1]-e;o[0]=n+t*r-s*i,o[1]=e+t*i+s*r}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectScale.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectScale.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectScale": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class c{static local(){return null===c.instance&&(c.instance=new c),c.instance}execute(t,s,i){return new l(t,s,i)}}c.instance=null;class l{constructor(t,s,i){this._inputGeometries=t,this._xFactor=void 0!==s.xScaleFactor?s.xScaleFactor:1.15,this._yFactor=void 0!==s.yScaleFactor?s.yScaleFactor:1.15}next(){let c=this._inputGeometries.next();for(;c;){if(1===this._xFactor&&1===this._yFactor)return c;const l=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)();(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__.getBoundsXY)(l,c);const u=(l[2]+l[0])/2,m=(l[3]+l[1])/2;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isExtent)(c)){const t={rings:[[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]]]};return this._scaleMultipath(t.rings,u,m),t}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolygon)(c)){const s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(c);return this._scaleMultipath(s.rings,u,m),s}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolyline)(c)){const s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(c);return this._scaleMultipath(s.paths,u,m),s}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isMultipoint)(c)){const s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(c);return this._scalePath(s.points,u,m),s}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPoint)(c))return c;c=this._inputGeometries.next()}return null}_scaleMultipath(t,s,i){if(t)for(const r of t)this._scalePath(r,s,i)}_scalePath(t,s,i){if(t)for(const r of t){const t=(r[0]-s)*this._xFactor,n=(r[1]-i)*this._yFactor;r[0]=s+t,r[1]=i+n}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectWave.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectWave.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EffectWave": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/* harmony import */ var _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../GeometryWalker.js */ "./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class n{static local(){return null===n.instance&&(n.instance=new n),n.instance}execute(t,e,i){return new r(t,e,i)}}n.instance=null;class r{constructor(t,e,i){this._inputGeometries=t,this._height=(void 0!==e.amplitude?e.amplitude:2)*i,this._period=(void 0!==e.period?e.period:3)*i,this._style=e.waveform,this._height<=0&&(this._height=Math.abs(this._height)),this._period<=0&&(this._period=Math.abs(this._period)),this._pattern=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.DashPattern,this._pattern.addValue(this._period),this._pattern.addValue(this._period),this._walker=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.GeometryWalker,this._walker.updateTolerance(i)}next(){let i=this._inputGeometries.next();for(;i;){if(0===this._height||0===this._period)return i;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolyline)(i)){const t=this._processGeom(i.paths);if(t.length)return{paths:t}}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolygon)(i)){const t=this._processGeom(i.rings);if(t.length)return{rings:t}}i=this._inputGeometries.next()}return null}_processGeom(t){const e=[];for(const i of t)if(this._walker.init(i,this._pattern))switch(this._style){case"Sinus":default:e.push(this._constructCurve(i,!1));break;case"Square":e.push(this._constructSquare(i));break;case"Triangle":e.push(this._constructTriangle(i));break;case"Random":e.push(this._constructCurve(i,!0))}else e.push(i);return e}_constructCurve(t,e){const s=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PathHelper,h=this._walker.calculatePathLength(t);let n=Math.round(h/this._period);0===n&&(n=1);const r=n*16+1,a=h/n,o=this._period/16,l=1/r,_=2*Math.PI*h/a,c=2*Math.PI*Math.random(),p=2*Math.PI*Math.random(),u=2*Math.PI*Math.random(),d=.75-Math.random()/2,g=.75-Math.random()/2,w={};this._walker.curPointAndAngle(w),s.startPath(w.pt);let k=0;for(;;){if(!this._walker.nextPointAndAngle(o,w)){s.lineTo(t[t.length-1]);break}{const t=k;let i;if(k+=l,e){const e=this._height/2*(1+.3*Math.sin(d*_*t+c));i=e*Math.sin(_*t+p),i+=e*Math.sin(g*_*t+u),i/=2}else i=.5*this._height*Math.sin(.5*_*t);s.lineTo([w.pt[0]-i*w.sa,w.pt[1]+i*w.ca])}}return s.path()}_constructSquare(t){const e=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PathHelper,s=this._walker.calculatePathLength(t);Math.round(s/this._period);let h=!0;for(;;){let t=!1;if(this._walker.curPositionIsValid()){const i={};this._walker.curPointAndAngle(i);const s={};if(this._walker.nextPointAndAngle(this._period,s)){const n={};this._walker.nextPointAndAngle(this._period,n)&&(h?(e.startPath(i.pt),h=!1):e.lineTo(i.pt),e.lineTo([i.pt[0]-this._height/2*i.sa,i.pt[1]+this._height/2*i.ca]),e.lineTo([s.pt[0]-this._height/2*s.sa,s.pt[1]+this._height/2*s.ca]),e.lineTo([s.pt[0]+this._height/2*s.sa,s.pt[1]-this._height/2*s.ca]),e.lineTo([n.pt[0]+this._height/2*n.sa,n.pt[1]-this._height/2*n.ca]),t=!0)}}if(!t){e.lineTo(this._walker.getPathEnd());break}}return e.path()}_constructTriangle(t){const e=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.PathHelper,s=this._walker.calculatePathLength(t);Math.round(s/this._period);let h=!0;for(;;){let t=!1;if(this._walker.curPositionIsValid()){const i={};this._walker.curPointAndAngle(i);const s={};if(this._walker.nextPointAndAngle(this._period/2,s)){const n={};this._walker.nextPointAndAngle(this._period,n)&&(this._walker.nextPosition(this._period/2)&&(h?(e.startPath(i.pt),h=!1):e.lineTo(i.pt),e.lineTo([s.pt[0]-this._height/2*s.sa,s.pt[1]+this._height/2*s.ca]),e.lineTo([n.pt[0]+this._height/2*n.sa,n.pt[1]-this._height/2*n.ca])),t=!0)}}if(!t){e.lineTo(this._walker.getPathEnd());break}}return e.path()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/enums.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/enums.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlacementEndings": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
var t;!function(t){t.NoConstraint="NoConstraint",t.WithMarkers="WithMarkers",t.WithFullGap="WithFullGap",t.WithHalfGap="WithHalfGap",t.Custom="Custom"}(t||(t={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAlongLineSameSize.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementAlongLineSameSize.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlacementAlongLineSameSize": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../GeometryWalker.js */ "./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class n{static local(){return null===n.instance&&(n.instance=new n),n.instance}execute(t,e,s){return new a(t,e,s)}}n.instance=null;class a extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathTransformationCursor{constructor(t,e,n){var a,r,l,h;super(t,!0,!0),this._geometryWalker=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.GeometryWalker,this._geometryWalker.updateTolerance(n),this._angleToLine=null==(a=e.angleToLine)||a,this._offset=(null!=(r=e.offset)?r:0)*n,this._originalEndings=e.endings,this._offsetAtEnd=(null!=(l=e.customEndingOffset)?l:0)*n,this._position=-(null!=(h=e.offsetAlongLine)?h:0)*n,this._pattern=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.DashPattern,this._pattern.init(e.placementTemplate,!1),this._pattern.scale(n),this._endings=this._originalEndings}processPath(t){if(this._pattern.isEmpty())return null;let s;if(this.iteratePath)s=this._pattern.nextValue();else{this._originalEndings===_enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithFullGap&&this.isClosed?this._endings=_enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithMarkers:this._endings=this._originalEndings,this._pattern.extPtGap=0;let i,n=!0;switch(this._endings){case _enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.NoConstraint:i=-this._position,i=this._adjustPosition(i),n=!1;break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithHalfGap:default:i=-this._pattern.lastValue()/2;break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithFullGap:i=-this._pattern.lastValue(),this._pattern.extPtGap=this._pattern.lastValue();break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithMarkers:i=0;break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.Custom:i=-this._position,i=this._adjustPosition(i),this._pattern.extPtGap=.5*this._offsetAtEnd}if(!this._geometryWalker.init(t,this._pattern,n))return null;this._pattern.reset();let a=0;for(;i>a;)i-=a,a=this._pattern.nextValue();a-=i,s=a,this.iteratePath=!0}const i={};return this._geometryWalker.nextPointAndAngle(s,i)?this._endings===_enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithFullGap&&this._geometryWalker.isPathEnd()?(this.iteratePath=!1,null):this._endings===_enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithMarkers&&this._geometryWalker.isPathEnd()&&(this.iteratePath=!1,this.isClosed)?null:(this.internalPlacement.setTranslate(i.pt[0]-this._offset*i.sa,i.pt[1]+this._offset*i.ca),this._angleToLine&&this.internalPlacement.setRotateCS(i.ca,i.sa),this.internalPlacement):(this.iteratePath=!1,null)}_adjustPosition(t){let e=t/this._pattern.length();return e-=Math.floor(e),e*this._pattern.length()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtExtremities.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtExtremities.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlacementAtExtremities": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class i{static local(){return null===i.instance&&(i.instance=new i),i.instance}execute(t,e,s){return new n(t,e,s)}}i.instance=null;class n extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathTransformationCursor{constructor(t,e,i){super(t,!1,!0),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._angleToLine=void 0===e.angleToLine||e.angleToLine,this._offset=void 0!==e.offset?e.offset*i:0,this._type=e.extremityPlacement,this._position=void 0!==e.offsetAlongLine?e.offsetAlongLine*i:0,this._beginProcessed=!1}processPath(t){let e;switch(this._type){case"Both":default:this._beginProcessed?(e=this._atExtremities(t,this._position,!1),this._beginProcessed=!1,this.iteratePath=!1):(e=this._atExtremities(t,this._position,!0),this._beginProcessed=!0,this.iteratePath=!0);break;case"JustBegin":e=this._atExtremities(t,this._position,!0);break;case"JustEnd":e=this._atExtremities(t,this._position,!1);case"None":}return e}_atExtremities(t,s,i){const n=t.length;if(n<2)return null;const r=i?1:n-2,o=i?n:-1,a=i?1:-1;let l,h=0,c=i?t[0]:t[n-1];for(let _=r;_!==o;_+=a){l=c,c=t[_];const i=this._curveHelper.calculateLength(l,c);if(h+i>s){const t=(s-h)/i,[n,r]=this._curveHelper.getAngleCS(l,c,t),o=(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.getCoord2D)(l,c,t);return this.internalPlacement.setTranslate(o[0]-this._offset*r,o[1]+this._offset*n),this._angleToLine&&this.internalPlacement.setRotateCS(-n,-r),this.internalPlacement}h+=i}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtRatioPositions.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtRatioPositions.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlacementAtRatioPositions": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../GeometryWalker.js */ "./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class e{static local(){return null===e.instance&&(e.instance=new e),e.instance}execute(t,i,s){return new n(t,i,s)}}e.instance=null;class n extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathTransformationCursor{constructor(t,e,n){super(t,!0,!0),this._walker=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_1__.GeometryWalker,this._walker.updateTolerance(n),this._angleToLine=void 0===e.angleToLine||e.angleToLine,this._offset=void 0!==e.offset?e.offset*n:0,this._beginGap=void 0!==e.beginPosition?e.beginPosition*n:0,this._endGap=void 0!==e.endPosition?e.endPosition*n:0,this._flipFirst=void 0===e.flipFirst||e.flipFirst,this._pattern=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_1__.DashPattern,this._pattern.init(e.positionArray,!1,!1),this._subPathLen=0,this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0}processPath(t){if(this._pattern.isEmpty())return null;let i;if(this.iteratePath){const t=this._pattern.nextValue()*this._subPathLen,s=this._beginGap+t;i=s-this._prevPos,this._prevPos=s}else{if(this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0,this._subPathLen=this._walker.calculatePathLength(t)-this._beginGap-this._endGap,this._subPathLen<0)return this.iteratePath=!1,null;if(!this._walker.init(t,this._pattern,!1))return null;this._pattern.reset();const s=this._pattern.nextValue()*this._subPathLen,e=this._beginGap+s;i=e-this._prevPos,this._prevPos=e,this.iteratePath=!0}const s={};if(!this._walker.nextPointAndAngle(i,s,1))return this.iteratePath=!1,null;this.internalPlacement.setTranslate(s.pt[0]-this._offset*s.sa,s.pt[1]+this._offset*s.ca);const e=this._isFirst&&this._flipFirst;let n,a;return this._angleToLine?(n=s.ca,a=s.sa):(n=1,a=0),e&&(n=-n,a=-a),this.internalPlacement.setRotateCS(n,a),this._isFirst=!1,this._posCount--,0===this._posCount&&(this.iteratePath=!1),this.internalPlacement}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementInsidePolygon.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementInsidePolygon.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlacementInsidePolygon": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMPlacements.js */ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function s(t){return void 0!==t.rings}class i{static local(){return null===i.instance&&(i.instance=new i),i.instance}execute(t,s,i){return new h(t,s,i)}}i.instance=null;class h{constructor(i,h,e){if(this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,this._currentX=0,this._currentY=0,this._stepX=(void 0!==h.stepX?Math.abs(h.stepX):16)*e,this._stepY=(void 0!==h.stepY?Math.abs(h.stepY):16)*e,0!==this._stepX&&0!==this._stepY&&i&&s(i)&&i.rings){if(this._gridType=void 0!==h.gridType?h.gridType:"Fixed","Random"===this._gridType)this._randomness=void 0!==h.randomness?h.randomness/100:1,this._gridAngle=0,this._shiftOddRows=!1,this._cosAngle=1,this._sinAngle=0,this._offsetX=0,this._offsetY=0;else{if(this._randomness=0,this._gridAngle=void 0!==h.gridAngle?h.gridAngle:0,this._shiftOddRows=void 0!==h.shiftOddRows&&h.shiftOddRows,this._offsetX=void 0!==h.offsetX?h.offsetX*e:0,this._offsetY=void 0!==h.offsetY?h.offsetY*e:0,this._cosAngle=Math.cos(this._gridAngle/180*Math.PI),this._sinAngle=-Math.sin(this._gridAngle/180*Math.PI),this._stepX)if(this._offsetX<0)for(;this._offsetX<-.5*this._stepX;)this._offsetX+=this._stepX;else for(;this._offsetX>=.5*this._stepX;)this._offsetX-=this._stepX;if(this._stepY)if(this._offsetY<0)for(;this._offsetY<-.5*this._stepY;)this._offsetY+=this._stepY;else for(;this._offsetY>=.5*this._stepY;)this._offsetY-=this._stepY}this._graphicOriginX=0,this._graphicOriginY=0,this._internalPlacement=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_0__.Placement,this._calculateMinMax(i),this._geometry=i}}next(){return this._geometry?this._nextInside():null}_calculateMinMax(t){let s,i,h,e,n,_,r,o;this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,n=_=Number.MAX_VALUE,r=o=-Number.MAX_VALUE;for(const a of t.rings){const t=a?a.length:0;for(let f=0;f<t;++f)s=a[f][0]-this._graphicOriginX-this._offsetX,i=a[f][1]-this._graphicOriginY-this._offsetY,h=this._cosAngle*s-this._sinAngle*i,e=this._sinAngle*s+this._cosAngle*i,n=Math.min(n,h),r=Math.max(r,h),_=Math.min(_,e),o=Math.max(o,e)}n+=this._graphicOriginX,r+=this._graphicOriginX,_+=this._graphicOriginY,o+=this._graphicOriginY,this._xMin=Math.round(n/this._stepX),this._xMax=Math.round(r/this._stepX),this._yMin=Math.round(_/this._stepY),this._yMax=Math.round(o/this._stepY),this._currentX=this._xMax+1,this._currentY=this._yMin-1}_nextInside(){for(;;){if(this._currentX>this._xMax){if(this._currentY++,this._currentY>this._yMax)return null;this._currentX=this._xMin,this._shiftOddRows&&this._currentY%2&&this._currentX--}let t=this._currentX*this._stepX+this._offsetX;this._shiftOddRows&&this._currentY%2&&(t+=.5*this._stepX);const s=this._currentY*this._stepY+this._offsetY;let i,h;return this._currentX++,"Random"===this._gridType?(i=this._graphicOriginX+t+this._stepX*this._randomness*(.5-Math.random())*2/3,h=this._graphicOriginY+s+this._stepY*this._randomness*(.5-Math.random())*2/3):(i=this._graphicOriginX+this._cosAngle*t+this._sinAngle*s,h=this._graphicOriginY-this._sinAngle*t+this._cosAngle*s),this._internalPlacement.setTranslate(i,h),this._internalPlacement}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnLine.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnLine.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlacementOnLine": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const s=.001;class r{static local(){return null===r.instance&&(r.instance=new r),r.instance}execute(e,t,n){return new l(e,t,n)}}r.instance=null;class l extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathTransformationCursor{constructor(e,t,n){super(e,!0,!0),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._angleToLine=void 0===t.angleToLine||t.angleToLine,this._offset=void 0!==t.offset?t.offset*n:0,this._relativeTo=t.relativeTo,this._position=void 0!==t.startPointOffset?t.startPointOffset*n:0,this._epsilon=s*n}processPath(e){const i=this._position;if("SegmentMidpoint"===this._relativeTo){for(this.iteratePath||(this._segmentCount=e.length,this._curSegment=1,this.iteratePath=!0);this._curSegment<this._segmentCount;){const n=this._curSegment;this._curSegment++;const i=e[n-1],s=e[n],r=this._curveHelper.calculateLength(i,s);if(r<this._epsilon)continue;const l=.5+this._position/r,[a,o]=this._curveHelper.getAngleCS(i,s,l),h=(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.getCoord2D)(i,s,l);return this.internalPlacement.setTranslate(h[0]-this._offset*o,h[1]+this._offset*a),this._angleToLine&&this.internalPlacement.setRotateCS(a,o),this.internalPlacement}return this.iteratePath=!1,null}"LineEnd"===this._relativeTo&&(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.reversePath)(e);const s=this.onLine(e,i);return"LineEnd"===this._relativeTo&&(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.reversePath)(e),s}onLine(e,n){let i,s=!1;switch(this._relativeTo){case"LineMiddle":default:i=this._curveHelper.calculatePathLength(e)/2+n;break;case"LineBeginning":i=n;break;case"LineEnd":i=n,s=!0}const r=e.length;let l,a=0,o=e[0];for(let h=1;h<r;++h){l=o,o=e[h];const n=this._curveHelper.calculateLength(l,o);if(a+n>i){const e=(i-a)/n,[r,h]=this._curveHelper.getAngleCS(l,o,e),c=(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.getCoord2D)(l,o,e),u=s?this._offset:-this._offset;return this.internalPlacement.setTranslate(c[0]-u*h,c[1]+u*r),this._angleToLine&&(s?this.internalPlacement.setRotateCS(-r,-h):this.internalPlacement.setRotateCS(r,h)),this.internalPlacement}a+=n}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnVertices.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnVertices.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlacementOnVertices": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class n{static local(){return null===n.instance&&(n.instance=new n),n.instance}execute(t,s,e){return new a(t,s,e)}}n.instance=null;const r=1e-15;class a extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathTransformationCursor{constructor(t,s,e){super(t,!0,!0),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._angleToLine=void 0===s.angleToLine||s.angleToLine,this._offset=void 0!==s.offset?s.offset*e:0,this._endPoints=void 0===s.placeOnEndPoints||s.placeOnEndPoints,this._controlPoints=void 0===s.placeOnControlPoints||s.placeOnControlPoints,this._regularVertices=void 0===s.placeOnRegularVertices||s.placeOnRegularVertices,this._tags=[],this._tagIterator=0}processPath(t){if(this.iteratePath||(this._preparePath(t),this.iteratePath=!0),this._tagIterator>=this._tags.length)return this._tags.length=0,this._tagIterator=0,this.iteratePath=!1,null;const s=this._tags[this._tagIterator];this._angleToLine&&this.internalPlacement.setRotate(s[2]);let e=s[0],i=s[1];if(0!==this._offset){const t=Math.cos(s[2]),n=Math.sin(s[2]);e-=this._offset*n,i+=this._offset*t}return this.internalPlacement.setTranslate(e,i),this._tagIterator++,this.internalPlacement}_preparePath(t){this._tags.length=0,this._tagIterator=0;const i=(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.isClosedPath)(t),n=t.length-1;let r,a,h=0,l=0,_=0,c=0,g=0;for(;h<n;){h++,r=t[h-1],a=t[h];const s=(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.getId)(r),u=(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.getId)(a);(this._angleToLine||0!==this._offset)&&(c=this._curveHelper.getAngle(r,a,0)),1===h?i?(l=c,_=s):(this._endPoints||this._controlPoints&&1===s)&&this._tags.push([r[0],r[1],c]):1===s?this._controlPoints&&this._tags.push([r[0],r[1],o(g,c)]):this._regularVertices&&this._tags.push([r[0],r[1],o(g,c)]),(this._angleToLine||0!==this._offset)&&(g=this._curveHelper.getAngle(r,a,1)),h===n&&(i?1===u||1===_?this._controlPoints&&this._tags.push([a[0],a[1],o(g,l)]):this._regularVertices&&this._tags.push([a[0],a[1],o(g,l)]):(this._endPoints||this._controlPoints&&1===u)&&this._tags.push([a[0],a[1],g]))}this._tagIterator=0}}function o(t,s){const e=Math.PI;for(;Math.abs(s-t)>e+2*r;)s-t>e?s-=2*e:s+=2*e;return(t+s)/2}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementPolygonCenter.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementPolygonCenter.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlacementPolygonCenter": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CIMPlacements.js */ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function s(t){return void 0!==t.rings}class o{static local(){return null===o.instance&&(o.instance=new o),o.instance}execute(t,e,n){return new r(t,e,n)}}o.instance=null;class r{constructor(t,e,s){this._geometry=t,this._offsetX=void 0!==e.offsetX?e.offsetX*s:0,this._offsetY=void 0!==e.offsetY?e.offsetY*s:0,this._method=void 0!==e.method?e.method:"OnPolygon",this._internalPlacement=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_2__.Placement}next(){const t=this._geometry;return this._geometry=null,t&&s(t)?this._polygonCenter(t):null}_polygonCenter(n){let s=!1;switch(this._method){default:{const o=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)();(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__.getBoundsXY)(o,n),this._internalPlacement.setTranslate((o[2]+o[0])/2+this._offsetX,(o[3]+o[1])/2-this._offsetY),s=!0;break}}return s?this._internalPlacement:null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function s(e,t,o,n,a){const s=e.referencesGeometry()&&a?u(t,n,a):t,i=e.repurposeFeature(s);try{return e.evaluate({...o,$feature:i})}catch(c){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",c),null}}const i=new Map;function u(e,r,t){const{transform:o,hasZ:n,hasM:a}=t;i.has(r)||i.set(r,c(r));const s=i.get(r)(e.geometry,o,n,a);return{...e,geometry:s}}function c(s){const i={};switch(s){case"esriGeometryPoint":return(e,r,t,o)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.unquantizePoint)(r,i,e,t,o);case"esriGeometryPolygon":return(e,r,t,o)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.unquantizePolygon)(r,i,e,t,o);case"esriGeometryPolyline":return(e,r,t,n)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.unquantizePolyline)(r,i,e,t,n);case"esriGeometryMultipoint":return(e,r,o,n)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.unquantizeMultipoint)(r,i,e,o,n);default:return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-arcade",`Unable to handle geometryType: ${s}`)),e=>e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/Container.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/Container.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Container": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/mat3f32.js */ "./node_modules/@arcgis/core/chunks/mat3f32.js");
/* harmony import */ var _layers_effects_EffectView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../layers/effects/EffectView.js */ "./node_modules/@arcgis/core/layers/effects/EffectView.js");
/* harmony import */ var _DisplayObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class s extends _DisplayObject_js__WEBPACK_IMPORTED_MODULE_2__.DisplayObject{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e,this.requestRender()}get clips(){return this._clips}set clips(e){this._clips=e,this.children.forEach((t=>t.clips=e))}get computedEffects(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effects)?e:null}get effect(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effect)?e:""}set effect(e){(this._effectView||e)&&(this._effectView||(this._effectView=new _layers_effects_EffectView_js__WEBPACK_IMPORTED_MODULE_1__["default"]),this._effectView.effect=e,this.requestRender())}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._effectView&&(this._effectView.transitionStep(e,t),this._effectView.transitioning&&this.requestRender())}doRender(e){const t=this.createRenderParams(e);this.renderChildren(t)}addChild(e){return this.addChildAt(e,this.children.length)}addChildAt(e,t=this.children.length){if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;const i=e.parent;return i&&i!==this&&i.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),e}contains(e){return this._childrenSet.has(e)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const e of this.children)this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null;this.children.length=0}removeChild(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}removeChildAt(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;const t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,t}sortChildren(e){this._needsSort&&(this.children.sort(e),this._needsSort=!1)}_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)()}}onAttach(){super.onAttach();const e=this.stage;for(const t of this.children)t.stage=e}onDetach(){super.onDetach();for(const e of this.children)e.stage=null}renderChildren(e){for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(e);for(const t of this.children)t.afterRender(e)}createRenderParams(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplayObject": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const r=1/(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("mapview-transitions-duration");class a extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(t){this._clips=t,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(t){this._opacity!==t&&(this._opacity=Math.min(1,Math.max(t,0)),this.requestRender())}get stage(){return this._stage}set stage(t){if(this._stage===t)return;const e=this._stage;this._stage=t,t?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):e.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isNone)(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(t){this._visible!==t&&(this._visible=t,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(t){this.updateTransitionProperties(t.deltaTime,t.state.scale)}afterRender(t){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){var t;null==(t=this.parent)||t.removeChild(this)}setTransform(t){}processRender(t){this.stage&&this.computedVisible&&this.doRender(t)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this.onDetach(),this.emit("detach")}updateTransitionProperties(t,e){if(this.fadeTransitionEnabled){const e=this._fadeOutResolver||!this.visible?0:this.opacity,s=this.computedOpacity;if(s===e)this.computedVisible=this.visible;else{const i=t*r;this.computedOpacity=s>e?Math.max(e,s-i):Math.min(e,s+i),this.computedVisible=this.computedOpacity>0;const a=e===this.computedOpacity;this.inFadeTransition=!a,a||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(t){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/LevelDependentSizeVariable.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/LevelDependentSizeVariable.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LevelDependentSizeVariable": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _renderers_visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../renderers/visualVariables/SizeVariable.js */ "./node_modules/@arcgis/core/renderers/visualVariables/SizeVariable.js");
/* harmony import */ var _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../renderers/visualVariables/support/sizeVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/sizeVariableUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
var l;let n=l=class extends _renderers_visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_6__["default"]{writeLevels(e,s,i){for(const t in e){const e=this.levels[t];return void(s.stops=e)}}clone(){return new l({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,_renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_7__.isSizeVariable)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,_renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_7__.isSizeVariable)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(this.levels)})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"levels",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_5__.writer)("levels")],n.prototype,"writeLevels",null),n=l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_4__.subclass)("esri.views.2d.engine.LevelDependentSizeVariable")],n);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GeometryUtils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GeometryUtils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "C_256_TO_RAD": () => (/* binding */ e),
/* harmony export */   "C_2PI": () => (/* binding */ r),
/* harmony export */   "C_DEG_TO_256": () => (/* binding */ c),
/* harmony export */   "C_DEG_TO_RAD": () => (/* binding */ f),
/* harmony export */   "C_INFINITY": () => (/* binding */ n),
/* harmony export */   "C_PI": () => (/* binding */ t),
/* harmony export */   "C_PI_BY_2": () => (/* binding */ u),
/* harmony export */   "C_RAD_TO_256": () => (/* binding */ o),
/* harmony export */   "C_SQRT2": () => (/* binding */ i),
/* harmony export */   "C_SQRT2_INV": () => (/* binding */ I),
/* harmony export */   "between": () => (/* binding */ g),
/* harmony export */   "degToByte": () => (/* binding */ M),
/* harmony export */   "interpolate": () => (/* binding */ b),
/* harmony export */   "log2": () => (/* binding */ P),
/* harmony export */   "positiveMod": () => (/* binding */ a),
/* harmony export */   "radToByte": () => (/* binding */ h),
/* harmony export */   "sqr": () => (/* binding */ T)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const n=Number.POSITIVE_INFINITY,t=Math.PI,r=2*t,u=t/2,o=128/t,e=t/128,c=256/360,f=t/180,i=1.414213562,I=1/i,N=1/Math.LN2;function a(n,t){return(n%=t)>=0?n:n+t}function h(n){return a(n*o,256)}function M(n){return a(n*c,256)}function P(n){return Math.log(n)*N}function T(n){return n*n}function b(n,t,r){return n*(1-r)+t*r}function g(n,t,r){return n>=t&&n<=r||n>=r&&n<=t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/SymbolProperties.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/SymbolProperties.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextProperties": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/ObjectPool.js */ "./node_modules/@arcgis/core/core/ObjectPool.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class h{constructor(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}acquire(o,h,s,t,i,l,r,e,c){this.color=o,this.haloColor=h,this.haloSize=s,this.size=t,this.angle=i,this.offsetX=l,this.offsetY=r,this.hAnchor=e,this.vAnchor=c}release(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}h.pool=new _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__["default"](h);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "C_FILL_STRIDE_SPEC": () => (/* binding */ L),
/* harmony export */   "C_FILL_STRIDE_SPEC_DD": () => (/* binding */ A),
/* harmony export */   "C_FILL_STRIDE_SPEC_SIMPLE": () => (/* binding */ M),
/* harmony export */   "C_FILL_VERTEX_DEF": () => (/* binding */ p),
/* harmony export */   "C_FILL_VERTEX_DEF_DD": () => (/* binding */ g),
/* harmony export */   "C_FILL_VERTEX_DEF_SIMPLE": () => (/* binding */ y),
/* harmony export */   "C_ICON_STRIDE_SPEC": () => (/* binding */ I),
/* harmony export */   "C_ICON_VERTEX_DEF": () => (/* binding */ m),
/* harmony export */   "C_LABEL_STRIDE_SPEC": () => (/* binding */ b),
/* harmony export */   "C_LABEL_VERTEX_DEF": () => (/* binding */ v),
/* harmony export */   "C_LINE_STRIDE_SPEC": () => (/* binding */ T),
/* harmony export */   "C_LINE_VERTEX_DEF": () => (/* binding */ h),
/* harmony export */   "C_TEXT_STRIDE_SPEC": () => (/* binding */ C),
/* harmony export */   "C_TEXT_VERTEX_DEF": () => (/* binding */ w),
/* harmony export */   "C_VBO_GEOMETRY": () => (/* binding */ l),
/* harmony export */   "C_VBO_INFO": () => (/* binding */ Z),
/* harmony export */   "C_VBO_PERINSTANCE": () => (/* binding */ f),
/* harmony export */   "C_VBO_PERINSTANCE_VV": () => (/* binding */ d),
/* harmony export */   "allocateTypedArrayBuffer": () => (/* binding */ R),
/* harmony export */   "allocateTypedArrayBufferwithData": () => (/* binding */ $),
/* harmony export */   "charCodes": () => (/* binding */ ye),
/* harmony export */   "copyMeshData": () => (/* binding */ X),
/* harmony export */   "createGeometryData": () => (/* binding */ _),
/* harmony export */   "createProgramDescriptor": () => (/* binding */ ne),
/* harmony export */   "createTextureFromTexelData": () => (/* binding */ J),
/* harmony export */   "forEachGeometryType": () => (/* binding */ ie),
/* harmony export */   "geometryToMappedGeometry": () => (/* binding */ Y),
/* harmony export */   "getBytes": () => (/* binding */ G),
/* harmony export */   "getCapType": () => (/* binding */ k),
/* harmony export */   "getJoinType": () => (/* binding */ V),
/* harmony export */   "getNamedBuffers": () => (/* binding */ U),
/* harmony export */   "getPMSResourceSize": () => (/* binding */ pe),
/* harmony export */   "getPixelArrayCtor": () => (/* binding */ Q),
/* harmony export */   "getPixelBytes": () => (/* binding */ H),
/* harmony export */   "getStrides": () => (/* binding */ z),
/* harmony export */   "getTextProperties": () => (/* binding */ N),
/* harmony export */   "getTransformParams": () => (/* binding */ K),
/* harmony export */   "getUrl": () => (/* binding */ ae),
/* harmony export */   "getVVType": () => (/* binding */ q),
/* harmony export */   "is3D": () => (/* binding */ le),
/* harmony export */   "isDefined": () => (/* binding */ O),
/* harmony export */   "isGIF": () => (/* binding */ ce),
/* harmony export */   "isImageResource": () => (/* binding */ se),
/* harmony export */   "isNumber": () => (/* binding */ P),
/* harmony export */   "isPNG": () => (/* binding */ ue),
/* harmony export */   "isSVGImage": () => (/* binding */ de),
/* harmony export */   "isSVGResource": () => (/* binding */ oe),
/* harmony export */   "isSimple": () => (/* binding */ fe),
/* harmony export */   "isValidSVG": () => (/* binding */ ge),
/* harmony export */   "shouldRepeat": () => (/* binding */ me),
/* harmony export */   "strideToPackingFactor": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _color_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./color.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/color.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _SymbolProperties_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SymbolProperties.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/SymbolProperties.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const u=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.engine.webgl.Utils"),l="geometry",f="per_instance",d="per_instance_vv",m=[{name:l,strideInBytes:36,divisor:0}],p=[{name:l,strideInBytes:32,divisor:0}],y=[{name:l,strideInBytes:20,divisor:0}],g=[{name:l,strideInBytes:12,divisor:0}],h=[{name:l,strideInBytes:40,divisor:0}],w=[{name:l,strideInBytes:36,divisor:0}],v=[{name:l,strideInBytes:36,divisor:0}];function S(e){const t={};for(const r of e)t[r.name]=r.strideInBytes;return t}const I=S(m),L=S(p),M=S(y),A=S(g),T=S(h),C=S(w),b=S(v);function z(e,{fill:t}){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.MARKER:return I;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.FILL:return"dot-density"===t?A:"simple"===t?M:L;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.LINE:return T;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.TEXT:return C;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.LABEL:return b}}const x=[l],E=[l],F=[l],B=[l],D=[l];function U(e){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.MARKER:return x;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.FILL:return E;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.LINE:return F;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.TEXT:return B;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.LABEL:return D}}function j(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function R(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function $(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function N(e){return _SymbolProperties_js__WEBPACK_IMPORTED_MODULE_6__.TextProperties.pool.acquire(e.color?(0,_color_js__WEBPACK_IMPORTED_MODULE_4__.copyAndPremultiply)(e.color):[255,255,255,255],e.haloColor?(0,_color_js__WEBPACK_IMPORTED_MODULE_4__.copyAndPremultiply)(e.haloColor):[255,255,255,255],(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.pt2px)(e.haloSize),(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.pt2px)(e.font.size),e.angle*Math.PI/180,e.xoffset/e.font.size,e.yoffset/e.font.size,"left"===e.horizontalAlignment?0:"right"===e.horizontalAlignment?1:.5,"top"===e.verticalAlignment?0:"bottom"===e.verticalAlignment?1:.5)}function O(e){return null!=e}function P(e){return"number"==typeof e}function k(t){switch(t){case"butt":return 0;case"round":return 1;case"square":return 2;default:return u.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-invalid-type",`Cap type ${t} is not a valid option. Defaulting to round`)),1}}function V(t){switch(t){case"miter":return 2;case"bevel":return 0;case"round":return 1;default:return u.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-invalid-type",`Join type ${t} is not a valid option. Defaulting to round`)),1}}function q(e){switch(e){case"opacity":return _enums_js__WEBPACK_IMPORTED_MODULE_5__.VVType.OPACITY;case"color":return _enums_js__WEBPACK_IMPORTED_MODULE_5__.VVType.COLOR;case"rotation":return _enums_js__WEBPACK_IMPORTED_MODULE_5__.VVType.ROTATION;case"size":return _enums_js__WEBPACK_IMPORTED_MODULE_5__.VVType.SIZE;default:return u.error(`Cannot interpret unknown vv: ${e}`),null}}function K(e){const{transform:t,hasZ:r,hasM:n}=e;return{transform:t,hasZ:r,hasM:n}}function X(e,t,r,n,i,o,s){for(const c in o){const t=o[c].stride,n=j(t),s=o[c].data,a=r[c].data,u=t*i.vertexCount/n,l=t*e/n,f=t*i.vertexFrom/n;for(let e=0;e<u;++e)a[e+l]=s[e+f]}const a=i.indexCount;for(let c=0;c<a;++c)n[c+t]=s[c+i.indexFrom]-i.vertexFrom+e}const Z={[l]:35044};function _(e,t){const r=[];for(let n=0;n<5;++n){const i=U(n),o={};for(const e of i)o[e]={data:t(n,e)};r.push({data:e(n),buffers:o})}return r}function J(e,t){let n,i;return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.isPowerOfTwo)(t.width)&&(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.isPowerOfTwo)(t.height)?(n=!0,i=9987):(n=!1,i=9729),new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_7__["default"](e,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,hasMipmap:n,samplingMode:i,wrapMode:33071,flipped:!0},t)}function Y(e){return{vertexFrom:void 0,vertexTo:void 0,geometry:e}}function G(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5126:case 5124:case 5125:return 4}}function H(t){switch(t){case 5121:return 1;case 32819:return 2;case 5126:return 4;default:return void u.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-utils",`Unable to handle type ${t}`))}}function Q(t){switch(t){case 5121:return Uint8Array;case 32819:return Uint16Array;case 5126:return Float32Array;default:return void u.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-utils",`Unable to handle type ${t}`))}}function W(e){const t={};for(const r in e){const n=e[r];let i=0;t[r]=n.map((e=>{const t={...e,normalized:e.normalized||!1,divisor:e.divisor||0,offset:i,stride:0};return i+=e.count*G(e.type),t})),t[r].forEach((e=>e.stride=i))}return t}const ee=e=>{const t=new Map;for(const r in e)for(const n of e[r])t.set(n.name,n.location);return t},te=e=>{const t={};for(const r in e){const n=e[r];t[r]=n.length?n[0].stride:0}return t},re=new Map,ne=(e,t)=>{if(!re.has(e)){const r=W(t),n={strides:te(r),bufferLayouts:r,attributes:ee(t)};re.set(e,n)}return re.get(e)};function ie(e){e(_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.FILL),e(_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.LINE),e(_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.MARKER),e(_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.TEXT),e(_enums_js__WEBPACK_IMPORTED_MODULE_5__.WGLGeometryType.LABEL)}const oe=e=>"path"in e&&ge(e.path),se=e=>"url"in e&&e.url||"imageData"in e&&e.imageData,ae=e=>"imageData"in e&&e.imageData&&"contentType"in e&&e.contentType?`data:${e.contentType};base64,${e.imageData}`:"url"in e?e.url:null,ce=e=>"url"in e&&e.url&&e.url.includes(".gif")||"contentType"in e&&"image/gif"===e.contentType||"imageData"in e&&e.imageData.includes("data:image/gif"),ue=e=>"url"in e&&e.url&&e.url.includes(".png")||"contentType"in e&&"image/png"===e.contentType||"imageData"in e&&e.imageData.includes("data:image/png"),le=e=>e.type&&-1!==e.type.toLowerCase().indexOf("3d");function fe(e){switch(e.type){case"line":{const t=e;return"CIMSolidStroke"===t.cim.type&&!t.dashTemplate}case"fill":return"CIMSolidFill"===e.cim.type;case"esriSFS":return"esriSFSSolid"===e.style||"esriSFSNull"===e.style;case"esriSLS":return"esriSLSSolid"===e.style||"esriSLSNull"===e.style;default:return!1}}const de=e=>e.includes("data:image/svg+xml");function me(e){switch("cim"in e?e.cim.type:e.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":case"CIMVectorMarker":case"CIMPictureMarker":case"CIMCharacterMarker":return!1;default:return!0}}function pe(e){const t="maxVVSize"in e&&e.maxVVSize,r="width"in e&&e.width||"size"in e&&e.size||0;return t||r}function ye(e){const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return t}const ge=e=>!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HAlign": () => (/* binding */ e),
/* harmony export */   "VAlign": () => (/* binding */ t),
/* harmony export */   "getAlignmentFromPlacement": () => (/* binding */ a),
/* harmony export */   "getJustification": () => (/* binding */ s),
/* harmony export */   "getXAnchorDirection": () => (/* binding */ r),
/* harmony export */   "getXDirection": () => (/* binding */ c),
/* harmony export */   "getYAnchorDirection": () => (/* binding */ n),
/* harmony export */   "getYDirection": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
var e,t;function r(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":case"justify":return e.Center}}function n(e){switch(e){case"top":return t.Top;case"middle":return t.Center;case"baseline":return t.Baseline;case"bottom":return t.Bottom}}function a(r){switch(r){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[e.Right,t.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[e.Center,t.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[e.Left,t.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[e.Right,t.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[e.Center,t.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[e.Left,t.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[e.Right,t.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[e.Center,t.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[e.Left,t.Top];default:return console.debug(`Found invalid placement type ${r}`),[e.Center,t.Center]}}function c(t){switch(t){case e.Right:return-1;case e.Center:return 0;case e.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${t}`),0}}function o(e){switch(e){case t.Top:return 1;case t.Center:return 0;case t.Bottom:case t.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function s(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":case"justify":return e.Center}}!function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(e||(e={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(t||(t={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/BoundingBox.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/BoundingBox.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/vec2f32.js */ "./node_modules/@arcgis/core/chunks/vec2f32.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class i{constructor(i,e,s,r){this.center=(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_0__.f)(i,e),this.centerT=(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_0__.c)(),this.halfWidth=s/2,this.halfHeight=r/2,this.width=s,this.height=r}get x(){return this.center[0]}get y(){return this.center[1]}get blX(){return this.center[0]+this.halfWidth}get blY(){return this.center[1]+this.halfHeight}get trX(){return this.center[0]-this.halfWidth}get trY(){return this.center[1]-this.halfHeight}get xmin(){return this.x-this.halfWidth}get xmax(){return this.x+this.halfWidth}get ymin(){return this.y-this.halfHeight}get ymax(){return this.y+this.halfHeight}set x(t){this.center[0]=t}set y(t){this.center[1]=t}clone(){return new i(this.x,this.y,this.width,this.height)}serialize(t){return t.writeF32(this.center[0]),t.writeF32(this.center[1]),t.push(this.width),t.push(this.height),t}findCollisionDelta(t,h=4){const i=Math.abs(t.centerT[0]-this.centerT[0]),e=Math.abs(t.centerT[1]-this.centerT[1]),s=(t.halfWidth+this.halfWidth+h)/i,r=(t.halfHeight+this.halfHeight+h)/e,n=Math.min(s,r);return Math.log2(n)}extend(t){const h=Math.min(this.xmin,t.xmin),i=Math.min(this.ymin,t.ymin),e=Math.max(this.xmax,t.xmax)-h,s=Math.max(this.ymax,t.ymax)-i,r=h+e/2,n=i+s/2;this.width=e,this.height=s,this.halfWidth=e/2,this.halfHeight=s/2,this.x=r,this.y=n}static deserialize(t){const h=t.readF32(),e=t.readF32(),s=t.readInt32(),r=t.readInt32();return new i(h,e,s,r)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/color.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/color.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "copyAndPremultiply": () => (/* binding */ c),
/* harmony export */   "premultiplyAlpha": () => (/* binding */ o),
/* harmony export */   "premultiplyAlphaRGBA": () => (/* binding */ i),
/* harmony export */   "premultiplyAlphaRGBAArray": () => (/* binding */ f),
/* harmony export */   "premultiplyAlphaUint32": () => (/* binding */ e),
/* harmony export */   "white": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _number_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const n=[255,255,255,1],t=[0,0,0,0];function u(r,n){return Array.isArray(n)?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3]):(r[0]=n.r,r[1]=n.g,r[2]=n.b,r[3]=n.a),r}function o(r,n=0,t=!1){const u=r[n+3];return r[n+0]*=u,r[n+1]*=u,r[n+2]*=u,t||(r[n+3]*=255),r}function c(r){return o(u([],r))}function e(n){return o(u(t,n)),(0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t[0],t[1],t[2],t[3])}function i(n){if(!n)return 0;const{r:t,g:u,b:o,a:c}=n;return (0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t*c,u*c,o*c,255*c)}function f(n){if(!n)return 0;const[t,u,o,c]=n;return (0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t*(c/255),u*(c/255),o*(c/255),c)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ANGLE_FACTOR_256": () => (/* binding */ d),
/* harmony export */   "ATTRIBUTE_DATA_ANIMATION": () => (/* binding */ J),
/* harmony export */   "ATTRIBUTE_DATA_DD0": () => (/* binding */ L),
/* harmony export */   "ATTRIBUTE_DATA_DD1": () => (/* binding */ M),
/* harmony export */   "ATTRIBUTE_DATA_FILTER_FLAGS": () => (/* binding */ I),
/* harmony export */   "ATTRIBUTE_DATA_VV": () => (/* binding */ K),
/* harmony export */   "ATTRIBUTE_STORE_TEXTURE_SIZE": () => (/* binding */ q),
/* harmony export */   "AVERAGE_GLYPH_MOSAIC_ITEM": () => (/* binding */ k),
/* harmony export */   "BITSET_GENERIC_LOCK_COLOR": () => (/* binding */ ct),
/* harmony export */   "BITSET_LINE_SCALE_DASH": () => (/* binding */ dt),
/* harmony export */   "BITSET_MARKER_ALIGNMENT_MAP": () => (/* binding */ it),
/* harmony export */   "BITSET_MARKER_ALIGNMENT_SCREEN": () => (/* binding */ ht),
/* harmony export */   "BITSET_MARKER_OUTLINE_ALLOW_COLOR_OVERRIDE": () => (/* binding */ ot),
/* harmony export */   "BITSET_MARKER_SCALE_SYMBOLS_PROPORTIONALLY": () => (/* binding */ at),
/* harmony export */   "BITSET_TYPE_FILL_OUTLINE": () => (/* binding */ nt),
/* harmony export */   "BUFFER_DATA_MINIMUM_SIZE": () => (/* binding */ tt),
/* harmony export */   "BUFFER_DATA_POOL_SIZE": () => (/* binding */ _),
/* harmony export */   "COLLISION_BOX_PADDING": () => (/* binding */ l),
/* harmony export */   "COLLISION_BUCKET_SIZE": () => (/* binding */ p),
/* harmony export */   "COLLISION_EARLY_REJECT_BUCKET_SIZE": () => (/* binding */ g),
/* harmony export */   "COLLISION_MAX_ZOOM_DELTA": () => (/* binding */ f),
/* harmony export */   "COLLISION_PLACEMENT_PADDING": () => (/* binding */ v),
/* harmony export */   "COLLISION_TILE_BOX_SIZE": () => (/* binding */ m),
/* harmony export */   "DEBUG_LABELS": () => (/* binding */ n),
/* harmony export */   "DISPLAY_RECORD_INT_PER_ELEMENT": () => (/* binding */ Z),
/* harmony export */   "DOT_DENSITY_MAX_FIELDS": () => (/* binding */ r),
/* harmony export */   "EFFECT_FLAG_0": () => (/* binding */ Q),
/* harmony export */   "ENABLE_EARLY_LABEL_DISCARD": () => (/* binding */ R),
/* harmony export */   "EXTRUDE_SCALE": () => (/* binding */ h),
/* harmony export */   "FILTER_FLAG_0": () => (/* binding */ P),
/* harmony export */   "GLYPH_SIZE": () => (/* binding */ b),
/* harmony export */   "HEURISTIC_GLYPHS_PER_FEATURE": () => (/* binding */ x),
/* harmony export */   "HEURISTIC_GLYPHS_PER_LINE": () => (/* binding */ w),
/* harmony export */   "HIGHLIGHT_FLAG": () => (/* binding */ O),
/* harmony export */   "HITTEST_SEARCH_SIZE": () => (/* binding */ T),
/* harmony export */   "MAGIC_LABEL_LINE_HEIGHT": () => (/* binding */ s),
/* harmony export */   "MAX_FILTERS": () => (/* binding */ N),
/* harmony export */   "MAX_GPU_UPLOADS_PER_FRAME": () => (/* binding */ X),
/* harmony export */   "MIN_MAX_ZOOM_PRECISION_FACTOR": () => (/* binding */ et),
/* harmony export */   "NAN_MAGIC_NUMBER": () => (/* binding */ c),
/* harmony export */   "PATCH_PIXEL_BUFFER_ALLOC_SIZE": () => (/* binding */ $),
/* harmony export */   "PICTURE_FILL_COLOR": () => (/* binding */ i),
/* harmony export */   "RASTER_TILE_SIZE": () => (/* binding */ a),
/* harmony export */   "SPRITE_PADDING": () => (/* binding */ Y),
/* harmony export */   "TEXTURE_BINDING_ATTRIBUTE_DATA_0": () => (/* binding */ A),
/* harmony export */   "TEXTURE_BINDING_ATTRIBUTE_DATA_1": () => (/* binding */ B),
/* harmony export */   "TEXTURE_BINDING_ATTRIBUTE_DATA_2": () => (/* binding */ C),
/* harmony export */   "TEXTURE_BINDING_ATTRIBUTE_DATA_3": () => (/* binding */ D),
/* harmony export */   "TEXTURE_BINDING_BITMAP": () => (/* binding */ z),
/* harmony export */   "TEXTURE_BINDING_GLYPH_ATLAS": () => (/* binding */ y),
/* harmony export */   "TEXTURE_BINDING_HIGHLIGHT_0": () => (/* binding */ E),
/* harmony export */   "TEXTURE_BINDING_HIGHLIGHT_1": () => (/* binding */ F),
/* harmony export */   "TEXTURE_BINDING_RENDERER_0": () => (/* binding */ G),
/* harmony export */   "TEXTURE_BINDING_RENDERER_1": () => (/* binding */ H),
/* harmony export */   "TEXTURE_BINDING_SPRITE_ATLAS": () => (/* binding */ u),
/* harmony export */   "TEXT_PLACEMENT_PADDING": () => (/* binding */ j),
/* harmony export */   "THIN_LINE_HALF_WIDTH_THRESHOLD": () => (/* binding */ S),
/* harmony export */   "TILE_SIZE": () => (/* binding */ o),
/* harmony export */   "VTL_HIGH_RES_CUTOFF": () => (/* binding */ W),
/* harmony export */   "VTL_TEXTURE_BINDING_UNIT_GLYPHS": () => (/* binding */ V),
/* harmony export */   "VTL_TEXTURE_BINDING_UNIT_SPRITES": () => (/* binding */ U),
/* harmony export */   "WEBGL_MAX_INNER_STOPS": () => (/* binding */ e),
/* harmony export */   "WEBGL_MAX_STOPS": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const t=8,e=t-2,c=1e-30,h=64,i=4294967295,o=512,a=256,d=256/360,n=!1,p=128,r=8,s=29,f=1,g=16,l=16,m=o/p,v=8,w=50,x=10,b=24,j=8,k={metrics:{width:15,height:17,left:0,top:-7,advance:14}},q=1024,u=0,y=0,z=0,A=1,B=2,C=3,D=4,E=5,F=6,G=5,H=6,I=0,J=1,K=2,L=3,M=3,N=2,O=1,P=2,Q=4,R=!1,S=1.05,T=6,U=5,V=6,W=1.15,X=2,Y=2,Z=8,$=500,_=4,tt=128,et=10,ct=2,ht=0,it=1,ot=4,at=8,dt=4,nt=1;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MosaicType": () => (/* binding */ O),
/* harmony export */   "VVType": () => (/* binding */ L),
/* harmony export */   "WGLDrawPhase": () => (/* binding */ I),
/* harmony export */   "WGLGeometryTransactionStatus": () => (/* binding */ T),
/* harmony export */   "WGLGeometryType": () => (/* binding */ E),
/* harmony export */   "WGLVVFlag": () => (/* binding */ A),
/* harmony export */   "WGLVVTarget": () => (/* binding */ _)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
var E,T,I,L,A,_,O;!function(E){E[E.FILL=0]="FILL",E[E.LINE=1]="LINE",E[E.MARKER=2]="MARKER",E[E.TEXT=3]="TEXT",E[E.LABEL=4]="LABEL"}(E||(E={})),function(E){E[E.SUCCEEDED=0]="SUCCEEDED",E[E.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(T||(T={})),function(E){E[E.NONE=0]="NONE",E[E.MAP=1]="MAP",E[E.LABEL=2]="LABEL",E[E.LABEL_ALPHA=4]="LABEL_ALPHA",E[E.HITTEST=8]="HITTEST",E[E.HIGHLIGHT=16]="HIGHLIGHT",E[E.CLIP=32]="CLIP",E[E.DEBUG=64]="DEBUG",E[E.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(I||(I={})),function(E){E[E.SIZE=0]="SIZE",E[E.COLOR=1]="COLOR",E[E.OPACITY=2]="OPACITY",E[E.ROTATION=3]="ROTATION"}(L||(L={})),function(E){E[E.NONE=0]="NONE",E[E.OPACITY=1]="OPACITY",E[E.COLOR=2]="COLOR",E[E.ROTATION=4]="ROTATION",E[E.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",E[E.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",E[E.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",E[E.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(A||(A={})),function(E){E[E.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",E[E.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",E[E.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",E[E.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(_||(_={})),function(E){E[E.SPRITE=0]="SPRITE",E[E.GLYPH=1]="GLYPH"}(O||(O={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FillMaterialKey": () => (/* binding */ x),
/* harmony export */   "LabelMaterialKey": () => (/* binding */ b),
/* harmony export */   "LineMaterialKey": () => (/* binding */ B),
/* harmony export */   "MarkerMaterialKey": () => (/* binding */ U),
/* harmony export */   "MaterialKeyBase": () => (/* binding */ _),
/* harmony export */   "TextMaterialKey": () => (/* binding */ R),
/* harmony export */   "createMaterialKey": () => (/* binding */ L),
/* harmony export */   "getSizeFlagsMask": () => (/* binding */ r),
/* harmony export */   "hydrateMaterialKey": () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _mesh_templates_meshUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mesh/templates/meshUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/meshUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function r(t,s){const a=_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.SIZE_FIELD_STOPS|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.SIZE_MINMAX_VALUE|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.SIZE_SCALE_STOPS|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.SIZE_UNIT_VALUE,r=(t&(_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVTarget.FIELD_TARGETS_OUTLINE|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVTarget.MINMAX_TARGETS_OUTLINE|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVTarget.SCALE_TARGETS_OUTLINE|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVTarget.UNIT_TARGETS_OUTLINE))>>>4;return s.isOutline||s.isOutlinedFill?a&r:a&~r}const n=0,v=8,o=7,l=8,h=11,S=11,u=12,d=13,V=14,c=15,p=15,g=16,z=17,m=18,y=19,E=20,T=21,M=22;function L(t,e){switch(t){case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.FILL:return x.from(e);case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.LINE:return B.from(e);case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.MARKER:return U.from(e);case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.TEXT:return R.from(e);case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.LABEL:return b.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function F(t){switch(_.load(t).geometryType){case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.MARKER:return new U(t);case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.FILL:return new x(t);case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.LINE:return new B(t);case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.TEXT:return new R(t);case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.LABEL:return new b(t)}}class _{constructor(t){this._data=0,this._data=t}static load(t){const e=this.shared;return e.data=t,e}set data(t){this._data=t}get data(){return this._data}get geometryType(){return this.bits(l,h)}set geometryType(t){this.setBits(t,l,h)}get mapAligned(){return!!this.bit(E)}set mapAligned(t){this.setBit(E,t)}get sdf(){return!!this.bit(S)}set sdf(t){this.setBit(S,t)}get pattern(){return!!this.bit(u)}set pattern(t){this.setBit(u,t)}get textureBinding(){return this.bits(n,v)}set textureBinding(t){this.setBits(t,n,v)}get geometryTypeString(){switch(this.geometryType){case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.FILL:return"fill";case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.MARKER:return"marker";case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.LINE:return"line";case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.TEXT:return"text";case _enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.LABEL:return"label";default:throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const i=1<<t;e?this._data|=i:this._data&=~i}bit(t){return(this._data&1<<t)>>t}setBits(t,e,i){for(let s=e,a=0;s<i;s++,a++)this.setBit(s,0!=(t&1<<a))}bits(t,e){let i=0;for(let s=t,a=0;s<e;s++,a++)i|=this.bit(s)<<a;return i}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(o&this.textureBinding)}}_.shared=new _(0);const I=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(g)}set vvSizeMinMaxValue(t){this.setBit(g,t)}get vvSizeScaleStops(){return 0!==this.bit(z)}set vvSizeScaleStops(t){this.setBit(z,t)}get vvSizeFieldStops(){return 0!==this.bit(m)}set vvSizeFieldStops(t){this.setBit(m,t)}get vvSizeUnitValue(){return 0!==this.bit(y)}set vvSizeUnitValue(t){this.setBit(y,t)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(t,i){super.setVV(t,i);const s=r(t,i)&t;this.vvSizeMinMaxValue=!!(s&_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.SIZE_SCALE_STOPS)}},O=t=>class extends t{get vvRotation(){return 0!==this.bit(c)}set vvRotation(t){this.setBit(c,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,i){super.setVV(t,i),this.vvRotation=!i.isOutline&&!!(t&_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.ROTATION)}},A=t=>class extends t{get vvColor(){return 0!==this.bit(d)}set vvColor(t){this.setBit(d,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,i){super.setVV(t,i),this.vvColor=!i.isOutline&&!!(t&_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.COLOR)}},f=t=>class extends t{get vvOpacity(){return 0!==this.bit(V)}set vvOpacity(t){this.setBit(V,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,i){super.setVV(t,i),this.vvOpacity=!i.isOutline&&!!(t&_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLVVFlag.OPACITY)}};class x extends(A(f(I(_)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.FILL,e.dotDensity="dot-density"===t.stride.fill,e.simple="simple"===t.stride.fill,e.outlinedFill=t.isOutlinedFill,e.dotDensity||e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}get dotDensity(){return!!this.bit(p)}set dotDensity(t){this.setBit(p,t)}get simple(){return!!this.bit(M)}set simple(t){this.setBit(M,t)}get outlinedFill(){return!!this.bit(T)}set outlinedFill(t){this.setBit(T,t)}}x.shared=new x(0);class U extends(A(f(O(I(_))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.MARKER,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}U.shared=new U(0);class B extends(A(f(I(_)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.LINE,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}B.shared=new B(0);class R extends(A(f(O(I(_))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.TEXT,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}R.shared=new R(0);class b extends(I(_)){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLGeometryType.LABEL,e.setVV(t.vvFlags,t),e.mapAligned=(0,_mesh_templates_meshUtils_js__WEBPACK_IMPORTED_MODULE_2__.isMapAligned)(t.placement),e.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}b.shared=new b(0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/meshUtils.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/meshUtils.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isMapAligned": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function e(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShapedGlyph": () => (/* binding */ T),
/* harmony export */   "ShapingInfo": () => (/* binding */ B),
/* harmony export */   "shapeGlyphs": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/mat2d.js */ "./node_modules/@arcgis/core/chunks/mat2d.js");
/* harmony import */ var _chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../chunks/mat2df32.js */ "./node_modules/@arcgis/core/chunks/mat2df32.js");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../chunks/vec2f32.js */ "./node_modules/@arcgis/core/chunks/vec2f32.js");
/* harmony import */ var _alignmentUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../alignmentUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js");
/* harmony import */ var _number_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../number.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js");
/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Rect.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js");
/* harmony import */ var _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../collisions/BoundingBox.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/BoundingBox.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const u=26,g=4,_=u+g,p=u-6,x=3,w=8,y=Math.PI/180;class T{constructor(t,s,e,i){this._rotationT=(0,_chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),this._xBounds=0,this._yBounds=0,this.minZoom=0,this.maxZoom=255,this._bounds=null;const h=e.rect,o=new Float32Array(8);t*=i,s*=i;const r=e.code?h.width*i:e.metrics.width,a=e.code?h.height*i:e.metrics.height;o[0]=t,o[1]=s,o[2]=t+r,o[3]=s,o[4]=t,o[5]=s+a,o[6]=t+r,o[7]=s+a,this._data=o,this._setTextureCoords(h),this._scale=i,this._mosaic=e,this.x=t,this.y=s,this.maxOffset=Math.max(t+r,s+a)}get width(){return this._mosaic.metrics.width*this._scale}get mosaic(){return this._mosaic}set angle(e){this._angle=e,(0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.i)(this._rotationT),(0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.r)(this._rotationT,this._rotationT,-e),this._setOffsets(this._data)}get angle(){return this._angle}get xTopLeft(){return this._data[0]}get yTopLeft(){return this._data[1]}get xBottomRight(){return this._data[6]}get yBottomRight(){return this._data[7]}get texcoords(){return this._texcoords}get textureBinding(){return this._mosaic.textureBinding}get offsets(){return this._offsets||this._setOffsets(this._data),this._offsets}get char(){return String.fromCharCode(this._mosaic.code)}get code(){return this._mosaic.code}get bounds(){if(!this._bounds){const{height:t,width:s}=this._mosaic.metrics,i=s*this._scale,h=Math.abs(t)*this._scale,r=new Float32Array(8);r[0]=this.x,r[1]=this.y,r[2]=this.x+i,r[3]=this.y,r[4]=this.x,r[5]=this.y+h,r[6]=this.x+i,r[7]=this.y+h;const a=(0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.m)((0,_chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),this._rotationT,this._T);(0,_chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.t)(r,r,a);let c=1/0,d=1/0,f=0,l=0;for(let e=0;e<4;e++){const t=r[2*e],s=r[2*e+1];c=Math.min(c,t),d=Math.min(d,s),f=Math.max(f,t),l=Math.max(l,s)}const u=f-c,g=l-d,_=c+u/2,p=d+g/2;this._bounds=new _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["default"](_,p,u,g)}return this._bounds}setTransform(t){this._T=t,this._offsets=null}_setOffsets(t){this._offsets||(this._offsets={upperLeft:0,upperRight:0,lowerLeft:0,lowerRight:0});const s=this._offsets,i=new Float32Array(8),h=(0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.m)((0,_chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),this._rotationT,this._T);(0,_chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.t)(i,t,h),s.upperLeft=(0,_number_js__WEBPACK_IMPORTED_MODULE_5__.i1616to32)(i[0]*w,i[1]*w),s.upperRight=(0,_number_js__WEBPACK_IMPORTED_MODULE_5__.i1616to32)(i[2]*w,i[3]*w),s.lowerLeft=(0,_number_js__WEBPACK_IMPORTED_MODULE_5__.i1616to32)(i[4]*w,i[5]*w),s.lowerRight=(0,_number_js__WEBPACK_IMPORTED_MODULE_5__.i1616to32)(i[6]*w,i[7]*w)}_setTextureCoords({x:t,y:s,width:e,height:i}){this._texcoords={upperLeft:(0,_number_js__WEBPACK_IMPORTED_MODULE_5__.i1616to32)(t,s),upperRight:(0,_number_js__WEBPACK_IMPORTED_MODULE_5__.i1616to32)(t+e,s),lowerLeft:(0,_number_js__WEBPACK_IMPORTED_MODULE_5__.i1616to32)(t,s+i),lowerRight:(0,_number_js__WEBPACK_IMPORTED_MODULE_5__.i1616to32)(t+e,s+i)}}}const M=(t,s)=>({code:0,page:0,sdf:!0,rect:new _Rect_js__WEBPACK_IMPORTED_MODULE_6__["default"](0,0,11,8),textureBinding:s,metrics:{advance:0,height:4,width:t,left:0,top:0}});class B{constructor(t,s,e){this._rotation=0,this._decorate(t,s,e),this.glyphs=t,this.bounds=this._createBounds(t),this.isMultiline=s.length>1,this._hasRotation=0!==e.angle,this._T=this._createGlyphTransform(this.bounds,e);for(const i of t)i.setTransform(this._T)}setRotation(t){if(0===t&&0===this._rotation)return;this._rotation=t;const s=this._T,h=(0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.b)((0,_chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),t);(0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.m)(s,h,s);for(const e of this.glyphs)e.setTransform(this._T)}_decorate(t,s,e){if(!e.decoration||"none"===e.decoration||!t.length)return;const i=e.scale,h="underline"===e.decoration?_:p,n=t[0].textureBinding;for(const o of s){const s=o.startX*i,e=o.startY*i,r=(o.width+o.glyphWidthEnd)*i;t.push(new T(s,e+h*i,M(r,n),1))}}get boundsT(){const t=this.bounds,s=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.s)((0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.c)(),t.x,t.y);if((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.t)(s,s,this._T),this._hasRotation){const e=Math.max(t.width,t.height);return new _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["default"](s[0],s[1],e,e)}return new _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["default"](s[0],s[1],t.width,t.height)}_createBounds(t){let s=1/0,e=1/0,i=0,h=0;for(const r of t)s=Math.min(s,r.xTopLeft),e=Math.min(e,r.yTopLeft),i=Math.max(i,r.xTopLeft+r.width),h=Math.max(h,r.yBottomRight);const n=i-s,o=h-e;return new _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["default"](s+n/2,e+o/2,n,o)}_createGlyphTransform(t,e){const i=y*e.angle,o=(0,_chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.c)(),a=(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.c)();return (0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.t)(o,o,(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.s)(a,e.xOffset,-e.yOffset)),e.isCIM?(0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.r)(o,o,i):((0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.t)(o,o,(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.s)(a,t.x,t.y)),(0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.r)(o,o,i),(0,_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.t)(o,o,(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.s)(a,-t.x,-t.y))),o}}class b{constructor(t,s,e,i,h,n){this.glyphWidthEnd=0,this.startX=0,this.startY=0,this.start=Math.max(0,Math.min(s,e)),this.end=Math.max(0,Math.max(s,e)),this.end<t.length&&(this.glyphWidthEnd=t[this.end].metrics.width),this.width=i,this.yMin=h,this.yMax=n}}const R=t=>10===t,L=t=>32===t;function v(t,s,e){const i=new Array,h=1/e.scale,n=e.maxLineWidth*h,o=s?t.length-1:0,r=s?-1:t.length,a=s?-1:1;let c=o,d=0,f=0,l=c,m=l,u=0,g=1/0,_=0;for(;c!==r;){const{code:s,metrics:e}=t[c],h=Math.abs(e.top);if(R(s)||L(s)||(g=Math.min(g,h),_=Math.max(_,h+e.height)),R(s))c!==o&&(i.push(new b(t,l,c-a,d,g,_)),g=1/0,_=0),d=0,l=c+a,m=c+a,f=0;else if(L(s))m=c+a,f=0,u=e.advance,d+=e.advance;else if(d>n){if(m!==l){const s=m-2*a;d-=u,i.push(new b(t,l,s,d-f,g,_)),g=1/0,_=0,l=m,d=f}else i.push(new b(t,l,c-a,d,g,_)),g=1/0,_=0,l=c,m=c,d=0;d+=e.advance,f+=e.advance}else d+=e.advance,f+=e.advance;c+=a}const p=new b(t,l,c-a,d,g,_);return p.start>=0&&p.end<t.length&&i.push(p),i}function j(t,s){let e=0;for(let n=0;n<t.length;n++){const{width:s}=t[n];e=Math.max(s,e)}const i="underline"===s.decoration?g:0,h=t[0].yMin;return{x:0,y:h,height:t[t.length-1].yMax+s.lineHeight*(t.length-1)+i-h,width:e}}function A(t,s,e){const i=e.scale,h=new Array,n=v(t,s,e),o=j(n,e),{vAlign:r,hAlign:a}=e,c=r===_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_4__.VAlign.Baseline?1:0,f=c?0:r-1,l=(1-c)*-o.y+f*(o.height/2)+(c?1:0)*-u;for(let d=0;d<n.length;d++){const{start:s,end:o,width:r}=n[d];let c=-1*(a+1)*(r/2)-x;const f=d*e.lineHeight+l-x;n[d].startX=c,n[d].startY=f;for(let e=s;e<=o;e++){const s=t[e];if(R(s.code))continue;const n=new T(c+s.metrics.left,f-s.metrics.top,s,i);c+=s.metrics.advance,h.push(n)}}return new B(h,n,e)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/number.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "i16": () => (/* binding */ e),
/* harmony export */   "i1616to32": () => (/* binding */ w),
/* harmony export */   "i32": () => (/* binding */ o),
/* harmony export */   "i8": () => (/* binding */ u),
/* harmony export */   "i8816to32": () => (/* binding */ y),
/* harmony export */   "i8888to32": () => (/* binding */ x),
/* harmony export */   "numTo32": () => (/* binding */ A),
/* harmony export */   "toFloat32": () => (/* binding */ h),
/* harmony export */   "toUint32": () => (/* binding */ a),
/* harmony export */   "u16": () => (/* binding */ i),
/* harmony export */   "u32": () => (/* binding */ c),
/* harmony export */   "u32to4Xu8": () => (/* binding */ M),
/* harmony export */   "u4u4to8": () => (/* binding */ m),
/* harmony export */   "u8": () => (/* binding */ f)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const n=new Float32Array(1),r=new Uint32Array(n.buffer);function t(n,r,t){return Math.round(Math.max(Math.min(n,t),r))}function u(n){return t(n,-128,127)}function e(n){return t(n,-32768,32767)}function o(n){return t(n,-2147483648,2147483647)}function f(n){return t(n,0,255)}function i(n){return t(n,0,65535)}function c(n){return t(n,0,4294967295)}function a(t){return n[0]=t,r[0]}function h(t){return r[0]=t,n[0]}function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function m(n,r){return 15&n|(15&r)<<4}function w(n,r){return 65535&n|r<<16}function x(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}function y(n,r,t){return 255&n|(255&r)<<8|t<<16}function A(n){return 0|n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/vvFlagUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/vvFlagUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getVVFlags": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../visualVariablesUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function e(e){if(!e)return _enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLVVFlag.NONE;let r=0;for(const i of e)if("size"===i.type){const t=(0,_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_1__.getTypeOfSizeVisualVariable)(i);r|=t,"outline"===i.target&&(r|=t<<4)}else"color"===i.type?r|=_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLVVFlag.COLOR:"opacity"===i.type?r|=_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLVVFlag.OPACITY:"rotation"===i.type&&(r|=_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLVVFlag.ROTATION);return r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTypeOfSizeVisualVariable": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const l=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.engine.webgl");function o(s){return (0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(s.minDataValue)&&(0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(s.maxDataValue)&&null!=s.minSize&&null!=s.maxSize?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_MINMAX_VALUE:(s.expression&&"view.scale"===s.expression||s.valueExpression&&"$view.scale"===s.valueExpression)&&Array.isArray(s.stops)?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_SCALE_STOPS:(null!=s.field||s.expression&&"view.scale"!==s.expression||s.valueExpression&&"$view.scale"!==s.valueExpression)&&(Array.isArray(s.stops)||"levels"in s&&s.levels)?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_FIELD_STOPS:(null!=s.field||s.expression&&"view.scale"!==s.expression||s.valueExpression&&"$view.scale"!==s.valueExpression)&&null!=s.valueUnit?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_UNIT_VALUE:(l.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-bad-type","Found invalid size VisualVariable",s)),_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.NONE)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../AggregateGraphic.js */ "./node_modules/@arcgis/core/AggregateGraphic.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/watchUtils.js */ "./node_modules/@arcgis/core/core/watchUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_effects_FeatureEffectView_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../layers/effects/FeatureEffectView.js */ "./node_modules/@arcgis/core/layers/effects/FeatureEffectView.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../renderers/support/clickToleranceUtils.js */ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./features/schemaUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js");
/* harmony import */ var _features_tileRenderers_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./features/tileRenderers.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers.js");
/* harmony import */ var _features_support_pixelBuffering_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./features/support/pixelBuffering.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/pixelBuffering.js");
/* harmony import */ var _support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./support/clusterUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js");
/* harmony import */ var _support_FeatureCommandQueue_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./support/FeatureCommandQueue.js */ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js");
/* harmony import */ var _support_FeatureLayerProxy_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./support/FeatureLayerProxy.js */ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureLayerProxy.js");
/* harmony import */ var _support_util_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/util.js */ "./node_modules/@arcgis/core/views/2d/layers/support/util.js");
/* harmony import */ var _tiling_TileManager_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../tiling/TileManager.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileManager.js");
/* harmony import */ var _layers_FeatureLayerView_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../layers/FeatureLayerView.js */ "./node_modules/@arcgis/core/views/layers/FeatureLayerView.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../support/drapedUtils.js */ "./node_modules/@arcgis/core/views/support/drapedUtils.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function Q(e){return e&&"openPorts"in e}const M=_core_Logger_js__WEBPACK_IMPORTED_MODULE_8__["default"].getLogger("esri.views.2d.layers.FeatureLayerView2D");let A=class extends((0,_layers_FeatureLayerView_js__WEBPACK_IMPORTED_MODULE_31__.FeatureLayerView)((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_33__.RefreshableLayerView)((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_22__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_32__["default"])))){constructor(){super(...arguments),this._pipelineIsUpdating=!0,this._commandsQueue=new _support_FeatureCommandQueue_js__WEBPACK_IMPORTED_MODULE_27__["default"]({process:e=>{switch(e.type){case"processed-edit":return this._doEdit(e);case"refresh":return this._doRefresh(e.dataChanged);case"update":return this._doUpdate()}}}),this._visibilityOverrides=new Set,this._highlightIds=new Map,this._lastPixelBuffer=0,this._updateHighlight=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.debounce)((async()=>this._proxy.setHighlight(Array.from(this._highlightIds.keys())))),this._uploadsLocked=!1,this._needsClusterSizeUpdate=!1,this.featureEffectView=new _layers_effects_FeatureEffectView_js__WEBPACK_IMPORTED_MODULE_16__["default"],this._lastDefinitionExpression=null}destroy(){var e,t;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.andThen)(this._updateClusterSizeTask,(e=>e.remove())),null==(e=this._proxy)||e.destroy(),null==(t=this.tileRenderer)||t.destroy(),this._commandsQueue.destroy()}initialize(){this.addResolvingPromise(Promise.all([this._initProxy(),this._initServiceOptions()])),this.handles.add([this.on("valueRangesChanged",(e=>{this._set("_aggregateValueRanges",e.valueRanges)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.react)((()=>this.featureEffect),(e=>{this.featureEffectView.featureEffect=e}),{initial:!0,sync:!0})])}async _initProxy(){if("isTable"in this.layer&&this.layer.isTable)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("featurelayerview:table-not-supported","table feature layer can't be displayed",{layer:this.layer});this._proxy&&this._proxy.destroy();const e=this._createClientOptions();return this._set("_proxy",new _support_FeatureLayerProxy_js__WEBPACK_IMPORTED_MODULE_28__["default"]({client:e})),this._proxy.when()}async _initServiceOptions(){this._set("_serviceOptions",await this._createServiceOptions())}get orderByFields(){return"stream"!==this._serviceOptions.type&&this._serviceOptions.orderByFields}get labelsVisible(){const e="subtype-group"===this.layer.type?this.layer.sublayers.items:[this.layer];return!this.suspended&&e.some((e=>e.labelingInfo&&e.labelsVisible))}get queryMode(){return this._serviceOptions.type}get renderingConfigHash(){if(!this.layer)return null;const e=this.availableFields,t=this.layer,i=this.view.floors,{definitionExpression:r}=t,s="subtype-group"!==this.layer.type&&this.layer.labelsVisible&&this.layer.labelingInfo,a="renderer"in t&&t.renderer,n="feature"===t.type?t.gdbVersion:void 0,o="feature"===t.type&&t.historicMoment?t.historicMoment.getTime():void 0,{timeExtent:l}=this,u="customParameters"in t?JSON.stringify(t.customParameters):void 0,d="apiKey"in t?t.apiKey:void 0,p="stream"===t.type?`${JSON.stringify(t.geometryDefinition)}${t.definitionExpression}`:null,c=JSON.stringify(this.clips),y=t.featureReduction&&t.featureReduction.toJSON(),f="orderBy"in this.layer&&JSON.stringify(this.layer.orderBy),g="sublayers"in this.layer&&this.layer.sublayers.items.reduce(((e,t)=>e+`${t.visible?1:0}.${JSON.stringify(t.renderer)}.${t.labelsVisible}\n.${JSON.stringify(t.labelingInfo)}`),"");return JSON.stringify({orderBy:f,sublayerHash:g,filterHash:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(this.filter)&&this.filter.toJSON(),effectHash:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(this.featureEffect)&&this.featureEffect.toJSON(),streamFilter:p,gdbVersion:n,definitionExpression:r,historicMoment:o,availableFields:e,renderer:a,labelingInfo:s,timeExtent:l,floors:i,clipsHash:c,featureReduction:y,customParameters:u,apiKey:d})}async fetchPopupFeatures(e,t){var i;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(t)&&0===t.clientGraphics.length)return[];if(!("cluster"===(null==(i=this.layer.featureReduction)?void 0:i.type))){const i=(0,_renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_18__.calculateTolerance)({renderer:"renderer"in this.layer&&this.layer.renderer,event:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(t)&&t.event}),r=(0,_support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_34__.createQueryGeometry)(e,i,this.view),{features:s}=await this.queryVisibleFeatures(new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_20__["default"]({geometry:r,outFields:["*"],returnGeometry:!0}));t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(t)?t:{};const a=new Set(t.clientGraphics.map((e=>e.getObjectId())));for(const e of s)a.has(e.getObjectId())||t.clientGraphics.push(e)}return super.fetchPopupFeatures(e,t)}highlight(e){var t;let s;return e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_3__["default"]?s=[e.getObjectId()]:"number"==typeof e||"string"==typeof e?s=[e]:Array.isArray(e)&&e.length>0?s="number"==typeof e[0]||"string"==typeof e[0]?e:e.map((e=>null==e?void 0:e.getObjectId())):_core_Collection_js__WEBPACK_IMPORTED_MODULE_4__["default"].isCollection(e)&&e.length>0&&(s=e.map((e=>null==e?void 0:e.getObjectId())).toArray()),s=null==(t=s)?void 0:t.filter((e=>null!=e)),s&&s.length?(this._addHighlight(s),{remove:()=>this._removeHighlight(s)}):{remove:()=>{}}}hasHighlight(){return!!this._highlightIds.size}async hitTest(e,r){if(!this.tileRenderer)return null;const s=await this.tileRenderer.hitTest(r);if(0===s.length)return null;const{features:a,aggregates:n}=await this._proxy.getFeatures(s);return[...n.map((e=>this._createHittestResult(_AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(e)))),...a.map((e=>this._createHittestResult(_Graphic_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(e))))]}async queryAggregates(){return(await this._proxy.getAggregates()).map((e=>_AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(e)))}queryStatistics(){return this._proxy.queryStatistics()}async querySummaryStatistics(e,t,i){const r={...t,scale:this.view.scale};return this._proxy.querySummaryStatistics(this._cleanUpQuery(e),r,i)}async queryUniqueValues(e,t,i){const r={...t,scale:this.view.scale};return this._proxy.queryUniqueValues(this._cleanUpQuery(e),r,i)}async queryClassBreaks(e,t,i){const r={...t,scale:this.view.scale};return this._proxy.queryClassBreaks(this._cleanUpQuery(e),r,i)}async queryHistogram(e,t,i){const r={...t,scale:this.view.scale};return this._proxy.queryHistogram(this._cleanUpQuery(e),r,i)}queryFeatures(e,t){return this.queryFeaturesJSON(e,t).then((e=>{const t=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_19__["default"].fromJSON(e);return t.features.forEach((e=>this._setLayersForFeature(e))),t}))}queryVisibleFeatures(e,t){return this._proxy.queryVisibleFeatures(this._cleanUpQuery(e),t).then((e=>{const t=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_19__["default"].fromJSON(e);return t.features.forEach((e=>this._setLayersForFeature(e))),t}))}queryFeaturesJSON(e,t){return this._proxy.queryFeatures(this._cleanUpQuery(e),t)}queryObjectIds(e,t){return this._proxy.queryObjectIds(this._cleanUpQuery(e),t)}queryFeatureCount(e,t){return this._proxy.queryFeatureCount(this._cleanUpQuery(e),t)}queryExtent(e,t){return this._proxy.queryExtent(this._cleanUpQuery(e),t).then((e=>({count:e.count,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_36__["default"].fromJSON(e.extent)})))}setVisibility(e,t){t?this._visibilityOverrides.delete(e):this._visibilityOverrides.add(e),this._update()}update(e){if(!this._tileStrategy||!this.tileRenderer)return;const{hasMissingTiles:t,added:i,removed:r}=this._tileStrategy.update(e);(i.length||r.length)&&this._proxy.updateTiles({added:i,removed:r}),t&&this.requestUpdate(),this.notifyChange("updating")}attach(){this.view.timeline.record(`${this.layer.title} (FeatureLayer) Attach`),this._tileStrategy=new _tiling_TileManager_js__WEBPACK_IMPORTED_MODULE_30__.TileManager({acquireTile:e=>this._acquireTile(e),releaseTile:e=>this._releaseTile(e),tileInfoView:this.view.featuresTilingScheme,buffer:0}),this.handles.add((0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_12__.init)(this,"renderingConfigHash",(()=>this._update())),"attach"),"stream"!==this.layer.type&&this.handles.add(this.layer.on("edits",(e=>this._edit(e))),"attach")}detach(){this.container.removeAllChildren(),this.handles.remove("attach"),this.tileRenderer&&(this.tileRenderer.uninstall(this.container),this.tileRenderer=null),this._tileStrategy&&(this._tileStrategy.destroy(),this._tileStrategy=null),this._tileRendererHash=null}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}isUpdating(){var e;const t="renderer"in this.layer&&null!=this.layer.renderer,i=this._commandsQueue.updating,r=null!=this._updatingRequiredFieldsPromise,s=!this._proxy||!this._proxy.isReady,n=this._pipelineIsUpdating,o=null===this.tileRenderer||(null==(e=this.tileRenderer)?void 0:e.updating),l=t&&(i||r||s||n||o);return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_6__["default"])("esri-2d-log-updating")&&console.log(`Updating FLV2D: ${l}\n  -> hasRenderer ${t}\n  -> hasPendingCommand ${i}\n  -> updatingRequiredFields ${r}\n  -> updatingProxy ${s}\n  -> updatingPipeline ${n}\n  -> updatingTileRenderer ${o}\n`),l}_createClientOptions(){return{setUpdating:e=>{this._set("_pipelineIsUpdating",e)},emitEvent:e=>{this.emit(e.name,e.event)}}}async _detectQueryMode(e){var t;const i="path"in e,r="editingInfo"in this.layer&&(null==(t=this.layer.editingInfo)?void 0:t.lastEditDate),s=!!this.layer.refreshInterval,n=!r&&s;if(i&&("feature"===this.layer.type||"subtype-group"===this.layer.type)&&"point"===this.layer.geometryType&&this.layer.capabilities.query.supportsPagination&&!this.layer.capabilities.operations.supportsEditing&&!n&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_6__["default"])("featurelayer-snapshot-enabled"))try{const e=await this.layer.queryFeatureCount();if(e<=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_6__["default"])("featurelayer-snapshot-point-min-threshold"))return{mode:"snapshot",featureCount:e};const t=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_6__["default"])("featurelayer-snapshot-point-max-threshold"),i=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_6__["default"])("featurelayer-snapshot-point-coverage"),r=this.view.extent,s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.unwrap)(this.layer.fullExtent),n=null==s?void 0:s.clone().intersection(r),o=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(n)?n.width*n.height:0,l=(null==s?void 0:s.width)*(null==s?void 0:s.height),d=0===l?0:o/l;if(e<=t&&d>=i)return{mode:"snapshot",featureCount:e}}catch(o){M.warn("mapview-feature-layer","Encountered an error when querying for featureCount",{error:o})}return{mode:"on-demand"}}async _createServiceOptions(){var e;const t=this.layer;if("stream"===t.type)return null;const{capabilities:i,objectIdField:r}=t,s=t.fields.map((e=>e.toJSON())),a=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(t.fullExtent)&&t.fullExtent.toJSON(),o=(0,_support_util_js__WEBPACK_IMPORTED_MODULE_29__.toJSONGeometryType)(t.geometryType),l=t.timeInfo&&t.timeInfo.toJSON()||null,u=t.spatialReference?t.spatialReference.toJSON():null,d="feature"===t.type?t.globalIdField:null;let p;"ogc-feature"===t.type?p=t.source.getFeatureDefinition():Q(t.source)?p=await t.source.openPorts():t.parsedUrl&&(p=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_7__.clone)(t.parsedUrl),"dynamicDataSource"in t&&t.dynamicDataSource&&(p.query={layer:JSON.stringify({source:t.dynamicDataSource})}));const c="datesInUnknownTimezone"in this.layer&&this.layer.datesInUnknownTimezone,y=null!=(e="subtypeField"in this.layer&&this.layer.subtypeField)?e:null,{mode:f,featureCount:g}=await this._detectQueryMode(p);let m=this.layer.objectIdField;if("feature"===this.layer.type&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(this.layer.orderBy)&&this.layer.orderBy.length){const e=!this.layer.orderBy[0].valueExpression&&this.layer.orderBy[0].field;e&&(m=e)}return{type:f,timeReferenceUnknownClient:c,subtypeField:y,featureCount:g,globalIdField:d,maxRecordCount:i.query.maxRecordCount,tileMaxRecordCount:i.query.tileMaxRecordCount,capabilities:i,fields:s,fullExtent:a,geometryType:o,objectIdField:r,source:p,timeInfo:l,spatialReference:u,orderByFields:m}}async _createMemoryServiceOptions(e){const t=await e.openPorts();return{...this._createServiceOptions(),type:"memory",source:t}}_cleanUpQuery(e){const t=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_20__["default"].from(e)||this.createQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t}async _update(){return this._commandsQueue.push({type:"update"})}async _edit(e){if(this._validateEdit(e))return this._commandsQueue.push({type:"edit",edits:e})}async doRefresh(e){return this._commandsQueue.push({type:"refresh",dataChanged:e})}_validateEdit(e){const t="globalIdField"in this.layer&&this.layer.globalIdField,i=e.deletedFeatures.some((e=>-1===e.objectId||!e.objectId)),r=t&&this.availableFields.includes(t);return i&&!r?(M.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("mapview-apply-edits",`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected on the map`)),null):e}async _doUpdate(){try{if(this.destroyed||!this._hasRequiredSupport(this.layer)||!this._tileStrategy)return;const{featureEffectView:t,filter:i}=this;await this._updateRequiredFields();const{renderer:r}=this._getEffectiveRenderer();this._set("_effectiveRenderer",r);const s=this._createSchemaConfig(),a=(0,_support_util_js__WEBPACK_IMPORTED_MODULE_29__.toJSONGeometryType)(this.layer.geometryType),n=await (0,_features_support_pixelBuffering_js__WEBPACK_IMPORTED_MODULE_25__.computePxBuffer)(r,a,this.view.resourceManager,this.layer.fields,this.layer.spatialReference,this.layer.featureReduction),o=this._createConfiguration(s,i,t.filter),l=this._lastDefinitionExpression!==o.definitionExpression;this._lastDefinitionExpression=o.definitionExpression,this._lastPixelBuffer=0===n?0:Math.max(n,this._lastPixelBuffer),o.schema.source.pixelBuffer=this._lastPixelBuffer;const h=this._createTileRendererHash(r);if("snapshot"===this._serviceOptions.type&&(o.schema.source.featureCount=this._serviceOptions.featureCount),h!==this._tileRendererHash){await this._initTileRenderer(r);const e=this._serviceOptions;this.tileRenderer.onConfigUpdate(r);const t=this.layer;"stream"!==t.type&&Q(t.source)&&(e.source=await t.source.openPorts()),"stream"===t.type&&await this._initServiceOptions();const i={added:this._tileStrategy.tileKeys(),removed:[]};await this._proxy.startup(this.view.featuresTilingScheme,o,e,i),this.hasHighlight()&&await this._proxy.setHighlight(Array.from(this._highlightIds.keys())),await this._onceTilesUpdated(),this.tileRenderer.onConfigUpdate(r)}else{"snapshot"===this._serviceOptions.type&&l&&(o.schema.source.featureCount=await this.layer.queryFeatureCount());const t=await this._proxy.update(o);(t.mesh||t.targets.aggregate)&&this._lockGPUUploads();try{await this._proxy.applyUpdate(t)}catch(e){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e)||M.error(e)}(t.mesh||t.targets.aggregate)&&this._unlockGPUUploads(),this.tileRenderer.onConfigUpdate(r),this._updateClusterSizeVariable(),this._forceAttributeTextureUpload()}this._tileRendererHash=h,this.tileRenderer.invalidateLabels(),this.requestUpdate()}catch(e){}}async _doEdit(e){try{await this._proxy.onEdits(e)}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(t),0}}async _doRefresh(e){this._lockGPUUploads();try{await this._proxy.refresh(e)}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(t),0}this._unlockGPUUploads()}_updateClusterSizeVariable(){this._needsClusterSizeUpdate&&(this.tileRenderer.onConfigUpdate(this._effectiveRenderer),this._needsClusterSizeUpdate=!1)}_createUpdateClusterSizeTask(e,t){return this.watch("_aggregateValueRanges",(async i=>{this._updateClusterEffectiveRendererSizeVariable(e,t,i),this._needsClusterSizeUpdate=!0,this._uploadsLocked||this._updateClusterSizeVariable()}))}async _updateClusterEffectiveRendererSizeVariable(e,t,i){if(e.dynamicClusterSize&&"visualVariables"in e&&e.visualVariables){const r=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_26__.findSizeVV)(e.visualVariables);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(r)&&"cluster_count"===r.field){const s=e.visualVariables.indexOf(r);e.visualVariables[s]=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_26__.createClusterCountSizeVariable)(t,i);const a=e.clone();a.dynamicClusterSize=!0,this._set("_effectiveRenderer",a)}}}_getEffectiveRenderer(){const e="renderer"in this.layer&&this.layer.renderer,t=this.layer.featureReduction;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(this._updateClusterSizeTask)&&(this._updateClusterSizeTask.remove(),this._updateClusterSizeTask=null),t&&"cluster"===t.type&&(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_26__.isClusterCompatibleRenderer)(e)){const i=t,r=[],s=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_26__.createClusterRenderer)(r,e,i,this._aggregateValueRanges);return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.andThen)(this._updateClusterSizeTask,(e=>e.remove())),this._updateClusterSizeTask=this._createUpdateClusterSizeTask(s,i),{renderer:s,aggregateFields:r,featureReduction:t}}return{renderer:e,aggregateFields:[],featureReduction:null}}_acquireTile(e){const t=this.tileRenderer.acquireTile(e);return t.once("attach",(()=>{this.requestUpdate()})),t}_releaseTile(e){this.tileRenderer.releaseTile(e)}async _initTileRenderer(e){const t=await (0,_features_tileRenderers_js__WEBPACK_IMPORTED_MODULE_24__.createOrReuseTileRenderer)(e,{layerView:this,tileInfoView:this.view.featuresTilingScheme,layer:this.layer});return this.tileRenderer&&(this._tileStrategy.clear(),this.tileRenderer.uninstall(this.container),this.tileRenderer.destroy(),this.tileRenderer=null),this.destroyed?null:(this._proxy.tileRenderer=t,this._set("tileRenderer",t),this.tileRenderer.install(this.container),this.tileRenderer.onConfigUpdate(e),this.requestUpdate(),this.tileRenderer)}_createTileRendererHash(e){return`${"heatmap"===e.type?"heatmap":"symbol"}.${"dot-density"===e.type}`}get hasFilter(){const e=!!("floorInfo"in this.layer&&this.layer.floorInfo&&this.view.floors&&this.view.floors.length);return!!this.filter||e||!!this._visibilityOverrides.size||!!this.timeExtent}_injectOverrides(e){const t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(e)?e.timeExtent:null,i=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(this.timeExtent)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(t)?this.timeExtent.intersection(t):this.timeExtent||t;let r=null;const s="floorInfo"in this.layer&&this.layer.floorInfo;if(s){const t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(e)&&e.where;r=this._addFloorFilterClause(t)}if(!this._visibilityOverrides.size&&!i&&!s)return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(e)?e.toJSON():null;(e=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(e)&&e.clone()||new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_17__["default"]).timeExtent=i,r&&(e.where=r);const a=e.toJSON();return a.hiddenIds=Array.from(this._visibilityOverrides),a}_addFloorFilterClause(e){const t=this.layer;let i=e||"";if("floorInfo"in t&&t.floorInfo){var r;let e=this.view.floors;if(!e||!e.length)return i;null!=(r=t.floorInfo.viewAllLevelIds)&&r.length&&(e=t.floorInfo.viewAllLevelIds);const s=e.filter((e=>""!==e)).map((e=>"'"+e+"'"));s.push("''");const a=t.floorInfo.floorField;let n="("+a+" IN ({ids}) OR "+a+" IS NULL)";if(n=n.replace("{ids}",s.join(", ")),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(i)&&i.includes(a)){let e=new RegExp("AND \\("+a+".*NULL\\)","g");i=i.replace(e,""),e=new RegExp("\\("+a+".*NULL\\)","g"),i=i.replace(e,""),i=i.replace(/\s+/g," ").trim()}i=""!==i?"("+i+") AND "+n:n}return""!==i?i:null}_createConfiguration(e,t,i){const r="feature"===this.layer.type&&this.layer.historicMoment?this.layer.historicMoment.getTime():void 0,s="feature"===this.layer.type?this.layer.gdbVersion:void 0,a=new Array(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_21__.MAX_FILTERS),n=this._injectOverrides(t);a[0]=n,a[1]=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(i)?i.toJSON():null;const o=(0,_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_23__.createSchema)(e);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isNone)(o))return null;const l=(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_35__["default"])();return{definitionExpression:this.layer.definitionExpression,availableFields:this.availableFields,gdbVersion:s,historicMoment:r,devicePixelRatio:window.devicePixelRatio||1,filters:a,schema:o,supportsTextureFloat:l.supportsTextureFloat,maxTextureSize:l.maxTextureSize}}_hasRequiredSupport(e){var t;return!("renderer"in e&&"dot-density"===(null==(t=e.renderer)?void 0:t.type)&&!(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_35__["default"])().supportsTextureFloat)||(M.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("webgl-missing-extension","Missing WebGL extension OES_Texture_Float which is required for DotDensity")),!1)}_onceTilesUpdated(){return this.requestUpdate(),(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_12__.whenFalseOnce)(this,"_pipelineIsUpdating",!1)}_lockGPUUploads(){this.tileRenderer&&(this._uploadsLocked=!0,this.tileRenderer.lockGPUUploads())}_unlockGPUUploads(){this.tileRenderer&&(this._uploadsLocked=!1,this.tileRenderer.unlockGPUUploads())}_forceAttributeTextureUpload(){this.tileRenderer&&this.tileRenderer.forceAttributeTextureUpload()}_createSchemaConfig(){const e="feature"===this.layer.type?this.layer.historicMoment:null,t="feature"===this.layer.type?this.layer.gdbVersion:null;return{renderer:"renderer"in this.layer&&this.layer.renderer,spatialReference:this.layer.spatialReference,timeExtent:this.layer.timeExtent,definitionExpression:this.layer.definitionExpression,featureReduction:this.layer.featureReduction,fields:this.layer.fields,geometryType:this.layer.geometryType,historicMoment:e,labelsVisible:"labelsVisible"in this.layer&&this.layer.labelsVisible,labelingInfo:"labelingInfo"in this.layer&&this.layer.labelingInfo,availableFields:this.availableFields,featureEffect:this.featureEffect,filter:this.filter,gdbVersion:t,pixelBuffer:0,orderBy:"orderBy"in this.layer&&this.layer.orderBy?this.layer.orderBy:null,customParameters:{..."customParameters"in this.layer?this.layer.customParameters:void 0,token:"apiKey"in this.layer?this.layer.apiKey:void 0}}}_addHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t);this._highlightIds.set(t,e+1)}else this._highlightIds.set(t,1);this._updateHighlight().catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e)||M.error(e)}))}_removeHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t)-1;0===e?this._highlightIds.delete(t):this._highlightIds.set(t,e)}this._updateHighlight().catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e)||M.error(e)}))}_setLayersForFeature(e){const t=this.layer;e.layer=t,e.sourceLayer=t}_createHittestResult(e){return this._setLayersForFeature(e),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.isSome)(e.geometry)&&(e.geometry.spatialReference=this.view.spatialReference),e}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"_serviceOptions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"_proxy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"_pipelineIsUpdating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"_effectiveRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"_aggregateValueRanges",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"_commandsQueue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"featureEffectView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"labelsVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],A.prototype,"queryMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"renderingConfigHash",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"tileRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],A.prototype,"updating",void 0),A=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__.subclass)("esri.views.2d.layers.FeatureLayerView2D")],A);const D=A;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LayerView2DMixin": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/collectionUtils.js */ "./node_modules/@arcgis/core/core/collectionUtils.js");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/watchUtils.js */ "./node_modules/@arcgis/core/core/watchUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _engine_Container_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../engine/Container.js */ "./node_modules/@arcgis/core/views/2d/engine/Container.js");
/* harmony import */ var _layers_support_ClipArea_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../layers/support/ClipArea.js */ "./node_modules/@arcgis/core/views/layers/support/ClipArea.js");
/* harmony import */ var _layers_support_ClipRect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../layers/support/ClipRect.js */ "./node_modules/@arcgis/core/views/layers/support/ClipRect.js");
/* harmony import */ var _layers_support_Geometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../layers/support/Geometry.js */ "./node_modules/@arcgis/core/views/layers/support/Geometry.js");
/* harmony import */ var _layers_support_Path_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/support/Path.js */ "./node_modules/@arcgis/core/views/layers/support/Path.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const c=_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType({key:"type",base:_layers_support_ClipArea_js__WEBPACK_IMPORTED_MODULE_10__["default"],typeMap:{rect:_layers_support_ClipRect_js__WEBPACK_IMPORTED_MODULE_11__["default"],path:_layers_support_Path_js__WEBPACK_IMPORTED_MODULE_13__["default"],geometry:_layers_support_Geometry_js__WEBPACK_IMPORTED_MODULE_12__["default"]}}),l=e=>{let p=class extends e{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new _engine_Container_js__WEBPACK_IMPORTED_MODULE_9__.Container),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__.init)(this,"suspended",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__.init)(this,["layer.opacity","container"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__.init)(this,["layer.blendMode"],(t=>{this.container&&(this.container.blendMode=t)}),!0),(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__.init)(this,["layer.effect"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on("change",(()=>{this.container.clips=this.clips,this.notifyChange("clips")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove("initialize"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!(!this.updatingHandles||!this.updatingHandles.updating)}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,a=!r;!s&&t<=i&&(s=!0),!a&&t>=r&&(a=!0),e=s&&a}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}hitTest(t,e){return Promise.resolve(null)}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:c,set(t){const e=(0,_core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__.referenceSetter)(t,this._get("clips"),c);this._set("clips",e)}})],p.prototype,"clips",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"moving",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"attached",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],p.prototype,"updateParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"updateRequested",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"view",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.LayerView2D")],p),p};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/SubtypeGroupLayerView2D.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/SubtypeGroupLayerView2D.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/watchUtils.js */ "./node_modules/@arcgis/core/core/watchUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_set_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/set.js */ "./node_modules/@arcgis/core/core/accessorSupport/set.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _FeatureLayerView2D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./FeatureLayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function o(e,r){return!e.visible||0!==e.minScale&&r>e.minScale||0!==e.maxScale&&r<e.maxScale}let l=class extends _FeatureLayerView2D_js__WEBPACK_IMPORTED_MODULE_10__["default"]{initialize(){this.handles.add([(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_2__.init)(this.view,"viewpoint",(()=>this._update()))])}_injectOverrides(e){let s=super._injectOverrides(e);const t=this.view.scale,a=this.layer.sublayers.filter((e=>o(e,t))).map((e=>e.subtypeCode));if(!a.length)return s;s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isSome)(s)?s:(new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_9__["default"]).toJSON();const l=`NOT ${this.layer.subtypeField} IN (${a.join(",")})`;return s.where=s.where?`(${s.where}) AND (${l})`:l,s}_setLayersForFeature(e){const r=this.layer.fieldsIndex.get(this.layer.subtypeField),s=e.attributes[r.name],t=this.layer.sublayers.find((e=>e.subtypeCode===s));e.layer=t,e.sourceLayer=this.layer}_createSchemaConfig(){const e={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((e=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:e.labelingInfo,labelsVisible:e.labelsVisible,renderer:e.renderer,subtypeCode:e.subtypeCode,orderBy:null})))},r=this.layer.sublayers.map((e=>e.subtypeCode)).join(","),s=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${r})`:"1=2";let t=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return t+=s,{...super._createSchemaConfig(),...e,definitionExpression:t}}};l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.SubtypeGroupLayerView2D")],l);const n=l;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addAggregateFields": () => (/* binding */ X),
/* harmony export */   "createMatcherSchema": () => (/* binding */ _),
/* harmony export */   "createSchema": () => (/* binding */ B),
/* harmony export */   "createSymbolSchema": () => (/* binding */ z),
/* harmony export */   "createSymbolSchemaOptions": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _renderers_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../renderers/ClassBreaksRenderer.js */ "./node_modules/@arcgis/core/renderers/ClassBreaksRenderer.js");
/* harmony import */ var _renderers_DictionaryRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../renderers/DictionaryRenderer.js */ "./node_modules/@arcgis/core/renderers/DictionaryRenderer.js");
/* harmony import */ var _renderers_DotDensityRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/DotDensityRenderer.js */ "./node_modules/@arcgis/core/renderers/DotDensityRenderer.js");
/* harmony import */ var _renderers_HeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../renderers/HeatmapRenderer.js */ "./node_modules/@arcgis/core/renderers/HeatmapRenderer.js");
/* harmony import */ var _renderers_Renderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../renderers/Renderer.js */ "./node_modules/@arcgis/core/renderers/Renderer.js");
/* harmony import */ var _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../renderers/SimpleRenderer.js */ "./node_modules/@arcgis/core/renderers/SimpleRenderer.js");
/* harmony import */ var _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../renderers/UniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js");
/* harmony import */ var _renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../renderers/support/jsonUtils.js */ "./node_modules/@arcgis/core/renderers/support/jsonUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _symbols_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../symbols/support/jsonUtils.js */ "./node_modules/@arcgis/core/symbols/support/jsonUtils.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../engine/webgl/Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../engine/webgl/materialKey/MaterialKey.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js");
/* harmony import */ var _engine_webgl_util_vvFlagUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../engine/webgl/util/vvFlagUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/vvFlagUtils.js");
/* harmony import */ var _support_pixelBuffering_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./support/pixelBuffering.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/pixelBuffering.js");
/* harmony import */ var _support_rendererUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./support/rendererUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js");
/* harmony import */ var _support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/clusterUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js");
/* harmony import */ var _support_util_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../support/util.js */ "./node_modules/@arcgis/core/views/2d/layers/support/util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const v=_core_Logger_js__WEBPACK_IMPORTED_MODULE_11__["default"].getLogger("esri.views.2d.layers.features.schemaUtils"),w="ValidationError",S={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function F(e){return (0,_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_17__.hydrateMaterialKey)(e)}function V(e){return e}function E(e){if("line-marker"===e.type){var t;return{type:"line-marker",color:null==(t=e.color)?void 0:t.toJSON(),placement:e.placement,style:e.style}}return (0,_symbols_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_14__.fromJSON)(e.toJSON()).toJSON()}function I(e){let t=0,r=0,i=!1,n=!0,s=!0;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.isSome)(e)&&(r=(0,_support_pixelBuffering_js__WEBPACK_IMPORTED_MODULE_19__.getPtMaxVVSize)(e),"visualVariables"in e&&(t=(0,_engine_webgl_util_vvFlagUtils_js__WEBPACK_IMPORTED_MODULE_18__.getVVFlags)(e.visualVariables||[]),i="dot-density"===e.type),!i)){const t=e.getSymbols();"backgroundFillSymbol"in e&&e.backgroundFillSymbol&&t.push(e.backgroundFillSymbol);for(const e of t)if("cim"===e.type&&(n=!1),"simple-fill"===e.type||"picture-fill"===e.type){const t=e.outline;t&&"none"!==t.style&&"solid"!==t.style&&(s=!1);const r=t&&"none"!==t.style&&"solid"!==t.style,i="simple-fill"===e.type&&"none"!==e.style&&"solid"!==e.style;("picture-fill"===e.type||i||r)&&(n=!1)}}return i&&(s=!1),{vvFlags:t,maxVVSize:r,supportsOutlineFills:s,stride:{fill:i?"dot-density":n?"simple":"default"}}}function z(e,t,r){return j(e,I(t),r)}function j(e,t,r){if(!e)return null;switch(e.type){case"simple-fill":case"picture-fill":return R(e,t,r);case"simple-marker":case"picture-marker":return N(e,t,r);case"simple-line":return T(e,t,r);case"text":return O(e,t,r);case"label":return M(e,t,r);case"cim":return{type:"cim",rendererKey:t.vvFlags,data:e.data,maxVVSize:t.maxVVSize};case"CIMSymbolReference":return{type:"cim",rendererKey:t.vvFlags,data:e,maxVVSize:t.maxVVSize};case"web-style":return{...E(e),type:"web-style",hash:e.hash(),rendererKey:t.vvFlags,maxVVSize:t.maxVVSize};default:throw new Error(`symbol not supported ${e.type}`)}}function R(e,t,r){const i=t.supportsOutlineFills,n=(0,_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_17__.createMaterialKey)(_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.WGLGeometryType.FILL,{...t,isOutlinedFill:i}),l=r?F(n):n,s=e.clone(),a=s.outline;t.supportsOutlineFills||(s.outline=null);const o={materialKey:l,hash:s.hash(),isOutlinedFill:!!t.supportsOutlineFills,...E(s)};if(t.supportsOutlineFills)return o;const u=[];if(u.push(o),a){const e=(0,_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_17__.createMaterialKey)(_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.WGLGeometryType.LINE,{...t,isOutline:!0}),i={materialKey:r?F(e):e,hash:a.hash(),...E(a)};u.push(i)}return{type:"composite-symbol",layers:u,hash:u.reduce(((e,t)=>t.hash+e),"")}}function T(e,t,r){const i=(0,_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_17__.createMaterialKey)(_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.WGLGeometryType.LINE,t),n=r?F(i):i,l=e.clone(),s=l.marker;l.marker=null;const a=[];if(a.push({materialKey:n,hash:l.hash(),...E(l)}),s){var o;const e=(0,_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_17__.createMaterialKey)(_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.WGLGeometryType.MARKER,t),i=r?F(e):e;s.color=null!=(o=s.color)?o:l.color,a.push({materialKey:i,hash:s.hash(),lineWidth:l.width,...E(s)})}return{type:"composite-symbol",layers:a,hash:a.reduce(((e,t)=>t.hash+e),"")}}function N(e,t,r){const i=(0,_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_17__.createMaterialKey)(_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.WGLGeometryType.MARKER,t),n=r?F(i):i,l=E(e);return{materialKey:n,hash:e.hash(),...l,angle:e.angle,maxVVSize:t.maxVVSize}}function O(e,t,r){const i=(0,_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_17__.createMaterialKey)(_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.WGLGeometryType.TEXT,t),n=r?F(i):i,l=E(e);return{materialKey:n,hash:e.hash(),...l,angle:e.angle,maxVVSize:t.maxVVSize}}function k(e,r){const i=e.labelPlacement,n=S[r];if(!e.symbol)return v.warn("No ILabelClass symbol specified."),!0;if(!n)return v.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"]("mapview-labeling:unsupported-geometry-type",`Unable to create labels for Feature Layer, ${r} is not supported`)),!0;if(!n.some((e=>e===i))){const t=n[0];i&&v.warn(`Found invalid label placement type ${i} for ${r}. Defaulting to ${t}`),e.labelPlacement=t}return!1}function K(e,t){const r=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_10__.clone)(e);return r.some((e=>k(e,t)))?[]:r}function M(e,t,r){const i=e.toJSON(),n=(0,_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_17__.createMaterialKey)(_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_15__.WGLGeometryType.LABEL,{...t,placement:i.labelPlacement});return{materialKey:r?F(n):n,hash:e.hash(),...i,labelPlacement:i.labelPlacement}}function B(e){return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_9__["default"])("esri-2d-update-debug")&&console.debug("Created new schema",L(e,!0)),L(e)}function L(e,t=!1){try{var r,i;const n=A(e,t),l={};n.map((t=>P(l,e,t)));return{source:{definitionExpression:e.definitionExpression,fields:e.fields.map((e=>e.toJSON())),gdbVersion:e.gdbVersion,historicMoment:null==(r=e.historicMoment)?void 0:r.getTime(),outFields:e.availableFields,pixelBuffer:e.pixelBuffer,spatialReference:e.spatialReference.toJSON(),timeExtent:null==(i=e.timeExtent)?void 0:i.toJSON(),customParameters:e.customParameters},attributes:{fields:{},indexCount:0},processors:n,targets:l}}catch(n){if(n.fieldName===w)return v.error(n),null;throw n}}function P(e,r,i){switch(i.target){case"feature":return void U(e,C(r),i);case"aggregate":{if(!("featureReduction"in r))return;const n=r.featureReduction;if("selection"===n.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"](w,"Mapview does not support `selection` reduction type",n);return U(e,C(r),i),void D(e,n,i)}}}function J(e,t){for(const r in t){const i=t[r];if(i.target!==e.name)continue;const n=e.attributes[r];n?(n.context.mesh=n.context.mesh||i.context.mesh,n.context.storage=n.context.storage||i.context.storage):e.attributes[r]=i}return e}function C(e){var t,r,i,n,l;return[null!=(t=null==(r=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.unwrap)(e.filter))?void 0:r.toJSON())?t:null,null!=(i=null==(n=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.unwrap)(null==(l=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.unwrap)(e.featureEffect))?void 0:l.filter))?void 0:n.toJSON())?i:null]}function U(e,t,r){return e.feature||(e.feature={name:"feature",input:"source",filters:t,attributes:{}}),J(e.feature,r.attributes.fields),e}function D(e,t,r){return e.aggregate||(e.aggregate={name:"aggregate",input:"feature",filters:null,attributes:{},params:{clusterRadius:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.pt2px)(t.clusterRadius/2),clusterPixelBuffer:64*Math.ceil((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.pt2px)(t.clusterMaxSize)/64),fields:r.aggregateFields}}),J(e.aggregate,r.attributes.fields),e}function $(e,t){return t.field?q(e,{...t,type:"field",field:t.field}):t.valueExpression?q(e,{...t,type:"expression",valueExpression:t.valueExpression}):{field:null,fieldIndex:null}}function q(e,t){switch(t.type){case"expression":{const r=V(t.valueExpression);if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case"label-expression":{const r=V(JSON.stringify(t.label));if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case"field":{const r=t.field;return"aggregate"===t.target&&e.fields[r]||(e.fields[r]={...t,name:r}),{field:r}}case"statistic":return e.fields[t.name]={...t},{field:t.name}}}function A(e,t=!1){const r=new Array;let i=0;return r.push(H(e,i++,t)),r}function G(e,t,r,i,n,l=!1){const s=q(t,{type:"label-expression",target:i,context:{mesh:!0},resultType:"string",label:{labelExpression:r.labelExpression,labelExpressionInfo:r.labelExpressionInfo?{expression:r.labelExpressionInfo.expression}:null,symbol:!!r.symbol,where:r.where}}),{fieldIndex:a}=s;return{...z(r,e,l),fieldIndex:a,target:i,index:n}}function H(r,i,n=!1){const s={indexCount:0,fields:{}},a="featureReduction"in r&&r.featureReduction,o=a?"aggregate":"feature";if("sublayers"in r){const e={type:"subtype",subtypeField:r.subtypeField,renderers:{},stride:{fill:"default"}},i={type:"subtype",mapping:{},target:"feature"},a={type:"subtype",classes:{}},u={type:"symbol",target:"feature",aggregateFields:[],attributes:s,storage:i,mesh:{matcher:e,aggregateMatcher:null,labels:a,sortKey:null}},d=new Set;let f=0;for(const{renderer:c,subtypeCode:p,labelingInfo:m,labelsVisible:y}of r.sublayers){const r=_(s,o,c,n),u=Q(s,o,c),g=y&&m;if("visualVariables"in c&&c.visualVariables&&c.visualVariables.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"](w,"Visual variables are currently not supported for subtype layers");if("dictionary"===r.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"](w,"Dictionary renderer is not supported in subtype layers");if("subtype"===r.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"](w,"Nested subtype renderers is not supported");if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.isSome)(u)&&"subtype"===u.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"](w,"Nested subtype storage is not supported");if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.isSome)(u)&&"dot-density"===u.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"](w,"Dot density attributes are not supported in subtype layers");if(d.has(p))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"](w,"Subtype codes for sublayers must be unique");d.add(p),e.renderers[p]=r,i.mapping[p]=u,g&&(a.classes[p]=g.map((e=>G(c,s,e,"feature",f++,n))))}return u}if("heatmap"===r.renderer.type){const{blurRadius:e,fieldOffset:t,field:i}=r.renderer;return{type:"heatmap",aggregateFields:[],attributes:s,target:o,storage:null,mesh:{blurRadius:e,fieldOffset:t,field:$(s,{target:o,field:i,resultType:"numeric"}).field}}}{const i=[],l="aggregate"===o?(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_21__.createClusterRenderer)(i,r.renderer,a,null):r.renderer;X(s,i);const u=_(s,o,l,n);let d=null;const f=Q(s,o,l),c=(0,_support_util_js__WEBPACK_IMPORTED_MODULE_22__.toJSONGeometryType)(r.geometryType);let p=r.labelsVisible&&r.labelingInfo||[],m=[];if(a){if("selection"===a.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"](w,"Mapview does not support `selection` reduction type",a);if(a.symbol){const t=new _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_5__["default"]({symbol:a.symbol,visualVariables:"visualVariables"in l?l.visualVariables:null});d=_(s,o,t,n)}m=a&&a.labelsVisible&&a.labelingInfo||[]}p=K(p,c),m=K(m,c);let y=0;const g=[...p.map((e=>G(l,s,e,"feature",y++,n))),...m.map((e=>G(l,s,e,"aggregate",y++,n)))],b=W(s,r.orderBy);return{type:"symbol",target:o,attributes:s,aggregateFields:i,storage:f,mesh:{matcher:u,labels:{type:"simple",classes:g},aggregateMatcher:d,sortKey:b}}}}function W(e,r){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.isNone)(r)||!r.length)return null;r.length>1&&v.warn(`Layer rendering currently only supports ordering by 1 orderByInfo, but found ${r.length}. All but the first will be discarded`);const i=r[0],n="ascending"===i.order?"asc":"desc";if(i.field)return{field:i.field,order:n};if(i.valueExpression){return{fieldIndex:q(e,{type:"expression",target:"feature",valueExpression:i.valueExpression,resultType:"numeric"}).fieldIndex,order:n}}return v.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"](w,"Expected to find a field or valueExpression for OrderByInfo",i)),null}function X(e,t){const r={mesh:!0,storage:!0};for(const i of t){const{name:t,outStatistic:n}=i,{statisticType:l,onStatisticField:s}=n;let a=null,o=null,u=null;const d="numeric",f="feature";if("onStatisticValueExpression"in n){o=q(e,{type:"expression",target:f,valueExpression:n.onStatisticValueExpression,resultType:d}).fieldIndex}else if("onStatisticNormalizationField"in n){a=q(e,{type:"field",target:f,field:s,resultType:d}).field,u=n.onStatisticNormalizationField}else{a=q(e,{type:"field",target:f,field:s,resultType:d}).field}q(e,{type:"statistic",target:"aggregate",name:t,context:r,inField:a,inNormalizationField:u,inFieldIndex:o,statisticType:l})}}function Q(e,t,r){switch(r.type){case"dot-density":return Y(e,t,r.attributes);case"simple":case"class-breaks":case"unique-value":case"dictionary":return Z(e,t,r.visualVariables);case"heatmap":return null}}function Y(e,t,r){if(!r||!r.length)return{type:"dot-density",mapping:[],target:t};return{type:"dot-density",mapping:r.map(((r,i)=>{const{field:n,fieldIndex:l}=$(e,{valueExpression:r.valueExpression,field:r.field,resultType:"numeric",target:t});return{binding:i,field:n,fieldIndex:l}})),target:t}}function Z(e,t,r){if(!r||!r.length)return{type:"visual-variable",mapping:[],target:t};const i={storage:!0},n="numeric";return{type:"visual-variable",mapping:(0,_support_rendererUtils_js__WEBPACK_IMPORTED_MODULE_20__.simplifyVisualVariables)(r).map((r=>{var l;const s=(0,_engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_16__.getVVType)(r.type),{field:a,fieldIndex:o}=$(e,{target:t,valueExpression:r.valueExpression,field:r.field,context:i,resultType:n});switch(r.type){case"size":return"$view.scale"===r.valueExpression?null:{type:"size",binding:s,field:a,fieldIndex:o,normalizationField:$(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field,valueRepresentation:null!=(l=r.valueRepresentation)?l:null};case"color":return{type:"color",binding:s,field:a,fieldIndex:o,normalizationField:$(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case"opacity":return{type:"opacity",binding:s,field:a,fieldIndex:o,normalizationField:$(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case"rotation":return{type:"rotation",binding:s,field:a,fieldIndex:o}}})).filter((e=>e)),target:t}}function _(e,t,r,i=!1){const n=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.unwrapOr)(e,{indexCount:0,fields:{}});switch(r.type){case"simple":case"dot-density":return ee(n,r,i);case"class-breaks":return te(n,t,r,i);case"unique-value":return re(n,t,r,i);case"dictionary":return ie(n,r,i)}}function ee(e,t,r=!1){const i=t.getSymbols(),n=i.length?i[0]:null,{stride:l}=I(t);return{type:"simple",symbol:z(n,t,r),stride:l}}function te(e,t,r,i=!1){const n={mesh:!0,use:"renderer.field"},l=r.backgroundFillSymbol,{field:s,fieldIndex:a}=$(e,{target:t,field:r.field,valueExpression:r.valueExpression,resultType:"numeric",context:n}),o=r.normalizationType,u="log"===o?"esriNormalizeByLog":"percent-of-total"===o?"esriNormalizeByPercentOfTotal":"field"===o?"esriNormalizeByField":null,d=I(r),f=r.classBreakInfos.map((e=>({symbol:j(e.symbol,d,i),min:e.minValue,max:e.maxValue}))).sort(((e,t)=>e.min-t.min));return{type:"interval",attributes:e.fields,field:s,fieldIndex:a,backgroundFillSymbol:j(l,d,i),defaultSymbol:j(r.defaultSymbol,d,i),intervals:f,normalizationField:r.normalizationField,normalizationTotal:r.normalizationTotal,normalizationType:u,isMaxInclusive:r.isMaxInclusive,stride:d.stride}}function re(e,r,i,n=!1){const l=[],s=i.backgroundFillSymbol,a={target:r,context:{mesh:!0},resultType:"string"};if(i.field&&"string"!=typeof i.field)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_8__["default"](w,"Expected renderer.field to be a string",i);const{field:o,fieldIndex:u}=$(e,{...a,field:i.field,valueExpression:i.valueExpression}),d=I(i);for(const t of i.uniqueValueInfos)l.push({value:""+t.value,symbol:j(t.symbol,d,n)});return{type:"map",attributes:e.fields,field:o,fieldIndex:u,field2:$(e,{...a,field:i.field2}).field,field3:$(e,{...a,field:i.field3}).field,fieldDelimiter:i.fieldDelimiter,backgroundFillSymbol:j(s,d),defaultSymbol:j(i.defaultSymbol,d),map:l,stride:d.stride}}function ie(e,t,r=!1){return{type:"dictionary",renderer:t.toJSON(),stride:{fill:"default"}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/pixelBuffering.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/pixelBuffering.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "computePxBuffer": () => (/* binding */ c),
/* harmony export */   "getPtMaxVVSize": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../symbols/cim/CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _symbols_cim_Rect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../symbols/cim/Rect.js */ "./node_modules/@arcgis/core/symbols/cim/Rect.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _graphics_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../graphics/graphicsUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js");
/* harmony import */ var _support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../support/cimSymbolUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/cimSymbolUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const a={"simple-marker":1,"picture-marker":1,text:0,"simple-line":0,"simple-fill":0,"picture-fill":0,cim:1,"web-style":1},o=.707;function m(t){if(!("visualVariables"in t))return 0;if(!t.hasVisualVariables("size"))return 0;const e=t.getVisualVariablesForType("size");if(!e[0])return 0;const r=e[0];if("outline"===r.target)return 0;if("stops"===r.transformationType)return r.stops.map((t=>t.size)).reduce(g,0);if("clamped-linear"===r.transformationType){let t=-1/0,e=-1/0;return t="number"==typeof r.maxSize?r.maxSize:r.maxSize.stops.map((t=>t.size)).reduce(g,0),e="number"==typeof r.minSize?r.minSize:r.minSize.stops.map((t=>t.size)).reduce(g,0),Math.max(t,e)}return"real-world-size"===r.transformationType?30:void 0}function u(t){return t.type in a}async function c(e,r,i,n,s,a){if(!e||a&&"cluster"===a.type)return 0;if("heatmap"===e.type)return Math.round(3*e.blurRadius);if("dot-density"===e.type)return 0;if("dictionary"===e.type)return"esriGeometryPoint"===r||"esriGeometryMultipoint"===r?100:200;const o=e.getSymbols(),u=m(e),c=[];for(const t of o)c.push(x(t,u,i,r,n,s));const p=await Promise.all(c);return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(p.reduce(g,0))}const p=[0,0,0,0];function l(t,e){return null==t?e:t}function f(t,e){return null==t.outline?e:l(t.outline.width,e)}const h={sdf:!0,code:99,metrics:_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_3__.AVERAGE_GLYPH_MOSAIC_ITEM.metrics,rect:new _symbols_cim_Rect_js__WEBPACK_IMPORTED_MODULE_2__["default"](0,0,24,24),page:0,textureBinding:2};function y(t){const e=t.text&&t.text.length;if(!e)return{glyphMosaicItems:[h]};const r=[];for(let i=0;i<e;i++)r.push({...h,code:t.text.charCodeAt(i)});return{glyphMosaicItems:r}}async function d(t,r,i,a,m,u){if("simple-marker"===t.type){const e=Math.max(l(t.size,12),r);return M(t)+e*o}if("picture-marker"===t.type){const e=Math.max(l(t.height,12),r),i=l(t.width,12)*(e/l(t.height,12))/2,n=e/2;return M(t)+Math.sqrt(i*i+n*n)}if("text"===t.type){const e=y(t);(0,_graphics_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_4__.getTextSymbolSize)(p,t.toJSON(),e);const r=Math.abs(p[0]),i=Math.abs(p[1]),s=p[2],a=p[3];return Math.max(r,i)+Math.max(s,a)}if("simple-line"===t.type){const e=t,i=Math.max(l(e.width,.75),r)/2;return e.marker?Math.max(6*e.width,2*r):i}if("simple-fill"===t.type||"picture-fill"===t.type)return Math.max(f(t,0),r)/2;if("cim"===t.type){const n={geometryType:a,fields:m,spatialReference:u},o={type:"cim",rendererKey:0,data:t.data,maxVVSize:r};await (0,_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_5__.expandSymbol)(o,n,i);const c=_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolHelper.getEnvelope(t.data,i);return c?Math.sqrt(c.width*c.width+c.height*c.height):0}return"web-style"===t.type?d(await t.fetchCIMSymbol(),r,i,a,m,u):0}async function x(t,e,r,i,n,s){return u(t)?Math.min(await d(t,e,r,i,n,s),75):0}function M(t){const e=l(t.xoffset,0),r=l(t.yoffset,0);return Math.sqrt(e*e+r*r)}function g(t,e){return Math.max(t,e)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "simplifyVVRenderer": () => (/* binding */ s),
/* harmony export */   "simplifyVisualVariables": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const o=8,t=o-2,r=_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.renderers.visualVariables.support.utils"),s=e=>{if(!("visualVariables"in e)||!e.visualVariables||!e.visualVariables.length)return e;const l=e.clone(),o=l.visualVariables.map((e=>n(e)?i(e):e));return l.visualVariables=o,l};function a(e){return e.map((e=>n(e)?i(e.clone()):e))}function n(e){return("size"===e.type||"color"===e.type||"opacity"===e.type)&&null!=e.stops}function i(e){return e.stops=b(e.type,e.stops),e}function u(e,l,o){return(1-o)*e+o*l}function c(e,o){const[r,...s]=o,a=s.pop(),n=s[0].value,i=s[s.length-1].value,c=(i-n)/t,p=[];for(let t=n;t<i;t+=c){let r=0;for(;t>=s[r].value;)r++;const a=s[r],n=o[r-1],i=t-n.value,c=a.value===n.value?1:i/(a.value-n.value);if("color"===e){const e=s[r],l=o[r-1],a=e.color.clone();a.r=u(l.color.r,a.r,c),a.g=u(l.color.g,a.g,c),a.b=u(l.color.b,a.b,c),a.a=u(l.color.a,a.a,c),p.push({value:t,color:a,label:e.label})}else if("size"===e){const e=s[r],a=o[r-1],n=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.toPt)(e.size),i=u((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.toPt)(a.size),n,c);p.push({value:t,size:i,label:e.label})}else{const e=s[r],l=u(o[r-1].opacity,e.opacity,c);p.push({value:t,opacity:l,label:e.label})}}return[r,...p,a]}function p(e){const[l,...o]=e,r=o.pop();for(;o.length>t;){let e=0,l=0;for(let t=1;t<o.length;t++){const r=o[t-1],s=o[t],a=Math.abs(s.value-r.value);a>l&&(l=a,e=t)}o.splice(e,1)}return[l,...o,r]}function b(e,l){return l.length<=o?l:(r.warn(`Found ${l.length} Visual Variable stops, but MapView only supports ${o}. Displayed stops will be simplified.`),l.length>2*o?c(e,l):p(l))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createOrReuseTileRenderer": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
async function e(e,a){if(!e)return null;switch(e.type){case"class-breaks":case"simple":case"unique-value":case"dot-density":case"dictionary":return new((await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_2d_layers_features_tileRenderers_SymbolTileRenderer_js").then(__webpack_require__.bind(__webpack_require__, /*! ./tileRenderers/SymbolTileRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js"))).default)(a);case"heatmap":return new((await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_2d_layers_features_tileRenderers_HeatmapTileRenderer_js").then(__webpack_require__.bind(__webpack_require__, /*! ./tileRenderers/HeatmapTileRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js"))).default)(a)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXEL_BUFFER": () => (/* binding */ u),
/* harmony export */   "TILE_SIZE": () => (/* binding */ c),
/* harmony export */   "getTextSymbolSize": () => (/* binding */ x),
/* harmony export */   "graphicGeometryToNumber": () => (/* binding */ y),
/* harmony export */   "intersectingInternationalDateline": () => (/* binding */ g),
/* harmony export */   "isMarkerSymbol": () => (/* binding */ h),
/* harmony export */   "isTextSymbol": () => (/* binding */ p),
/* harmony export */   "polygonFromExtent": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_BidiText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/BidiText.js */ "./node_modules/@arcgis/core/core/BidiText.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtilsCommon.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js");
/* harmony import */ var _engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../engine/webgl/alignmentUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../engine/webgl/mesh/templates/shapingUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const c=512,u=50;function g(e,t){if(!t.isWrappable)return null;const[n,i]=(0,_geometry_support_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.getSpatialReferenceMinMaxX)(t);return e[2]>i?[(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.create)([e[0],e[1],i,e[3]]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.create)([n,e[1],n+e[2]-i,e[3]])]:e[0]<n?[(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.create)([n,e[1],e[2],e[3]]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.create)([i-(n-e[0]),e[1],i,e[3]])]:null}function p(e){return"text"===e||"esriTS"===e}function h(e){return"simple-marker"===e||"picture-marker"===e||"esriSMS"===e||"esriPMS"===e}function y(e){switch((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.unwrap)(e.geometry).type){case"point":case"multipoint":return 0;case"polyline":return 1;case"polygon":case"extent":return 2}return 0}function x(t,i,r){var o,c,u;if(!r||0===r.glyphMosaicItems.length)return t;const g=(0,_core_BidiText_js__WEBPACK_IMPORTED_MODULE_0__.bidiText)(i.text)[1],p=r.glyphMosaicItems,h=(0,_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_8__.shapeGlyphs)(p,g,{scale:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)(i.font.size)/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_7__.GLYPH_SIZE,angle:null!=(o=i.angle)?o:0,xOffset:null!=(c=i.xoffset)?c:0,yOffset:null!=(u=i.yoffset)?u:0,hAlign:(0,_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.getXAnchorDirection)(i.horizontalAlignment||"center"),vAlign:(0,_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.getYAnchorDirection)(i.verticalAlignment||"baseline"),maxLineWidth:Math.max(32,Math.min(i.lineWidth||512,512)),lineHeight:_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_7__.MAGIC_LABEL_LINE_HEIGHT*Math.max(.25,Math.min(i.lineHeight||1,4)),decoration:i.font.decoration||"none",isCIM:!1}).bounds;return t[0]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)(h.x-h.halfWidth),t[1]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)(h.y-h.halfHeight),t[2]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)(h.width),t[3]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)(h.height),t}function d(e){if(!e)return null;const{xmin:t,ymin:n,xmax:r,ymax:o,spatialReference:s}=e;return new _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_3__["default"]({rings:[[[t,n],[t,o],[r,o],[r,n],[t,n]]],spatialReference:s})}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function n(e){return e.some((e=>e.globalId))}function d(e){return e.filter((e=>!e.error)).map((e=>{var r;return null!=(r=e.objectId)?r:e.globalId}))}function a(e,r){const s=new Set(e);for(const t of r.values())s.add(t);return s}function i(e,r){const s=new Set(e);for(const t of r.values())s.delete(t);return s}let u=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._hasGlobalIds=!1}normalizeCtorArgs(e){return this._queueProcessor=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:1,process:e.process}),{}}destroy(){this._queueProcessor.clear()}get updating(){return this._queueProcessor.length>0}push(e){const r=this._queueProcessor,s=r.last();switch(e.type){case"update":case"refresh":if((null==s?void 0:s.type)===e.type)return;r.push(e).finally((()=>this.notifyChange("updating")));break;case"edit":{const t="processed-edit"===(null==s?void 0:s.type)?s:null;t&&r.popLast();const o=this._mergeEdits(t,e);for(const e of o)r.push(e).finally((()=>this.notifyChange("updating")));break}}this.notifyChange("updating")}_mergeEdits(e,r){var s,t;const{addedFeatures:o,deletedFeatures:u,updatedFeatures:c}=r.edits;if(this._hasGlobalIds=this._hasGlobalIds||n(o)||n(c)||n(u),this._hasGlobalIds){return[e,{type:"processed-edit",edits:{addOrModified:[...o,...c],removed:u}}]}const l=new Set(d(null!=(s=null==e?void 0:e.edits.addOrModified)?s:[])),p=new Set(d(null!=(t=null==e?void 0:e.edits.removed)?t:[])),f=new Set([...d(o),...d(c)]),h=new Set(d(u));return[{type:"processed-edit",edits:{addOrModified:Array.from(a(i(l,h),f)).map((e=>({objectId:e}))),removed:Array.from(a(i(p,f),h)).map((e=>({objectId:e})))}}]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],u.prototype,"updating",null),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.support.FeatureCommandQueue")],u);const c=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureLayerProxy.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/FeatureLayerProxy.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_workers_workers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/workers/workers.js */ "./node_modules/@arcgis/core/core/workers/workers.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function c(e){return Array.isArray(e)}let l=class extends _core_Promise_js__WEBPACK_IMPORTED_MODULE_1__.EsriPromise{constructor(e){super(e),this._startupResolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.createResolver)(),this.isReady=!1}initialize(){this._controller=new AbortController,this.addResolvingPromise(this._startWorker(this._controller.signal))}destroy(){this._controller.abort(),this._connection&&this._connection.close()}set tileRenderer(e){this.client.tileRenderer=e}get closed(){return this._connection.closed}async startup(e,t,r,s){await this.when();const o=this._controller.signal,i=c(r.source)?{transferList:r.source,signal:o}:void 0,n={service:r,config:t,tileInfo:e.tileInfo.toJSON(),tiles:s};await this._connection.invoke("startup",n,i),this._startupResolver.resolve(),this._set("isReady",!0)}async updateTiles(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("updateTiles",e))}async update(e){const t={config:e};return await this._startupResolver.promise,this._connection.invoke("update",t)}async applyUpdate(e){return await this._startupResolver.promise,this._connection.invoke("applyUpdate",e)}async setHighlight(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.setHighlight",e))}async refresh(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.refresh",e))}async querySummaryStatistics(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.querySummaryStatistics",{query:e.toJSON(),params:t},r)}async queryUniqueValues(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryUniqueValues",{query:e.toJSON(),params:t},r)}async queryClassBreaks(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryClassBreaks",{query:e.toJSON(),params:t},r)}async queryHistogram(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryHistogram",{query:e.toJSON(),params:t},r)}async queryFeatures(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryFeatures",e.toJSON(),t)}async queryVisibleFeatures(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryVisibleFeatures",e.toJSON(),t)}async queryObjectIds(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryObjectIds",e.toJSON(),t)}async queryFeatureCount(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryFeatureCount",e.toJSON(),t)}async queryExtent(e,t){return this._connection.invoke("controller.queryExtent",e.toJSON(),t)}async queryLatestObservations(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryLatestObservations",e.toJSON(),t)}async queryStatistics(e){return await this._startupResolver.promise,this._connection.invoke("controller.queryStatistics",e)}async getObjectId(e){return await this._startupResolver.promise,this._connection.invoke("controller.getObjectId",e)}async getDisplayId(e){return await this._startupResolver.promise,this._connection.invoke("controller.getDisplayId",e)}async getFeatures(e){return await this._startupResolver.promise,this._connection.invoke("controller.getFeatures",e)}async getAggregates(){return await this._startupResolver.promise,this._connection.invoke("controller.getAggregates")}async getAggregateValueRanges(){return await this._startupResolver.promise,this._connection.invoke("controller.getAggregateValueRanges")}async mapValidDisplayIds(e){return await this._startupResolver.promise,this._connection.invoke("controller.mapValidDisplayIds",e)}async onEdits(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.onEdits",e))}async enableEvent(e,t){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.enableEvent",{name:e,value:t}))}async _startWorker(e){try{this._connection=await (0,_core_workers_workers_js__WEBPACK_IMPORTED_MODULE_3__.open)("Pipeline",{client:this.client,strategy:"dedicated",signal:e})}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfNotAbortError)(t)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],l.prototype,"isReady",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],l.prototype,"client",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],l.prototype,"tileRenderer",null),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.support.FeatureLayerProxy")],l);const u=l;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/cimSymbolUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/cimSymbolUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cimLayerToRasterizationInfo": () => (/* binding */ i),
/* harmony export */   "expandSymbol": () => (/* binding */ l),
/* harmony export */   "expandSymbols": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _symbols_cim_cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../symbols/cim/cimAnalyzer.js */ "./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js");
/* harmony import */ var _symbols_cim_ExpandedCIM_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../symbols/cim/ExpandedCIM.js */ "./node_modules/@arcgis/core/symbols/cim/ExpandedCIM.js");
/* harmony import */ var _webStyleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./webStyleUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/webStyleUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const r=async(e,t,a,r)=>Promise.all(e.map((e=>l(e,t,a,r)))),n=async(a,r,n)=>new _symbols_cim_ExpandedCIM_js__WEBPACK_IMPORTED_MODULE_1__.ExpandedCIM(await (0,_symbols_cim_cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_0__.analyzeCIMSymbol)(a.data,r,n),a.data,a.rendererKey,a.maxVVSize),l=async(e,t,r,l)=>{if(!e)return null;if("cim"===e.type)return n(e,t,r);if("web-style"===e.type){const i={type:"cim",data:await (0,_webStyleUtils_js__WEBPACK_IMPORTED_MODULE_2__.fetchCIMSymbolReference)(e,null,l),rendererKey:e.rendererKey,maxVVSize:e.maxVVSize};return n(i,t,r)}return e};function i(e){if(!e)return null;const{type:t,cim:a,url:r,materialHash:n}=e,l={cim:a,type:t,mosaicHash:n,url:r,size:null,dashTemplate:null,path:null,text:null,fontName:null};switch(t){case"marker":l.size=e.size,l.path=e.path;break;case"line":l.dashTemplate=e.dashTemplate;break;case"text":l.text=e.text,l.fontName=e.fontName}return l}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createClusterCountSizeVariable": () => (/* binding */ f),
/* harmony export */   "createClusterRenderer": () => (/* binding */ c),
/* harmony export */   "findSizeVV": () => (/* binding */ d),
/* harmony export */   "hasClusterCountVV": () => (/* binding */ p),
/* harmony export */   "isClusterCompatibleRenderer": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_MD5_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/MD5.js */ "./node_modules/@arcgis/core/core/MD5.js");
/* harmony import */ var _renderers_visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../renderers/visualVariables/SizeVariable.js */ "./node_modules/@arcgis/core/renderers/visualVariables/SizeVariable.js");
/* harmony import */ var _renderers_visualVariables_support_SizeStop_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../renderers/visualVariables/support/SizeStop.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/SizeStop.js");
/* harmony import */ var _engine_LevelDependentSizeVariable_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../engine/LevelDependentSizeVariable.js */ "./node_modules/@arcgis/core/views/2d/engine/LevelDependentSizeVariable.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const o=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.2d.layers.support.clusterUtils");_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"].add("esri-cluster-arcade-enabled",!0);const u=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-cluster-arcade-enabled"),c=(e,i,t,s)=>{const a=i.clone();if(!m(a))return a;if(t.fields)for(const r of t.fields)x(e,r);if("visualVariables"in a){const i=(a.visualVariables||[]).filter((e=>"$view.scale"!==e.valueExpression)),n=d(i);i.forEach((i=>{"rotation"===i.type?i.field?i.field=y(e,i.field,"avg_angle"):i.valueExpression&&(i.field=S(e,i.valueExpression,"avg_angle"),i.valueExpression=null):i.normalizationField?(i.field=y(e,i.field,"norm",i.normalizationField),i.normalizationField=null):i.field?i.field=y(e,i.field,"avg"):(i.field=S(e,i.valueExpression,"avg"),i.valueExpression=null)})),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isNone)(n)&&!p(i)&&(i.push(f(t,s)),a.dynamicClusterSize=!0),a.visualVariables=i}switch(a.type){case"simple":break;case"unique-value":a.field?a.field=y(e,a.field,"mode"):a.valueExpression&&(a.field=S(e,a.valueExpression,"mode"),a.valueExpression=null);break;case"class-breaks":a.normalizationField?(a.field=y(e,a.field,"norm",a.normalizationField),a.normalizationField=null):a.field?a.field=y(e,a.field,"avg"):(a.field=S(e,a.valueExpression,"avg"),a.valueExpression=null)}return a},d=e=>{for(const i of e)if("size"===i.type)return i;return null},p=e=>{for(const i of e)if("cluster_count"===i.field)return!0;return!1},f=(e,i)=>{const t=[new _renderers_visualVariables_support_SizeStop_js__WEBPACK_IMPORTED_MODULE_6__["default"]({value:0,size:0}),new _renderers_visualVariables_support_SizeStop_js__WEBPACK_IMPORTED_MODULE_6__["default"]({value:1})];if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isNone)(i))return new _renderers_visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_5__["default"]({field:"cluster_count",stops:[...t,new _renderers_visualVariables_support_SizeStop_js__WEBPACK_IMPORTED_MODULE_6__["default"]({value:2,size:0})]});const s=Object.keys(i).reduce(((r,s)=>({...r,[s]:[...t,new _renderers_visualVariables_support_SizeStop_js__WEBPACK_IMPORTED_MODULE_6__["default"]({value:Math.max(2,i[s].minValue),size:e.clusterMinSize}),new _renderers_visualVariables_support_SizeStop_js__WEBPACK_IMPORTED_MODULE_6__["default"]({value:Math.max(3,i[s].maxValue),size:e.clusterMaxSize})]})),{});return new _engine_LevelDependentSizeVariable_js__WEBPACK_IMPORTED_MODULE_7__.LevelDependentSizeVariable({field:"cluster_count",levels:s})},m=i=>{const t=t=>o.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("Unsupported-renderer",t,{renderer:i}));if("unique-value"===i.type){if(i.field2||i.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1}else if("class-breaks"===i.type){if(i.normalizationField){const e=i.normalizationType;if("field"!==e)return t(`FeatureReductionCluster does not support a normalizationType of ${e}`),!1}}else if("simple"!==i.type)return t(`FeatureReductionCluster does not support renderers of type ${i.type}`),!1;if(!u){if("valueExpression"in i&&i.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in i&&i.visualVariables||[]).some((e=>!(!("valueExpression"in e)||!e.valueExpression))))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function v(e,i,t){switch(e){case"avg":case"avg_angle":return`cluster_avg_${i}`;case"mode":return`cluster_type_${i}`;case"norm":{const e=t,r="field",a=i.toLowerCase()+",norm:"+r+","+e.toLowerCase();return"cluster_avg_"+(0,_core_MD5_js__WEBPACK_IMPORTED_MODULE_4__.createMD5Hash)(a)}}}function x(i,t){const{name:r,outStatistic:a}=t,{onStatisticField:n,onStatisticValueExpression:l,statisticType:u}=a;if(l){const e=(0,_core_MD5_js__WEBPACK_IMPORTED_MODULE_4__.createMD5Hash)(l.toLowerCase());i.push({name:r,outStatistic:{onStatisticField:e,onStatisticValueExpression:l,statisticType:u}})}else n?i.push({name:r,outStatistic:{onStatisticField:n,statisticType:u}}):o.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-unsupported-field","Unable to handle field",{field:t}))}function S(e,i,t){const r=(0,_core_MD5_js__WEBPACK_IMPORTED_MODULE_4__.createMD5Hash)(i),a="mode"===t?`cluster_type_${r}`:`cluster_avg_${r}`;return e.some((e=>e.name===a))||e.push({name:a,outStatistic:{onStatisticField:r,onStatisticValueExpression:i,statisticType:t}}),a}function y(e,i,t,r){if("cluster_count"===i||e.some((e=>e.name===i)))return i;const s=v(t,i,r);return e.some((e=>e.name===s))||("norm"===t?e.push({name:s,outStatistic:{onStatisticField:i,onStatisticNormalizationField:r,statisticType:t}}):e.push({name:s,outStatistic:{onStatisticField:i,statisticType:t}})),s}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/util.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/util.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "analyzeRings": () => (/* binding */ n),
/* harmony export */   "canUseMajorityInterpolationOnDataSource": () => (/* binding */ r),
/* harmony export */   "toJSONGeometryType": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const o=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function e(t){return o.toJSON(t)}function n(t,o,e){const n=[],r=[];let l=0,i=0;for(const s of t){const t=i;let u=s[0][0],c=s[0][1];n[i++]=u,n[i++]=c;let p=0;for(let o=1;o<s.length;++o){const t=u,e=c;u=s[o][0],c=s[o][1],p+=c*t-u*e,n[i++]=u,n[i++]=c}o(p/2),p>0?(t-l>0&&(e(l,t,n,r),l=t),r.length=0):p<0&&t-l>0?r.push(.5*(t-l)):i=t}i-l>0&&e(l,i,n,r)}function r(t){const{bandCount:o,attributeTable:e,colormap:n,pixelType:r}=t.rasterInfo;return 1===o&&(null!=e||null!=n||"u8"===r||"s8"===r)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/webStyleUtils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/webStyleUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchCIMSymbolReference": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/devEnvironmentUtils.js */ "./node_modules/@arcgis/core/core/devEnvironmentUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../portal/Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/persistableUrlUtils.js */ "./node_modules/@arcgis/core/chunks/persistableUrlUtils.js");
/* harmony import */ var _symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../symbols/support/styleUtils.js */ "./node_modules/@arcgis/core/symbols/support/styleUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
async function y(t,r,n){if(!t.name)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("style-symbol-reference-name-missing","Missing name in style symbol reference"));if(t.styleName&&"Esri2DPointSymbolsStyle"===t.styleName)return f(t,n);try{return p(await (0,_symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_6__.fetchStyle)(t,r,n),t.name,r,n)}catch(s){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(s),null}}async function f(t,r){const e=_symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_6__.Style2DUrlTemplate.replace(/\{SymbolName\}/gi,t.name);try{const t=await (0,_symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_6__.requestJSON)(e,r);return (0,_symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_6__.makeCIMSymbolRef)(t.data)}catch(n){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n),null}}async function p(m,a,y,f){const p=m.data,b={portal:y&&y.portal||_portal_Portal_js__WEBPACK_IMPORTED_MODULE_4__["default"].getDefault(),url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.urlToObject)(m.baseUrl),origin:"portal-item"},d=p.items.find((t=>t.name===a));if(!d){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("symbolstyleutils:symbol-name-not-found",`The symbol name '${a}' could not be found`,{symbolName:a})}let j=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_5__.f)((0,_symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_6__.symbolUrlFromStyleItem)(d,"cimRef"),b);(0,_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_0__.isDevEnvironment)()&&(j=(0,_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_0__.adjustStaticAGOUrl)(j));try{const t=await (0,_symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_6__.requestJSON)(j,f);return (0,_symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_6__.makeCIMSymbolRef)(t.data)}catch(U){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(U),null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileManager.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileManager.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TileManager": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _TileCoverage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const l=1e-6;class s{constructor(e){this._tiles=new Map,this.buffer=0,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this.buffer=e.buffer}destroy(){}clear(){this._tiles.forEach((e=>this._releaseTile(e)))}tileKeys(){const e=[];return this._tiles.forEach(((i,t)=>e.push(t))),e}update(e){const l=this.tileInfoView.getTileCoverage(e.state,this.buffer,"closest"),{spans:s,lodInfo:r}=l,{level:a}=r,o=[],d=[],h=new Set,n=new Set;for(const{row:i,colFrom:c,colTo:f}of s)for(let e=c;e<=f;e++){const l=_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].getId(a,i,r.normalizeCol(e),r.getWorldForColumn(e)),s=this._getOrAcquireTile(o,l);h.add(l),s.isReady?s.visible=!0:n.add(s.key)}n.forEach((e=>this._addPlaceholders(h,e))),this._tiles.forEach((e=>{h.has(e.key.id)||(d.push(e.key.id),this._releaseTile(e))})),_TileCoverage_js__WEBPACK_IMPORTED_MODULE_1__["default"].pool.release(l);return{hasMissingTiles:n.size>0,added:o,removed:d}}_getOrAcquireTile(e,i){if(!this._tiles.has(i)){const l=this.acquireTile(new _TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"](i));e.push(i),this._tiles.set(i,l),l.visible=!1}return this._tiles.get(i)}_getTile(e){return this._tiles.get(e)}_releaseTile(e){this._tiles.delete(e.key.id),this.releaseTile(e)}_addPlaceholders(e,i){const t=this._addPlaceholderChildren(e,i);if(!(Math.abs(1-t)<l)){if(!this._addPlaceholderParent(e,i)){this._getTile(i.id).visible=!0}}}_addPlaceholderChildren(e,i){let t=0;return this._tiles.forEach((l=>{t+=this._addPlaceholderChild(e,l,i)})),t}_addPlaceholderChild(e,i,t){if(i.key.level<=t.level||!i.hasData||!t.contains(i.key))return 0;i.visible=!0,e.add(i.key.id);return 1/(1<<2*(i.key.level-t.level))}_addPlaceholderParent(i,t){let l=t.getParentKey(),s=0,r=null;for(;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(l);){if(i.has(l.id))return!0;const e=this._getTile(l.id);if(null!=e&&e.isReady)return e.visible=!0,i.add(e.key.id),!0;null!=e&&e.hasData&&e.patchCount>s&&(s=e.patchCount,r=e),l=l.getParentKey()}return!!r&&(r.visible=!0,i.add(r.key.id),!0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/FeatureLayerView.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/FeatureLayerView.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureLayerView": () => (/* binding */ O),
/* harmony export */   "default": () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_deprecate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/deprecate.js */ "./node_modules/@arcgis/core/core/deprecate.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/watchUtils.js */ "./node_modules/@arcgis/core/core/watchUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _layers_support_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/support/FeatureEffect.js */ "./node_modules/@arcgis/core/layers/support/FeatureEffect.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/* harmony import */ var _support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/floorFilterUtils.js */ "./node_modules/@arcgis/core/views/support/floorFilterUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const P=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.views.layers.FeatureLayerView"),O=i=>{let O=class extends i{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_6__.init)(this,["layer.renderer","layer.labelingInfo","layer.elevationInfo.featureExpressionInfo","layer.displayField","filter","featureEffect","layer.timeInfo","layer.floorInfo","timeExtent"],(()=>this._handleRequiredFieldsChange()),!0),(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_6__.on)(this,"view.floors","change",(()=>this._handleRequiredFieldsChange())),(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_6__.on)(this,"layer.sublayer","change",(()=>this._handleRequiredFieldsChange()))}get availableFields(){const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return"outFields"in e&&e.outFields?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.fixFields)(t,[...(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.unpackFieldNames)(t,e.outFields),...r]):(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.fixFields)(t,r)}set effect(e){(0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_1__.deprecatedProperty)(P,"effect",{replacement:"featureEffect",version:"4.22"}),this.featureEffect=e}get effect(){return (0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_1__.deprecatedProperty)(P,"effect",{replacement:"featureEffect",version:"4.22"}),this.featureEffect}get featureEffect(){return this.layer&&"featureEffect"in this.layer?this.layer.featureEffect:null}set featureEffect(e){void 0!==e?this._override("featureEffect",e):this._clearOverride("featureEffect")}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){P.error("#maximumNumberOfFeatures=","Setting maximum number of features is not supported")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error("missing implementation")}createQuery(){const e={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(this.filter)?this.filter.createQuery(e):new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_16__["default"](e);if("feature"===this.layer.type){const e=(0,_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_19__.getFloorFilterClause)(this);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(e)&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(this.timeExtent)&&(t.timeExtent=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(t.timeExtent)?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}queryFeatures(e,t){throw new Error("missing implementation")}queryObjectIds(e,t){throw new Error("missing implementation")}queryFeatureCount(e,t){throw new Error("missing implementation")}queryExtent(e,t){throw new Error("missing implementation")}async fetchPopupFeatures(e,t){const r=this.validateFetchPopupFeatures(t);if(r)throw r;return this.fetchClientPopupFeatures(t)}_loadArcadeModules(e){if(e.get("expressionInfos.length")||Array.isArray(e.content)&&e.content.some((e=>"expression"===e.type)))return (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_17__.loadArcade)()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set("_updatingRequiredFieldsPromise",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set("_updatingRequiredFieldsPromise",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e="3d"===this.view.type,{layer:t,layer:{fieldsIndex:r,objectIdField:i}}=this,o="renderer"in t&&t.renderer,n="orderBy"in t&&t.orderBy,l=t.featureReduction,u=new Set,p=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.eachAlways)([o?o.collectRequiredFields(u,r):null,(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectLabelingFields)(u,t),e?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectElevationFields)(u,t):null,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(this.filter)?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectFilterFields)(u,t,this.filter):null,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(this.featureEffect)?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectFilterFields)(u,t,this.featureEffect.filter):null,l?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectFeatureReductionFields)(u,t,l):null,n?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectOrderByInfos)(u,t,n):null]);if(t.timeInfo&&this.timeExtent&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectFields)(u,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),"feature"===t.type&&t.floorInfo&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectFields)(u,t.fieldsIndex,[t.floorInfo.floorField]),"subtype-group"===t.type){(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectField)(u,r,t.subtypeField);const e=t.sublayers.map((e=>{var t;return Promise.all([null==(t=e.renderer)?void 0:t.collectRequiredFields(u,r),(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectLabelingFields)(u,e)])}));await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.eachAlways)(e)}for(const s of p)s.error&&P.error(s.error);(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectField)(u,r,i),e&&"displayField"in t&&t.displayField&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.collectField)(u,r,t.displayField);const f=Array.from(u).sort();this._set("requiredFields",f)}validateFetchPopupFeatures(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(e))return null;for(const t of e.clientGraphics){const i=t.layer;if("popupEnabled"in i&&!i.popupEnabled)return new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("featurelayerview:fetchPopupFeatures","Popups are disabled",{layer:i});if("popupTemplate"in i){if(!(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_18__.getFetchPopupTemplate)(i,e))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("featurelayerview:fetchPopupFeatures","Layer does not define a popup template",{layer:i})}if(t.isAggregate&&!(i.featureReduction&&"popupTemplate"in i.featureReduction&&i.featureReduction.popupEnabled&&i.featureReduction.popupTemplate))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("featurelayerview:fetchPopupFeatures","Popups are disabled",{layer:i})}}async fetchClientPopupFeatures(e){const t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(e)?e.clientGraphics:null;if(!t||0===t.length)return[];const r=new Array(t.length),i=new Map,o=await this.createPopupQuery(e);for(let a=0;a<t.length;a++){const n=t[a];if(n.isAggregate){r[a]=n;continue}const{layer:l}=n;if(!("popupEnabled"in l))continue;const u=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.unpackFieldNames)(this.layer.fieldsIndex,o.outFields),p=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_18__.getFetchPopupTemplate)(l,e);if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(p))continue;const f=await this._loadArcadeModules(p);f&&f.arcadeUtils.hasGeometryOperations(p)||!(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.featureHasFields)(u,n)?i.set(n.getObjectId(),a):r[a]=n}if("stream"===this.layer.type||0===i.size)return r.filter(Boolean);o.objectIds=Array.from(i.keys());try{const e=await this.layer.queryFeatures(o);for(const t of e.features){r[i.get(t.getObjectId())]=t}}catch{}return r.filter(Boolean)}async createPopupQuery(e){const t=this.layer.createQuery(),r=new Set;let i=!1;const o=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(e)&&e.clientGraphics?e.clientGraphics.map((e=>e.layer)):[this.layer];for(const a of o){if(!("popupEnabled"in a))continue;const t=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_18__.getFetchPopupTemplate)(a,e);if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(t))continue;const o=await this._loadArcadeModules(t),n=o&&o.arcadeUtils.hasGeometryOperations(t);i=!("point"!==this.layer.geometryType&&!n);const l=await (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_18__.getRequiredFields)(this.layer,t);for(const e of l)r.add(e)}if(t.returnGeometry=i,t.returnZ=i,t.returnM=i,t.outFields=Array.from(r),t.outSpatialReference=this.view.spatialReference,"feature"===this.layer.type){const e=(0,_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_19__.getFloorFilterClause)(this);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(e)&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return t}canResume(){return!!super.canResume()&&(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(this.timeExtent)||!this.timeExtent.isEmpty)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"_updatingRequiredFieldsPromise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],O.prototype,"availableFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"effect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:_layers_support_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_13__["default"]})],O.prototype,"featureEffect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_14__["default"]})],O.prototype,"filter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_12__.combinedViewLayerTimeExtentProperty)],O.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Number})],O.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,type:Boolean})],O.prototype,"maximumNumberOfFeaturesExceeded",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],O.prototype,"requiredFields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"view",void 0),O=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.FeatureLayerView")],O),O};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let d=class extends((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_3__.HandleOwnerMixin)((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_4__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_7__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer&&this.layer.title||"no title";throw _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.unwrapOr)(this.get("layer.opacity"),1)*(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.unwrapOr)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var e;return!0===(null==(e=this.layer)?void 0:e.visible)}set visible(e){void 0!==e?this._override("visible",e):this._clearOverride("visible")}canResume(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],d.prototype,"visible",null),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RefreshableLayerView": () => (/* binding */ i),
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/watchUtils.js */ "./node_modules/@arcgis/core/core/watchUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const i=i=>{let c=class extends i{initialize(){this.handles.add((0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)(this,"layer","refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this.declaredClass).error(r)}))})),"RefreshableLayerView")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"layer",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.mixins.RefreshableLayerView")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/ClipArea.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/ClipArea.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_set_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/set.js */ "./node_modules/@arcgis/core/core/accessorSupport/set.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let e=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{};e=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.layers.support.ClipArea")],e);const t=e;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/ClipRect.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/ClipRect.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _ClipArea_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ClipArea.js */ "./node_modules/@arcgis/core/views/layers/support/ClipArea.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
var s;let i=s=class extends _ClipArea_js__WEBPACK_IMPORTED_MODULE_6__["default"]{constructor(){super(...arguments),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get("version")||0)+1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({type:[Number,String],json:{write:!0}})],i.prototype,"left",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({type:[Number,String],json:{write:!0}})],i.prototype,"right",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({type:[Number,String],json:{write:!0}})],i.prototype,"top",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({type:[Number,String],json:{write:!0}})],i.prototype,"bottom",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],i.prototype,"version",null),i=s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.layers.support.ClipRect")],i);const p=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/Geometry.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/Geometry.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/Geometry.js */ "./node_modules/@arcgis/core/geometry/Geometry.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _ClipArea_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ClipArea.js */ "./node_modules/@arcgis/core/views/layers/support/ClipArea.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
var y;const n={base:_geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_7__["default"],key:"type",typeMap:{extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__["default"],polygon:_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_11__["default"]}};let c=y=class extends _ClipArea_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(){super(...arguments),this.type="geometry",this.geometry=null}get version(){return(this._get("version")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({types:n,json:{read:_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_8__.fromJSON,write:!0}})],c.prototype,"geometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],c.prototype,"version",null),c=y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.layers.support.Geometry")],c);const a=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/Path.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/Path.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _ClipArea_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ClipArea.js */ "./node_modules/@arcgis/core/views/layers/support/ClipArea.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let e=class extends _ClipArea_js__WEBPACK_IMPORTED_MODULE_6__["default"]{constructor(){super(...arguments),this.type="path",this.path=[]}get version(){return(this._get("version")||0)+1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({type:[[[Number]]],json:{write:!0}})],e.prototype,"path",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],e.prototype,"version",null),e=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.layers.support.Path")],e);const p=e;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFetchPopupTemplate": () => (/* binding */ d),
/* harmony export */   "getRequiredFields": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
async function t(t,d=t.popupTemplate){if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes("*"))return["*"];const f=n?await (0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.getFeatureEditFields)(t):[],r=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.fixFields)(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(l)&&l.defaultPopupTemplateEnabled&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/drapedUtils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/drapedUtils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createQueryGeometry": () => (/* binding */ a),
/* harmony export */   "intersectsDrapedGeometry": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../renderers/support/clickToleranceUtils.js */ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function a(t,n,a,o=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__["default"]){let s;if("2d"===a.type)s=n*a.resolution;else if("3d"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isSome)(o)&&!o.equals(a.spatialReference)?(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__.getMetersPerUnitForSR)(o)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__.getMetersPerUnitForSR)(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isNone)(o))return!1;return a(o,(0,_renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_3__.calculateTolerance)(),i,s).intersects(r)}const s=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__["default"];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/Texture.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/Texture.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _checkWebGLError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./checkWebGLError.js */ "./node_modules/@arcgis/core/views/webgl/checkWebGLError.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./capabilities/isWebGL2Context.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const s=4;class o{constructor(t,e,i=null){this._context=t,this.type="texture",this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,t.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_3__.ResourceType.Texture,this),this._descriptor={target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1,...e},34067===this._descriptor.target?this.setDataCubeMap(i):this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}dispose(){this._context.gl&&this._glName&&(this._context.unbindTextureAllUnits(this),this._context.gl.deleteTexture(this._glName),this._glName=null,this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_3__.ResourceType.Texture,this))}release(){this.dispose()}resize(t,e){const i=this._descriptor;i.width===t&&i.height===e||(i.width=t,i.height=e,34067===this._descriptor.target?this.setDataCubeMap(null):this.setData(null))}setDataCubeMap(t=null){for(let e=34069;e<=34074;e++)this.setData(t,e)}setData(t,a=3553){if(!this._context||!this._context.gl)return;const r=this._context.gl;this._glName||(this._glName=r.createTexture()),void 0===t&&(t=null),null===t&&(this._descriptor.width=this._descriptor.width||s,this._descriptor.height=this._descriptor.height||s);const p=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES),h=this._descriptor;o._validateTexture(this._context,h),r.pixelStorei(r.UNPACK_ALIGNMENT,h.unpackAlignment),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,h.flipped?1:0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.preMultiplyAlpha?1:0);const l=h.pixelFormat;let d=h.internalFormat?h.internalFormat:this._deriveInternalFormat(l,h.dataType);if(t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement){let e=t.width,s=t.height;t instanceof HTMLVideoElement&&(e=t.videoWidth,s=t.videoHeight),h.width&&h.height,r.texImage2D(a,0,d,l,h.dataType,t),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_2__.checkWebGLError)(r),h.hasMipmap&&this.generateMipmap(),void 0===h.width&&(h.width=e),void 0===h.height&&(h.height=s)}else{null!=h.width&&null!=h.height||console.error("Width and height must be specified!"),r.DEPTH24_STENCIL8&&d===r.DEPTH_STENCIL&&(d=r.DEPTH24_STENCIL8);let s=h.width,o=h.height;if(n(t)){const e=Math.round(Math.log(Math.max(s,o))/Math.LN2)+1;h.hasMipmap=h.hasMipmap&&e===t.levels.length;for(let i=0;;++i){const e=t.levels[Math.min(i,t.levels.length-1)];if(r.compressedTexImage2D(a,i,d,s,o,0,e),1===s&&1===o||!h.hasMipmap)break;s=Math.max(1,s>>1),o=Math.max(1,o>>1)}}else if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isSome)(t))r.texImage2D(a,0,d,s,o,0,l,h.dataType,t),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_2__.checkWebGLError)(r),h.hasMipmap&&this.generateMipmap();else for(let t=0;r.texImage2D(a,t,d,s,o,0,l,h.dataType,null),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_2__.checkWebGLError)(r),(1!==s||1!==o)&&h.hasMipmap;++t)s=Math.max(1,s>>1),o=Math.max(1,o>>1)}o._applySamplingMode(r,this._descriptor),o._applyWrapMode(r,this._descriptor),o._applyAnisotropicFilteringParameters(this._context,this._descriptor),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_2__.checkWebGLError)(r),this._context.bindTexture(p,o.TEXTURE_UNIT_FOR_UPDATES)}updateData(t,e,i,a,r,s,n=3553){s||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const p=this._context.gl,h=this._descriptor,l=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES);(e<0||i<0||a>h.width||r>h.height||e+a>h.width||i+r>h.height)&&console.error("An attempt to update out of bounds of the texture!"),p.pixelStorei(p.UNPACK_ALIGNMENT,h.unpackAlignment),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,h.flipped?1:0),p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.preMultiplyAlpha?1:0),s instanceof ImageData||s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement?p.texSubImage2D(n,t,e,i,h.pixelFormat,h.dataType,s):p.texSubImage2D(n,t,e,i,a,r,h.pixelFormat,h.dataType,s),this._context.bindTexture(l,o.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,o._validateTexture(this._context,t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);const e=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES);this._context.gl.generateMipmap(t.target),this._context.bindTexture(e,o.TEXTURE_UNIT_FOR_UPDATES)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,o._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const t=this._context.gl,e=this._descriptor;this._samplingModeDirty&&(o._applySamplingMode(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(o._applyWrapMode(t,e),this._wrapModeDirty=!1)}_deriveInternalFormat(t,e){if("webgl"===this._context.webglVersion)return t;if(5126===e)switch(t){case 6408:return 34836;case 6407:return 34837;default:throw new Error("Unable to derive format")}return t}static _validateTexture(e,i){(i.width<0||i.height<0)&&console.error("Negative dimension parameters are not allowed!");const a=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPowerOfTwo)(i.width)&&(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPowerOfTwo)(i.height);(0,_capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_4__["default"])(e.gl)||a||("number"==typeof i.wrapMode?33071!==i.wrapMode&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"):33071===i.wrapMode.s&&33071===i.wrapMode.t||console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),i.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))}static _applySamplingMode(t,e){let i=e.samplingMode,a=e.samplingMode;9985===i||9987===i?(i=9729,e.hasMipmap||(a=9729)):9984!==i&&9986!==i||(i=9728,e.hasMipmap||(a=9728)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,i),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,a)}static _applyWrapMode(t,e){"number"==typeof e.wrapMode?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}static _applyAnisotropicFilteringParameters(t,e){var i;const a=t.capabilities.textureFilterAnisotropic;if(!a)return;t.gl.texParameterf(e.target,a.TEXTURE_MAX_ANISOTROPY,null!=(i=e.maxAnisotropy)?i:1)}}function n(t){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isSome)(t)&&"type"in t&&"compressed"===t.type}o.TEXTURE_UNIT_FOR_UPDATES=0;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function n(n){return window.WebGL2RenderingContext&&n instanceof window.WebGL2RenderingContext}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/checkWebGLError.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/checkWebGLError.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkWebGLError": () => (/* binding */ s),
/* harmony export */   "hasFeatureFlagWebGLDebug": () => (/* binding */ a),
/* harmony export */   "webglDebugEnabled": () => (/* binding */ u),
/* harmony export */   "webglValidateShadersEnabled": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const n=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri/views/webgl");function o(e,r){switch(r){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const a=!!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:webgl-debug");function u(){return a}function c(){return a}function s(r){if(u()){const t=r.getError();if(t){const a=o(r,t),u=(new Error).stack;n.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-error","WebGL error occured",{message:a,stack:u}))}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/enums.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/enums.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BASE_TEXTURE_UNIT": () => (/* binding */ e),
/* harmony export */   "DepthStencilAttachment": () => (/* binding */ f),
/* harmony export */   "ResourceType": () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const e=33984;var r;!function(e){e[e.Texture=0]="Texture",e[e.Buffer=1]="Buffer",e[e.VAO=2]="VAO",e[e.VertexShader=3]="VertexShader",e[e.FragmentShader=4]="FragmentShader",e[e.Program=5]="Program",e[e.Framebuffer=6]="Framebuffer",e[e.Renderbuffer=7]="Renderbuffer",e[e.COUNT=8]="COUNT"}(r||(r={}));const f=33306;


/***/ })

}]);